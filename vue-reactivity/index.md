# æ·±å…¥ç†è§£ Vue æ•°æ®å“åº”å¼


<!--more-->



## ç›¸å…³æ–‡ç« ï¼ˆå‚è€ƒï¼‰

[Vueå“åº”å¼åŸç†-ç†è§£Observerã€Depã€Watcher](https://g.yuque.com/weixiaozhudelaocaipi/yy8wge/vn5cw7)

[æ·±å…¥å“åº”å¼åŸç†â€”â€” Vue å®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/v2/guide/reactivity.html#%E5%A6%82%E4%BD%95%E8%BF%BD%E8%B8%AA%E5%8F%98%E5%8C%96)

[Vue3å°†è¦ä½¿ç”¨Proxyä½œä¸ºæ•°æ®é©±åŠ¨ï¼Œä¸æƒ³è¿›æ¥çœ‹çœ‹å—ï¼Ÿ](https://www.codenong.com/j5e5e70f751882548ff3/)

[vue3.0å°é²œ -- æ‘’å¼ƒObject.definePropertyï¼ŒåŸºäº Proxy çš„è§‚å¯Ÿè€…æœºåˆ¶æ¢ç´¢](https://g.yuque.com/weixiaozhudelaocaipi/yy8wge/pi0dhp?language=en-us)

[åˆ©ç”¨Proxyè‡ªåŠ¨æ·»åŠ å“åº”å¼å±æ€§](https://segmentfault.com/a/1190000016028331)

[è¯¦è§£Vueå“åº”å¼åŸç†](https://blog.fundebug.com/2019/07/10/responsive-vue/)

[ä½ çœŸçš„ç†è§£Vueçš„æ•°æ®å“åº”å¼å—](https://zhuanlan.zhihu.com/p/143933911)

â€‹	

## ä»€ä¹ˆæ˜¯æ•°æ®å“åº”å¼

### å“åº”

â€œå“åº”â€ï¼Œä¸­æ–‡çš„æ„æ€ä¹Ÿå°±æ˜¯â€œå›åº”â€ã€‚æ¯”å¦‚ï¼Œåˆ«äººå«ä½ ä¸€å£°æˆ–è€…ç»™ä½ å‘æ¶ˆæ¯ï¼Œä½ å›å¤äº†ä»–ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å«å“åº”ã€‚

### æ•°æ®å“åº”å¼

[Vue çš„å®˜æ–¹æ–‡æ¡£](https://link.zhihu.com/?target=https%3A//cn.vuejs.org/v2/guide/reactivity.html)å·²ç»å¾ˆæ˜ç¡®çš„å‘Šè¯‰æˆ‘ä»¬ï¼š 

+   åªè¦ä¿®æ”¹æ•°æ® dataï¼ˆ`render(data)` åšå‡ºå“åº”ï¼‰å°±ä¼šé‡æ–°æ¸²æŸ“è§†å›¾ï¼ˆä¸éœ€è¦å¼€å‘è€…å†å»æ“ä½œ DOMï¼‰
+   è¿™ä¸ªè”åŠ¨çš„è¿‡ç¨‹ï¼Œå°±æ˜¯ vue çš„æ•°æ®å“åº”å¼
+   è¿™ä¹Ÿæ˜¯ Vue æœ€ç‹¬ç‰¹çš„ç‰¹æ€§ä¹‹ä¸€ â€”â€” **éä¾µå…¥æ€§çš„å“åº”å¼ç³»ç»Ÿ**ã€‚

#### æ€ä¹ˆç†è§£â€œéä¾µå…¥æ€§â€

æˆ‘è§‰å¾—ï¼Œå¯ä»¥ç†è§£ä¸ºâ€œä¸å¯ç¯¡æ”¹çš„â€ï¼š

+   å³ç”¨æˆ·æ— æ³•ç»•è¿‡ Vue çš„ç›‘å¬ï¼Œå»ç¯¡æ”¹å†…éƒ¨æ•°æ®
+   Vue åšåˆ°äº†ã€Œæ— è®ºç”¨æˆ·ä»¥ä»»ä½•æ–¹å¼ä¿®æ”¹ data ä¸­çš„å†…éƒ¨æ•°æ®ï¼Œéƒ½ä¼šè¢«å½“å‰ Vue ç»„ä»¶ç›‘å¬åˆ°ï¼Œå¹¶é€šçŸ¥å¯¹åº”çš„ watcherï¼Œä»è€Œé‡æ–°æ¸²æŸ“ä¸æ•°æ®å…³è”çš„ç»„ä»¶ã€
+   æ‹“å±•ï¼šè¯¥ç‰¹æ€§ä¾é ã€Œä»£ç† proxyã€å®ç°

â€‹	

## æµ…æã€ŒVue å“åº”å¼åŸç†ã€

>   Vue æ˜¯é€šè¿‡ Object.defineProperty æ¥å®ç°æ•°æ®å“åº”å¼

å½“æˆ‘ä»¬æŠŠä¸€ä¸ªå¯¹è±¡ä½œä¸º data é€‰é¡¹ä¼ å…¥ Vue å®ä¾‹ï¼ŒVue ä¼šéå† data ä¸­çš„æ‰€æœ‰å±æ€§ï¼Œå¹¶ç”¨ Object.defineProperty å¯¹è¿™äº›å±æ€§è¿›è¡Œæ”¹é€ ï¼Œ**ç”¨ getter / setter ç›‘æ§æ¯ä¸ªå±æ€§çš„è¯»å†™**ã€‚

æ¯ä¸ªç»„ä»¶å®ä¾‹éƒ½å¯¹åº”ä¸€ä¸ª watcher å®ä¾‹ï¼Œå®ƒä¼šæ ¹æ® getter çš„è§¦å‘æ¥è®°å½•æ¸²æŸ“è§†å›¾ç”¨åˆ°çš„æ•°æ®ä¾èµ–é¡¹ã€‚**å½“è¿™äº›æ•°æ®çš„ setter è§¦å‘ï¼ˆæ•°æ®è¢«ä¿®æ”¹ï¼‰æ—¶**ï¼Œä¼šé€šçŸ¥ watcherï¼Œä»è€Œ**ä½¿æ•°æ®å…³è”çš„ç»„ä»¶é‡æ–°æ¸²æŸ“**ã€‚

<img src="https://imgsubmit.oss-cn-beijing.aliyuncs.com/img/data.png" alt="data" style="zoom:50%;" />

>   [å¦‚ä½•è¿½è¸ªå˜åŒ–](https://cn.vuejs.org/v2/guide/reactivity.html#%E5%A6%82%E4%BD%95%E8%BF%BD%E8%B8%AA%E5%8F%98%E5%8C%96)
>
>   -   å½“ä½ æŠŠä¸€ä¸ªæ™®é€šçš„ JavaScript å¯¹è±¡ä¼ å…¥ Vue å®ä¾‹ä½œä¸º data é€‰é¡¹ï¼ŒVue å°†éå†æ­¤å¯¹è±¡æ‰€æœ‰çš„ propertyï¼Œå¹¶ä½¿ç”¨ Object.defineProperty æŠŠè¿™äº› property å…¨éƒ¨è½¬ä¸º getter/setterã€‚
>   -   è¿™äº› getter/setter å¯¹ç”¨æˆ·æ¥è¯´æ˜¯ä¸å¯è§çš„ï¼Œä½†æ˜¯åœ¨å†…éƒ¨å®ƒä»¬è®© Vue èƒ½å¤Ÿè¿½è¸ªä¾èµ–ï¼Œåœ¨ property è¢«è®¿é—®å’Œä¿®æ”¹æ—¶é€šçŸ¥å˜æ›´ã€‚
>   -   æ¯ä¸ªç»„ä»¶å®ä¾‹éƒ½å¯¹åº”ä¸€ä¸ª watcher å®ä¾‹ï¼Œå®ƒä¼šåœ¨ç»„ä»¶æ¸²æŸ“çš„è¿‡ç¨‹ä¸­æŠŠâ€œæ¥è§¦â€è¿‡çš„æ•°æ® property è®°å½•ä¸ºä¾èµ–ã€‚ä¹‹åå½“ä¾èµ–é¡¹çš„ setter è§¦å‘æ—¶ï¼Œä¼šé€šçŸ¥ watcherï¼Œä»è€Œä½¿å®ƒå…³è”çš„ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚



## æ·±å…¥å“åº”å¼åŸç†

### æ™®é€šå¯¹è±¡ ğŸ†š ä¼ å…¥ Vue çš„æ™®é€šå¯¹è±¡

```js
const myData = { // myData æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡
  n: 0
}
console.log(myData)  // ï¼ˆè¾“å‡ºå¦‚ä¸‹å›¾ï¼‰
```

<img src="https://imgsubmit.oss-cn-beijing.aliyuncs.com/img/image-20201229170817094.png" alt="image-20201229170817094" style="zoom:80%;" />

```js
const myData = { // myData æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡
  n: 0
}
new Vue({
  data: myData  // æŠŠ myData ä½œä¸º data é€‰é¡¹ï¼Œä¼ å…¥ Vue å®ä¾‹
})
console.log(myData) // çœ‹çœ‹ç°åœ¨çš„ myData æ˜¯ä»€ä¹ˆæ ·å­ï¼ˆè¾“å‡ºå¦‚ä¸‹å›¾ï¼‰
```

<img src="https://imgsubmit.oss-cn-beijing.aliyuncs.com/img/image-20201229171546578.png" alt="image-20201229171546578" style="zoom:80%;" />

### Vue å¯¹ data åšäº†ä»€ä¹ˆ

>   Vue æœ€ç‹¬ç‰¹çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œæ˜¯å…¶éä¾µå…¥æ€§çš„å“åº”å¼ç³»ç»Ÿã€‚æ•°æ®æ¨¡å‹ä»…ä»…æ˜¯æ™®é€šçš„ JavaScript å¯¹è±¡ã€‚è€Œå½“ä½ ä¿®æ”¹å®ƒä»¬æ—¶ï¼Œè§†å›¾ä¼šè¿›è¡Œæ›´æ–°ã€‚

å½“æˆ‘ä»¬æŠŠ data é€‰é¡¹ä¼ å…¥ Vue å®ä¾‹ï¼ŒVue ä¼šéå† data ä¸­çš„æ‰€æœ‰å±æ€§ï¼ˆpropertyï¼‰ï¼Œè¿›è¡Œã€Œç›‘å¬å’Œä»£ç†ã€

+   **ç›‘å¬ï¼šæ•°æ®å“åº”å¼çš„åº•å±‚ç»†èŠ‚**
+   ä»£ç†ï¼šä¸æš´éœ²ä»»ä½•æ¥å£ï¼Œé˜²æ­¢ç”¨æˆ·ç¯¡æ”¹æ•°æ®

ä»è€Œå°†è¿™äº›æ•°æ®æ”¹é€ æˆéä¾µå…¥æ€§çš„å“åº”å¼æ•°æ®

â€‹	

### å‰ç½®çŸ¥è¯†

#### Object.defineProperty

>   [MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty)ï¼š`Object.defineProperty()` æ–¹æ³•ä¼šç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„ç°æœ‰å±æ€§ï¼Œå¹¶è¿”å›æ­¤å¯¹è±¡ã€‚

**ä½¿ç”¨æ–¹å¼**

```js
Object.defineProperty(obj, prop, descriptor)
// obj ä»£è¡¨å®šä¹‰å±æ€§çš„å¯¹è±¡ï¼›prop ä»£è¡¨å®šä¹‰çš„å±æ€§åç§°ï¼›descriptor ä»£è¡¨å®šä¹‰çš„å†…å®¹ã€‚
```

>   éœ€æ±‚ â­•ï¸ ç”¨ Object.defineProperty æ·»åŠ å±æ€§ nï¼Œå€¼ä¸º 0

```js
let data1 = {}
Object.defineProperty(data1, "n", {  // è¡¨ç¤ºå‘ å¯¹è±¡data1 ä¸­æ·»åŠ å±æ€§ "n"ï¼Œå€¼ä¸º 0
  value: 0
}) 
console.log(data1)    // { n: 0 }
console.log(data1.n)  // 0
```

<img src="https://imgsubmit.oss-cn-beijing.aliyuncs.com/img/image-20201229231800071.png" alt="image-20201229231800071" style="zoom:67%;" />

#### getter / setter

>   [MDNï¼šgetter/setter æè¿° ](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty#%E6%8F%8F%E8%BF%B0)ã€[ç¤ºä¾‹](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty#%E8%87%AA%E5%AE%9A%E4%B9%89_Setters_%E5%92%8C_Getters)
>
>   -   getï¼šå±æ€§çš„ getter å‡½æ•°ã€‚å½“è®¿é—®è¯¥å±æ€§æ—¶ï¼Œä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚ä¸ä¼ å…¥ä»»ä½•å‚æ•°
>   -   setï¼šå±æ€§çš„ setter å‡½æ•°ã€‚å½“å±æ€§å€¼è¢«ä¿®æ”¹æ—¶ï¼Œä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚æ¥å—ä¸€ä¸ªå‚æ•°ï¼ˆä¹Ÿå°±æ˜¯è¢«èµ‹äºˆçš„æ–°å€¼ï¼‰

>   éœ€æ±‚ â­•ï¸ ç”¨ Object.defineProperty æ·»åŠ å±æ€§ nï¼Œå¹¶ç›‘å¬ n çš„è¯»å–ã€‚
>
>   +   ä½¿ç”¨ Object.defineProperty æŠŠè¿™äº› property å…¨éƒ¨è½¬ä¸º getter/setterã€‚
>   +   è®¾ç½® getter / setterï¼Œå½“æˆ‘ä»¬è¯»å– n æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œ getterï¼Œä¿®æ”¹ n æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œ setter

```js
let data2 = {}
data2._n = 0  // æ·»åŠ ä¸€ä¸ªåª’ä»‹å±æ€§ _n ç”¨äºå­˜å‚¨ n çš„åŸå€¼ 0
Object.defineProperty(data2, "n", {
  get() {
    // return this.n ä¸ºä»€ä¹ˆ getter ä¸ç›´æ¥è¿”å› this.nï¼Œè€Œéœ€è¦é¢å¤–å£°æ˜ä¸€ä¸ªå±æ€§ _nï¼Œè¿™ä¸å¤šæ­¤ä¸€ä¸¾å— ï¼Ÿ
    return this._n
  },
  set(value) {
    this._n = value
  }
})
console.log(data2.n) // 0
```

>   ç–‘é—®ï¼šä¸ºä»€ä¹ˆ getter ä¸ç›´æ¥è¿”å› this.nï¼Œè€Œéœ€è¦é¢å¤–å£°æ˜  _n æ¥å­˜å‚¨ä¸‹ n å€¼ï¼Œå¹¶ç”¨ _n ä½œä¸ºä¸­è½¬å‘¢ ï¼Ÿ

åŸå› ï¼š

-   æ‰€æœ‰è¯»å– n çš„æ“ä½œï¼ˆdata2.nã€this.nï¼‰ï¼Œéƒ½ä¼šè‡ªåŠ¨è°ƒå– getter æ–¹æ³•çš„è¿”å›å€¼ï¼Œä½œä¸º n å€¼
-   å¦‚æœè¯»å– n æ—¶ï¼Œgetter è¿”å› this.nï¼Œthis.n ä»æ˜¯è¯»å– n å€¼çš„æ“ä½œï¼Œä¼šæ¥ç€è‡ªåŠ¨è·å– getter è¿”å›å€¼ï¼Œäºæ˜¯è¿™å°±æˆäº†ä¸€ä¸ªã€Œæ­»å¾ªç¯ã€ï¼Œä¸åœçš„è¯»å– nï¼Œå§‹ç»ˆæ‹¿ä¸åˆ°ç»ˆå€¼
-   æ‰€ä»¥å£°æ˜ä¸€ä¸ªåª’ä»‹å±æ€§ _n æ¥å­˜å‚¨ n å€¼ã€‚å½“è¯»å– n æ—¶ï¼Œgetter è¿”å› _n å€¼ï¼Œå†™å…¥ n æ—¶ setter ä¿®æ”¹ _n å€¼

â€‹	

>   ç–‘æƒ‘ï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥åœ¨å£°æ˜å¯¹è±¡æ—¶å°±å®šä¹‰å±æ€§ `n : 0` ï¼Œç”¨ Object.defineProperty ä¸æ˜¯æŠŠè¿‡ç¨‹å¤æ‚åŒ–äº†å— ï¼Ÿ
>
>   ```js
>   let data1 = { n: 0 } 
>   console.log(data1.n)  // 0
>   data1.n = 100
>   console.log(data1.n)  // 100
>   ```
>
>   å­—é¢é‡å½¢å¼åˆ›å»ºå¯¹è±¡ï¼Œæ˜“è¯»æ˜“å†™ï¼Œéš¾é“ä¸é¦™ ï¼Ÿ ç­”ï¼šä¸é¦™ï¼ˆå¾€ä¸‹çœ‹åŸå› ï¼‰

â€‹	

####  ä¸ºä»€ä¹ˆä½¿ç”¨è¿™ä¸ª API ï¼ˆä½œç”¨ï¼‰

>   å½“éœ€æ±‚å˜å¤æ‚ â†“
>
>   -   éœ€æ±‚ â­•ï¸ æ·»åŠ å±æ€§ nï¼Œé»˜è®¤å€¼ 0 ã€‚åŒæ—¶ï¼Œé™åˆ¶ n çš„èµ‹å€¼æ°¸è¿œä¸èƒ½å°äº 0
>   -   æ¯”å¦‚ï¼šèµ‹å€¼ `data2.n = -1` æ˜¯æ— æ•ˆçš„ï¼Œèµ‹å€¼ `data2.n = 1` æœ‰æ•ˆ

```js
let data2 = {}
data2._n = 0
Object.defineProperty(data2, "n", {
  get() {
    // others ...
    return this._n 
  },
  set(value) {
    if (value < 0) return  // ğŸ‘ˆ å¦‚æœ value å°äº 0ï¼Œå°±ç›´æ¥è¿”å›ï¼Œä¸æ‰§è¡Œèµ‹å€¼æ“ä½œ
    this._n = value
    // others ...
  }
})
```

>   æ‰€ä»¥ï¼Œä½¿ç”¨ Object.defineProperty æŠŠå¯¹è±¡çš„å±æ€§å…¨éƒ¨è½¬ä¸º [getter/setter](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty#%E8%87%AA%E5%AE%9A%E4%B9%89_Setters_%E5%92%8C_Getters)
>
>   +   **è¿™æ ·å¯ä»¥å®ç°åœ¨è¯»å†™è§¦å‘çš„åŒæ—¶ï¼Œæ·»åŠ å…¶ä»–æ“ä½œã€‚**
>   +   Vue å°±æ˜¯åˆ©ç”¨ Object.defineProperty çš„è¿™ä¸€ç‰¹æ€§ï¼Œå®ç°æ•°æ®ç›‘å¬çš„æ•ˆæœ

â€‹	

### ç›‘å¬çš„é€»è¾‘ ğŸ“Œ

>   Vue çš„å“åº”å¼åŸç†ï¼Œé€šè¿‡ Object.defineProperty å®ç°

#### ç¤ºä¾‹

```js
// demo.vue ç»„ä»¶
const myData = {
  name: 'jack',
  sex: 'male',
  age: 20
}
new Vue({
  data: myData,  // å½“æˆ‘ä»¬æŠŠ myData ä½œä¸º data é€‰é¡¹ä¼ å…¥ Vue å®ä¾‹ï¼ŒVue ä¼š ... ğŸ”—
  template: `
		<div>
			å§“åï¼š{{ name }}
			å¹´é¾„ï¼š{{ age }}
		</div>
	`
}).$mount("#app")
```

<img src="https://imgsubmit.oss-cn-beijing.aliyuncs.com/img/image-20201230185537838.png" alt="image-20201230185537838"  />

#### æ¨¡æ‹Ÿ Vue å†…éƒ¨æ“ä½œ

>   ğŸ”— Vue ä¼šéå† dataï¼Œå¹¶é€šè¿‡ Object.defineproperty å°† data ä¸­çš„æ¯ä¸€é¡¹æ•°æ®æ”¹é€ æˆ getter/setter

```js
// å½“ Vue æ¥æ”¶åˆ° myDataï¼Œä¼šéå†å¯¹è±¡ã€ä½¿ç”¨ Object.defineProperty è¿›è¡Œæ”¹é€ 
for(let key in myData) {
  let val = data[key] // val å­˜å‚¨å½“å‰éå†å±æ€§çš„åŸå€¼
  Object.defineProperty(data, key, {
    get() {
      // others... é€šçŸ¥ watcher æ·»åŠ ä¾èµ–é¡¹ ğŸ“Œ
      return val // è§¦å‘ get å‡½æ•°ï¼Œè¿”å›å±æ€§çš„å€¼
    },
    set(newVal) {
      val = newVal // è§¦å‘ set å‡½æ•°ï¼Œä¿®æ”¹å±æ€§çš„å€¼
      // others... é€šçŸ¥ watcher æ¸²æŸ“å…³è”ç»„ä»¶ ğŸ“Œ
    }
  })
}
```

> æ¯ä¸ªç»„ä»¶å®ä¾‹éƒ½å¯¹åº”ä¸€ä¸ª watcher å®ä¾‹
>
> +   åœ¨ç»„ä»¶**æ¸²æŸ“**çš„è¿‡ç¨‹ä¸­ï¼Œgetter è¢«è§¦å‘çš„æ•°æ®ï¼Œä¼šè¢« watcher è®°å½•ä¸ºã€Œæ¸²æŸ“è§†å›¾çš„**ä¾èµ–é¡¹**ã€
>
> -   å½“**ä¾èµ–é¡¹**çš„ setter è§¦å‘æ—¶ï¼ˆè¯´æ˜æ•°æ®è¢«ä¿®æ”¹ï¼‰ï¼Œä¼šé€šçŸ¥ watcherï¼Œä»è€Œä½¿å®ƒ**å…³è”çš„ç»„ä»¶é‡æ–°æ¸²æŸ“**

#### ç¤ºä¾‹åˆ†æ

```js
// demo.vue ç»„ä»¶
const myData = {
  name: 'jack',
  sex: 'male',
  age: 20
}
const vm = new Vue({
  data: myData,
  template: `
		<div>
			å§“åï¼š{{ name }}  
			å¹´é¾„ï¼š{{ age }}
		</div>
	` // ğŸ‘† è§†å›¾æ¸²æŸ“ï¼Œè§¦å‘äº† name å’Œ age çš„ getterï¼Œé€šçŸ¥ watcher è®°å½•å±æ€§ä¸ºä¾èµ–é¡¹
}).$mount("#app")

myData.name = 'rose' 
// ğŸ‘† è§¦å‘ name çš„ setterï¼Œä¾èµ–é¡¹çš„ setter è¢«è§¦å‘ï¼Œé€šçŸ¥ watcher é‡æ–°æ¸²æŸ“ç›¸å…³ç»„ä»¶
```

<img src="https://imgsubmit.oss-cn-beijing.aliyuncs.com/img/image-20201230185813820.png" alt="image-20201230185813820"  />

>   ä»¥ä¸Š
>
>   ä¸€ä¸ªç®€å•çš„æ•°æ®å“åº”å¼ï¼Œå°±æ˜¯è¿™æ ·å®ç°çš„



### æ‹“å±•ï¼šä»£ç†çš„é€»è¾‘

>   éœ€æ±‚ â­•ï¸ å‘å¯¹è±¡ä¸­å­˜å‚¨ä¸€ä¸ªå±æ€§ nï¼Œæ¡ä»¶æ˜¯ n çš„èµ‹å€¼æ°¸è¿œä¸èƒ½å°äº0
>
>   +   è¯·é—®ï¼Œæˆ‘ä»¬æ€æ ·ä¿è¯ã€Œä¸ç®¡ç”¨æˆ·æ€ä¹ˆä¿®æ”¹ n çš„å€¼ï¼Œéƒ½å¯ä»¥æ»¡è¶³ä¸Šè¿°è¦æ±‚ã€

#### å®éªŒä¸€

ï¼ˆ[åœ¨çº¿ç¤ºä¾‹](https://jsbin.com/voxomus/5/edit?html,js,console)ï¼‰

```js
let myData = {}
myData._n = 0 // å§‹ç»ˆç”¨ _n å­˜å‚¨ n å€¼ï¼ˆ _n ç›¸å½“äºä¸€ä¸ªä¸­è½¬å±æ€§ï¼‰
Object.defineProperty(myData, "n", {
  get() {
    return this._n // å¿…é¡»ä¸­è½¬ï¼Œå¦‚æœç›´æ¥è¿”å› this.n ä¼šé™·å…¥æ­»å¾ªç¯
  },
  set(value) {
    if (value < 0) return
    this._n = value
  }
})
myData.n = -1
console.log(myData.n) // 0 ä¿®æ”¹æ— æ•ˆ
myData.n = 1
console.log(myData.n) // 1 ä¿®æ”¹æˆåŠŸ
```

##### é’»ç©ºå­

[åœ¨çº¿ç¤ºä¾‹](https://jsbin.com/voxomus/edit?html,js,console)

```js
// çœ‹ä¼¼éœ€æ±‚å·²ç»å®ç°ï¼Œä½†å¦‚æœå¯¹æ–¹ç›´æ¥ä¿®æ”¹ myData._nï¼Œé‚£ä¹ˆä¸Šè¿° set å°±æ— æ³•é™åˆ¶äº† ï¼
// è™½ç„¶ n ä¸èƒ½è®¾ç½®ä¸ºå°äº0çš„å€¼ï¼Œä½† _n å¯ä»¥ï¼Œå®ƒåªæ˜¯myDataä¸Šçš„ä¸€ä¸ªæ™®é€šçš„å±æ€§ï¼Œæ²¡æœ‰setç›‘å¬ï¼Œå¯ä»¥ä»»æ„èµ‹å€¼

myData._n = -1
console.log(myData.n) // -1  ç¯¡æ”¹æˆåŠŸ
```

>   ç»“è®ºï¼šå®éªŒä¸€å¯ä»¥é€šè¿‡ä¿®æ”¹ä¸­è½¬å±æ€§ï¼Œç»•è¿‡ç›‘å¬ï¼Œè½»æ˜“ç¯¡æ”¹æ•°æ® n



#### å®éªŒäºŒ

>   æ ¹æ®å®éªŒä¸€çš„â€œé’»ç©ºå­â€ï¼Œæå‡ºè§£å†³æ€è·¯ï¼š
>
>   +   ä¸åœ¨ myData å¯¹è±¡ä¸Šæš´éœ²å‡ºä»»ä½•ä¸è¢«ç›‘å¬çš„å±æ€§æ¥å£ï¼ˆæœ€å¥½å°±ä¸è¦èµ·å¯¹è±¡åäº†ï¼‰
>   +   æ¢å¥è¯è¯´ï¼Œéœ€æ±‚ â­•ï¸ è¦è®©ä»»ä½•è®¿é—®ã€ä»»ä½•æ¥å£ï¼Œéƒ½å¿…é¡»èƒ½è¢«ç›‘å¬åˆ°
>   +   å¦‚æœæ•°æ®æœ¬èº«ï¼Œå°±æ˜¯ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ï¼Œé‚£ä¹ˆæ¯æ¬¡è°ƒç”¨æ•°æ®éƒ½ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬åªéœ€åœ¨å‡½æ•°å†…éƒ¨åœ¨å®ç°å¯¹æ•°æ®çš„ç›‘å¬ï¼Œè¿™æ ·å°±å¯ä»¥é˜²æ­¢ç”¨æˆ·å·è·‘ã€ç¯¡æ”¹æ•°æ®
>   +   å…·ä½“å®ç°å‚ç…§ã€Œä»£ç†ã€çš„æ€æƒ³

å†™ä¸€ä¸ª proxy å‡½æ•°ï¼Œå‚æ•°æ¥æ”¶ä¸€ä¸ªåŒ¿åå¯¹è±¡ï¼Œ**åœ¨åŒ¿åå¯¹è±¡ä¸­å­˜æ”¾çœŸå®æ•°æ®**ï¼Œåœ¨ proxy å‡½æ•°ä¸­å®ç°å¯¹æ•°æ®çš„ä»£ç†ç›‘å¬

+   ä½¿ç”¨åŒ¿åå¯¹è±¡ï¼Œå› ä¸ºæ²¡æœ‰æå‰å£°æ˜å¯¹è±¡åçš„å¯¹è±¡ï¼Œå°±è‡ªç„¶æ— æ³•è¢«å¤–ç•Œè®¿é—®
+   æ¯æ¬¡è°ƒç”¨ myData ä¸Šçš„æ•°æ®ï¼Œéƒ½ä¼šæ‰§è¡Œ proxy æ–¹æ³•ï¼ŒæŠŠçœŸå®æ•°æ®è½¬ç§»åˆ° obj è¿›è¡Œç›‘å¬ï¼Œå†è¿”å› objï¼Œä¿è¯è°ƒç”¨myData çš„å±æ€§æ—¶ï¼Œä¸€å®šè°ƒç”¨çš„æ˜¯ obj ä¸Šè¢«ç›‘å¬äº†çš„å±æ€§
+   å¯ä¿è¯ myData ä¸Šä¸€å®šæ²¡æœ‰æš´éœ²ä»»ä½•æœªè¢«ç›‘å¬çš„å±æ€§ï¼ˆ_nï¼‰ï¼Œæ‰€æœ‰å±æ€§éƒ½ç»è¿‡ proxy è¢«ç›‘å¬å¤„ç†äº†

[åœ¨çº¿ç¤ºä¾‹](https://jsbin.com/voxomus/15/edit?html,js,console)

```js
let myData = proxy({ data: { n: 0 } })

function proxy({ data }) {  // è§£æ„èµ‹å€¼ï¼Œå‚æ•° data å°±æ˜¯ { n: 0 }ï¼Œå­˜å‚¨äº†çœŸå®æ•°æ®
  const obj = {} 
  // æŠŠ data ä¸Šçš„æ‰€æœ‰æ•°æ®è½¬ç§»åˆ° obj ä¸Šè¿›è¡Œç›‘å¬ï¼Œç„¶åè¿”å› objï¼Œè¿™æ · ä¿è¯ obj ä¸Šçš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯è¢«ç›‘å¬åˆ°çš„ 
  Object.defineProperty(obj, "n", { 
    get() {
      return data.n
    },
    set(value) {
      if (value < 0) return;
      data.n = value
    }
  })
  return obj // obj å°±æ˜¯ data çš„ä»£ç†å¯¹è±¡
}

myData.n = -1
console.log(myData.n) // 0  ä¿®æ”¹æ— æ•ˆ
myData.n = 1
console.log(myData.n) // 1  ä¿®æ”¹æˆåŠŸ
```

##### é’»ç©ºå­

>   å¦‚æœç”¨æˆ·è‡ªå·±å†™ä¸€ä¸ªæ•°æ®å¯¹è±¡ hackData
>
>   å†æŠŠ hackData æ”¾åˆ°ä»£ç†ä¸­ï¼Œç„¶åä¿®æ”¹è¿™ä¸ª hackDataï¼Œå°±å¯ä»¥å®ç°ç¯¡æ”¹æ•°æ®çš„ç›®çš„

[åœ¨çº¿ç¤ºä¾‹](https://jsbin.com/voxomus/21/edit?html,js,console)

```js
let myData = proxy({ data: { n: 0 } }) // åŸå§‹æ•°æ®
let hackData = { n: 0 } // å£°æ˜æ–°çš„æ•°æ®ï¼Œç”¨äºç¯¡æ”¹åŸå§‹æ•°æ®
myData = proxy({ data: hackData })

function proxy({ data }) {
  const obj = {} 
  Object.defineProperty(obj, "n", { 
    get() {
      return data.n
    },
    set(value) {
      if (value < 0) return;
      data.n = value
    }
  })
  return obj
}

console.log(myData.n) // 0
hackData.n = -1
console.log(myData.n) // -1 ç¯¡æ”¹æˆåŠŸ
```

>   ç»“è®ºï¼šç”¨æˆ·å¯ä»¥å¼ºè¡Œå¾€ proxy ä¸­å¡ä¸€ä¸ª hackDataï¼Œè¿™æ ·åªè¦ hackData å°±å¯ä»¥ç¯¡æ”¹åŸå§‹æ•°æ® n

#### å®éªŒä¸‰ 

>   æ ¹æ®å®éªŒäºŒçš„ â€œé’»ç©ºå­â€
>
>   +   ç”¨æˆ·å¼ºè¡Œå¾€ proxy ä¸­å¡äº†ä¸€ä¸ª hackDataï¼Œæƒ³é€šè¿‡ hackData ç¯¡æ”¹æˆ‘æ–¹åŸå§‹æ•°æ® n
>   +   éœ€æ±‚ â­•ï¸ å¦‚æœç”¨æˆ·æ“…è‡ªç¯¡æ”¹æ•°æ®ï¼ˆä¼ å…¥è‡ªå·±å†™çš„æ•°æ®ï¼‰ï¼Œå°±è¦æ‹¦æˆªè¿™ç§è¡Œä¸ºï¼ˆå‡çº§ proxy 2.0 ï¼‰

[åœ¨çº¿ç¤ºä¾‹](https://jsbin.com/soranoq/5/edit?html,js,console)

```js
let myData = proxy2({ data: { n: 0 } }) // åŸå§‹æ•°æ®
let hackData = { n: -1 }  // å£°æ˜æ–°çš„æ•°æ®ï¼Œç”¨äºç¯¡æ”¹åŸå§‹æ•°æ®
myData = proxy2({ data: hackData })

function proxy2({ data }) {  // data æ¥æ”¶ hackDataï¼š{ n: 0 }
  // åŸæœ¬åº”è¯¥éå† data ä¸Šçš„æ‰€æœ‰ keyï¼Œè¿™é‡Œåšäº†ç®€åŒ–ï¼Œå‡è®¾ data ä¸Šåªæœ‰ä¸€ä¸ªæ•°æ® n
  let value = data.n  // å£°æ˜å˜é‡æ¥å­˜å‚¨åŸå§‹çš„nå€¼ï¼ˆè¿™é‡Œå­˜å‚¨nï¼Œç›®çš„æ˜¯åé¢æŠŠnåˆ æ‰ï¼‰
  
  // delete data.n  
  // å¯ä»¥çœç•¥åˆ é™¤æ“ä½œï¼Œå› ä¸ºä¸‹é¢æ·»åŠ è™šæ‹Ÿå±æ€§næ—¶ä¸dataä¸­åŸæœ¬çš„å±æ€§é‡åï¼Œä¼šè‡ªåŠ¨è¦†ç›–ï¼ˆåˆ é™¤ï¼‰åŸæœ¬çš„å±æ€§
  
  Object.defineProperty(data, "n", { // è¿™æ ·å°±å®Œå…¨ç›‘æ§äº† n
    get() {
      return value
    },
    set(newValue) {
      if (newValue < 0) return
      value = newValue
    }
  })
  // ä¸Šé¢å°±æ˜¯æ–°æ·»åŠ çš„ä»£ç ï¼Œç”¨äºå®Œå…¨ç›‘å¬ nã€ç›‘å¬çš„é€»è¾‘ã€‘
  // ç›¸å½“äºå®‰è£…ç›‘å¬å™¨ï¼Œå¦‚æœç”¨æˆ·æƒ³ç»•è¿‡ç›‘å¬ï¼Œå°±ç«‹é©¬çŸ¥é“å¹¶æ‹¦æˆªä½ 

  // ä¸‹é¢ä»æ˜¯ã€å®éªŒäºŒä¸­çš„ä»£ç†é€»è¾‘ã€‘
  const obj = {}
  Object.defineProperty(obj, "n", {
    get() {
      return data.n
    },
    set(value) {
      if (value < 0) return 
      data.n = value
    }
  })
  return obj // obj å°±æ˜¯ä»£ç†
}

// ç”¨æˆ·å¦‚æœç›´æ¥ä¿®æ”¹ myData çš„æ•°æ®ï¼Œèµ°æ­£å¸¸çš„ä»£ç†é€»è¾‘ã€‚
// ç”¨æˆ·å¦‚æœæƒ³ç»•è¿‡ä»£ç†ï¼Œç¯¡æ”¹åŸå§‹æ•°æ®ï¼Œä¼šèµ°ç›‘å¬é€»è¾‘
// åªè¦ç»è¿‡ proxy2 å°±ä¸€å®šä¼šå¤„äºç›‘å¬ä¹‹ä¸‹ï¼Œå› ä¸ºä¼šåˆ æ‰åŸæœ¬çš„æ•°æ® n

// ç¯¡æ”¹åŸå§‹æ•°æ®ï¼ˆä¼šåˆ›å»ºè™šæ‹Ÿå±æ€§æ¥æ›¿ä»£åŸæœ¬å±æ€§ï¼Œé€šè¿‡å¯¹è™šæ‹Ÿå±æ€§çš„ç›‘å¬å®ç°æ•°æ®ç›‘å¬ï¼‰
hackData.n = -1  
console.log(myData.n) // 0 ä¿®æ”¹æ— æ•ˆ
hackData.n = 1
console.log(myData.n) // 1 ä¿®æ”¹æˆåŠŸ

// ç›´æ¥ä¿®æ”¹ï¼ˆé€šè¿‡ä»£ç†å®ç°æ•°æ®ç›‘å¬ï¼‰
myData.n = -1
console.log(myData.n) // 1 ä¿®æ”¹æ— æ•ˆ
myData.n = 0
console.log(myData.n) // 0 ä¿®æ”¹æˆåŠŸ
```

#### æ€»ç»“

```js
// ä¸‹é¢è¿™å¥ä»£ç çœ‹ç€çœ¼ç†Ÿå— ?
let myData = proxy2({ data: hackData })
let vm = new Vue({ data: hackData })

// myData å°±ç›¸å½“äº vm
// proxy2 å°±ç›¸å½“äº new Vueï¼Œåªä¸è¿‡æ²¡åŠ  new è€Œå·²
```

>   å‰é¢å®éªŒæ¨å‡ºçš„ proxy ä»£ç ï¼Œ**å°±æ˜¯ Vue å†…éƒ¨çš„æºä»£ç **

##### ä¸€å®šè¦æ³¨æ„ ğŸ’¡

-   å‰é¢å®éªŒçš„**ç ”ç©¶æ–¹æ³•**æ¯”çŸ¥è¯†æœ¬èº«æ›´é‡è¦
-   è¿™äº›æ–¹æ³•èƒ½è®©ä½ **ä¸è¯»æºç **ï¼Œä¹Ÿèƒ½äº†è§£çœŸç›¸ï¼ˆåº•å±‚åŸç†ï¼‰



##### new Vue å¯¹ data åšäº†ä»€ä¹ˆ

>   ç†æ¸…äº†ä»£ç†çš„é€»è¾‘ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥è¯´è¯´ new Vue åˆ°åº•å¯¹ data åšäº†ä»€ä¹ˆ

```js
import Vue from "vue/dist/vue.js"

const hackData = {
  n: 0
}
console.log(hackData) // ç²¾é«“ ğŸ‘ˆğŸ‘ˆğŸ‘ˆ é€šè¿‡logå‘ç°ä¸åŒä¹‹å¤„ï¼Œä»è€Œè¿›è¡Œæ¨ç†éªŒè¯

const vm = new Vue({
  data: hackData,
  template: `<div>{{n}}</div>`,
}).$mount("#app")

setTimeout(() => {
  hackData.n += 10;
  console.log(hackData) // ç²¾é«“ ğŸ‘ˆğŸ‘ˆğŸ‘ˆ
}, 0)
```

>   åªè¦æŠŠ hackData ä¼ ç»™ new Vue å°±ä¼šé©¬ä¸Šå¯¹ hackData è¿›è¡Œç¯¡æ”¹
>
>   +   hackDataä¸ŠåŸæœ¬çš„æ•°æ® n ä¼šæ¶ˆå¤±ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ get nã€set nï¼ˆè™šæ‹Ÿæ•°æ®ï¼‰
>   +   å…³é”®ç‚¹å°±åœ¨ä¸¤ä¸ª log ä¸Šå‘ç°è››ä¸é©¬è¿¹ï¼ˆè¿™ç§ç ”ç©¶æ–¹æ³•å¾ˆé‡è¦ï¼‰









## ç›‘å¬å­˜åœ¨çš„é—®é¢˜ï¼ˆVue çš„ bugï¼‰ğŸ“Œ

>   ï¼ˆé¢è¯•å¯èƒ½ä¼šé—®å“¦ï¼‰
>
>   æˆ‘ä»¬å·²çŸ¥ï¼šæ•°æ®åº”æå‰åœ¨ data ä¸­å®šä¹‰å¥½æ‰èƒ½ä½¿ç”¨ã€‚å¦‚æœåœ¨ data å¤–åŠ¨æ€çš„æ·»åŠ æ–°çš„æ•°æ®ï¼Œæˆ–å¼•ç”¨æ²¡æœ‰å®šä¹‰åœ¨ data çš„æ•°æ®ï¼Œä¼šæ€æ ·å‘¢ ï¼Ÿ

### æƒ…æ™¯ä¸€ï¼šå¼•ç”¨æœªå®šä¹‰çš„æ•°æ®ä¼šæ€æ ·

>   Vue å®ä¾‹çš„ data ä¸­æ²¡æœ‰å®šä¹‰ n ï¼Œä½†åˆåœ¨è§†å›¾ä¸­ä½¿ç”¨ nï¼Œä¼šæ€ä¹ˆæ ·

[ä»£ç ç¤ºä¾‹](https://codesandbox.io/s/empty-field-ofmwn)

```js
new Vue({
  data: {},
  template: `
    <div>{{n}}</div>
  `
}).$mount("#app")
```

>   åœ¨è§†å›¾ä¸­ä½¿ç”¨æœªåœ¨ data ä¸­å®šä¹‰çš„æ•°æ®ï¼ŒVue ä¼šç»™å‡ºä¸€ä¸ªè­¦å‘ŠæŠ¥é”™ `[Vue warn]` 

-   æ•°æ®æ²¡æœ‰ä¼ å…¥å®ä¾‹çš„ data ä¸­ï¼Œå°±æ— æ³•å®ç°ç›‘å¬æ•°æ®å˜åŒ–ï¼Œä¸ç›‘å¬å°±ä¸èƒ½å®ç°åˆ·æ–°è§†å›¾ï¼Œè¿èƒŒæ•°æ®å“åº”å¼åŸåˆ™

    ![image-20201231110534602](https://imgsubmit.oss-cn-beijing.aliyuncs.com/img/image-20201231110534602.png)

#### è§£å†³åŠæ³•

>   å¿…é¡»åœ¨ data ä¸­æŠŠ n æå‰å£°æ˜å¥½

>   ç”±äº Vue **ä¸å…è®¸åŠ¨æ€æ·»åŠ æ ¹çº§å“åº”å¼ property**ï¼Œæ‰€ä»¥ä½ å¿…é¡»åœ¨åˆå§‹åŒ–å®ä¾‹å‰å£°æ˜æ‰€æœ‰æ ¹çº§å“åº”å¼ propertyï¼Œå“ªæ€•åªæ˜¯ä¸€ä¸ªç©ºå€¼ï¼ˆ[æ–‡æ¡£](https://cn.vuejs.org/v2/guide/reactivity.html#%E5%A3%B0%E6%98%8E%E5%93%8D%E5%BA%94%E5%BC%8F-property)ï¼‰

[åœ¨çº¿ä»£ç ](https://codesandbox.io/s/serverless-fast-hl420?file=/src/main.js)

```js
new Vue({
  data: {
    n: 1 // ğŸ‘ˆğŸ‘ˆğŸ‘ˆ nullã€undefined..éƒ½ä¸ä¼šæŠ¥é”™
  },
  template: `
		<div>{{n}}</div>
	`,
}).$mount("#app")
```

â€‹	

### æƒ…æ™¯äºŒ ï¼šåŠ¨æ€æ·»åŠ å¯¹è±¡å±æ€§ï¼ˆåœ¨ data å¤–æ–°å¢ keyï¼‰

>   éœ€æ±‚ï¼šç‚¹å‡»æŒ‰é’®ï¼Œè§†å›¾ä¸­æ˜¾ç¤º 1

[ä»£ç ç¤ºä¾‹](https://codesandbox.io/s/tender-leaf-8ogdx?file=/src/main.js)

```js
new Vue({
  data: {
    obj: {
      a: 0 // obj.a ä¼šè¢« Vue ç›‘å¬ã€ä»£ç†
    }
  },
  template: `
    <div>
      obj.bï¼š{{obj.b}}             
      <button @click="set">èµ‹å€¼</button>
    </div>
  `,
  methods: {
    set() {             
      this.obj.b = 1  // è¯·é—®ï¼Œé¡µé¢ä¸­ä¼šæ˜¾ç¤º 1 å—ï¼Ÿ
    }
  }
}).$mount("#app") 
```

![image-20201231181614259](https://imgsubmit.oss-cn-beijing.aliyuncs.com/img/image-20201231181614259.png)

>   è¯·é—®ï¼Œç‚¹å‡»â€œèµ‹å€¼â€æŒ‰é’®ï¼Œè§†å›¾ä¸­ä¼šæ˜¾ç¤º 1 å— ï¼Ÿ

-   ç­”æ¡ˆï¼šä¸ä¼šæ˜¾ç¤º 1ã€‚
-   å› ä¸º Vue ä¸èƒ½ç›‘å¬åˆ°æœªåœ¨ data ä¸­å®šä¹‰çš„æ•°æ® `obj.b`
-   ä½†ä¸ºä»€ä¹ˆå¼•ç”¨æœªå®šä¹‰çš„ obj.b æ²¡æœ‰è­¦å‘ŠæŠ¥é”™å‘¢ ï¼Ÿ

>   æƒ…æ™¯ä¸€è§†å›¾å¼•ç”¨ data ä¸­æœªå®šä¹‰çš„ n ä¼šæŠ¥é”™ï¼Œé‚£ä¸ºä»€ä¹ˆæƒ…æ™¯äºŒä¸­å¼•ç”¨æœªæå‰å®šä¹‰çš„ obj.b å´ä¸ä¼šæŠ¥é”™ ï¼Ÿ

-   å› ä¸º Vue çš„æ•°æ®å“åº”å¼æ˜¯æ•°æ®çš„**æ ¹çº§å“åº”**ã€‚Vue åªä¼šæ£€æŸ¥ç¬¬ä¸€å±‚å±æ€§ï¼Œæ£€æŸ¥ä¸åˆ°ç¬¬ä¸€å±‚å±æ€§å†…éƒ¨å®šä¹‰çš„å±æ€§
-   ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äº `this.obj.b`ï¼ŒVue åªä¼šæ£€æŸ¥ data ä¸­æ˜¯å¦æœ‰å®šä¹‰ `this.obj`ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰ obj å°±ä¼šè­¦å‘ŠæŠ¥é”™ï¼Œä½† Vue ä¸ä¼šå†æ·±å±‚æ£€éªŒ obj çš„å†…éƒ¨å±æ€§
-   **æƒ…æ™¯äºŒè§†å›¾ä¸­è™½ç„¶å¼•ç”¨äº†æœªæå‰å£°æ˜çš„ `obj.b`ï¼Œä½† Vue ä¼šæ£€æŸ¥åˆ° `obj `å·²ç»åœ¨ data ä¸­æå‰å£°æ˜äº†ï¼Œæ‰€ä»¥æ­¤å¤„çš„å¼•ç”¨ä¸ä¼šæŠ¥é”™ï¼Œä½†ä¹Ÿä¸ä¼šç”Ÿæ•ˆï¼Œå› ä¸º `b` ç¡®å®æ²¡æœ‰åœ¨ data ä¸­å£°æ˜ã€‚**
-   ç»¼ä¸Šï¼Œæƒ…æ™¯äºŒçš„è¿™ç§ç”¨æ³•ï¼Œä»…æ˜¯ä¸æŠ¥é”™è€Œå·²ï¼Œä½†ä¹Ÿå¹¶ä¸ä¼šæ¸²æŸ“å‡ºè§†å›¾

#### è§£å†³åŠæ³•

>   ä½¿ç”¨ Vue.set æˆ–è€… this.$setï¼Œä¸ºå·²æœ‰å¯¹è±¡æ·»åŠ æ–°çš„å±æ€§ï¼ˆ[æ–‡æ¡£](https://cn.vuejs.org/v2/guide/reactivity.html#%E5%AF%B9%E4%BA%8E%E5%AF%B9%E8%B1%A1)ï¼‰

[åœ¨çº¿ä»£ç ](https://codesandbox.io/s/rough-darkness-wh3mw?file=/src/main.js)

```js
new Vue({
  data: {
    obj: {
      a: 0
    }
  },
  template: `
    <div>
      obj.bï¼š{{obj.b}}
      <button @click="set">èµ‹å€¼</button>
    </div>
  `,
  methods: {
    set() {
      Vue.set(this.obj, 'b', 1)       // ğŸ‘ˆğŸ‘ˆğŸ‘ˆ 
      // this.$set(this.obj, 'b', 1)  // ğŸ‘ˆğŸ‘ˆğŸ‘ˆ
      // ä¸¤ç§å†™æ³•æ²¡æœ‰åŒºåˆ«ï¼ˆæ˜¯åŒä¸€ä¸ªå‡½æ•°ï¼‰
      console.log(Vue.set === this.$set) // true (åŠ $æ˜¯ä¸ºé˜²æ­¢dataä¸­æœ‰åŒåå±æ€§set)
    }
  }
}).$mount("#app")
```

![image-20201231182143985](https://imgsubmit.oss-cn-beijing.aliyuncs.com/img/image-20201231182143985.png)

#### Vue.set å’Œ this.$set æ‰§è¡Œäº†å“ªäº›æ“ä½œ

```js
Vue.set(obj, key, value)  // å¾€objä¸­æ–°å¢ä¸€ä¸ªkeyå±æ€§
```

-   æ–°å¢ key 
-   å¯¹ key è‡ªåŠ¨åˆ›å»ºä»£ç†å’Œç›‘å¬ï¼ˆå¦‚æœæ²¡æœ‰åˆ›å»ºè¿‡ï¼‰
-   è§¦å‘ UI æ›´æ–°ï¼ˆä½†å¹¶ä¸ä¼šç«‹åˆ»æ›´æ–° â€”â€” å¼‚æ­¥æ›´æ–°ï¼Œè¿™å—å†…å®¹å€¼å¾—å•ç‹¬å†™ä¸€ç¯‡åšå®¢äº†ï¼‰
    -   æ‰§è¡Œ UI æ›´æ–°æ˜¯ Vue åšçš„ï¼Œset åªä¼šè§¦å‘ Vue æ¥æ‰§è¡Œæ›´æ–°

[ç¤ºä¾‹æ¼”ç¤º](https://codesandbox.io/s/youthful-swanson-yz7pm?file=/src/main.js)

```js
new Vue({
  data: {
    obj: {
      a: 0  // ğŸ‘ˆ
    }
  },
  template: ` 
    <div>
      {{obj.b}} ğŸ‘ˆ
      <button @click="setB">set b</button> ğŸ‘ˆ
      <button @click="addB">add b</button> ğŸ‘ˆ
    </div>
  `,
  methods: {
    setB() {
       Vue.set(this.obj, 'b', 1) // ğŸ‘ˆğŸ‘ˆ   // æˆ– this.$set(this.obj, 'b', 1)
    },
    addB(){
      this.obj.b += 1  // ğŸ‘ˆğŸ‘ˆ
    }
  }
}).$mount("#app");
```

â€‹	

### æƒ…æ™¯ä¸‰ï¼šdata ä¸­çš„æ•°ç»„å¦‚ä½•å¤„ç†ï¼Ÿ

>   æœ‰æ²¡æœ‰æŸç§æƒ…å†µæ˜¯ã€Œæ²¡åŠæ³•æŠŠ key æå‰åœ¨ data ä¸­å£°æ˜å¥½ã€çš„
>
>   +   æœ‰ï¼Œå¦‚æœæ•°æ®æ˜¯ä¸€ä¸ªæ•°ç»„ç±»å‹ï¼Œå°±æ— æ³•æå‰æŠŠæ‰€æœ‰å…ƒç´ å£°æ˜å¥½
>   +   Vue ä¸­çš„æ•°ç»„ï¼Œå¯ä»¥ç†è§£æˆå¯¹è±¡çš„å½¢å¼ï¼ˆå…·ä½“è§ä¸‹ï¼‰

#### å°è¯•ï¼šåŠ¨æ€æ·»åŠ æ•°ç»„å…ƒç´ 

>   [ç¤ºä¾‹](https://codesandbox.io/s/proud-worker-xwyoo) 

```js
new Vue({
  data: {
    array: ["a", "b", "c"]
  },
  template: `
    <div>
      {{array}}
      <button @click="setD">set d</button>
    </div>
  `,
  methods: {
    setD() {
      this.array[3] = "d"  // è¯·é—®ï¼Œé¡µé¢ä¸­ä¼šæ˜¾ç¤º 'd' å— ï¼Ÿ ç­”ï¼šä¸ä¼š
    }
  }
}).$mount("#app");
```

>   å¦‚ä¸Šä»£ç ï¼Œç‚¹å‡» button æŒ‰é’®ï¼Œå¾€æ•°ç»„ä¸­æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œæ¯«æ— ååº”ï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ ï¼Ÿ
>
>   +   åˆ†æï¼šæ•°ç»„ `array: ["a", "b", "c"]` ç†è§£æˆå¯¹è±¡çš„å½¢å¼ ğŸ‘‡

```js
{
  0: "a",
  1: "b",
  2: "c",
  length: 3
}
```

>   data ä¸­çš„æ•°æ® arrayï¼Œç›¸å½“äºåœ¨ data ä¸­å£°æ˜äº† 0ã€1ã€2 ä¸‰ä¸ªå±æ€§
>
>   +   å¾€æ•°ç»„ï¼ˆå¯¹è±¡ï¼‰ä¸­æ–°å¢å…ƒç´ ï¼Œç›¸å½“äº[æƒ…æ™¯äºŒ](# æƒ…æ™¯äºŒ ï¼šåŠ¨æ€æ·»åŠ å¯¹è±¡å±æ€§ï¼ˆåœ¨ data å¤–æ–°å¢ keyï¼‰)ã€Œåœ¨ data å¤–æ–°å¢ keyï¼ŒåŠ¨æ€æ·»åŠ å¯¹è±¡å±æ€§ï¼ŒVue æ— æ³•ç›‘å¬åˆ°è¯¥å±æ€§ã€
>   +   æ‰€ä»¥ `this.array[3] = "d"` æ˜¯æ— æ•ˆçš„

ç»¼åˆã€Œæƒ…æ™¯ä¸€ã€æƒ…æ™¯äºŒã€ï¼Œå¯¹äºã€Œå¼•ç”¨æœªå£°æ˜çš„æ•°æ®ã€æˆ–ã€ŒåŠ¨æ€æ·»åŠ å¯¹è±¡å±æ€§ã€ç»™å‡ºè§£å†³åŠæ³•ï¼š

-   æ–¹æ¡ˆä¸€ï¼šè§†å›¾ä¸­ç›´æ¥å¼•ç”¨çš„æ ¹çº§å±æ€§ï¼Œå¿…é¡»åœ¨ data ä¸­æå‰å£°æ˜
-   æ–¹æ¡ˆäºŒï¼šåŠ¨æ€æ·»åŠ å¯¹è±¡å±æ€§ï¼Œéœ€ç”¨ set æ–¹æ³•

>   å¦‚æœé‡‡ç”¨æ–¹æ¡ˆä¸€ï¼šæå‰åœ¨æ•°ç»„ä¸­å®šä¹‰æ•°æ®

```js
data:{
  array: ['a', 'b', 'c', undefined, undefined, ...] 
},
methods: {
  setD() {
    this.array[3] = "d"  
    // è™½ç„¶å¯è¡Œï¼Œä½†æ— æ³•é¢„çŸ¥æœ‰å¤šå°‘ä¸ª keyã€éœ€è¦å¯¹åº”å¤šå°‘ä¸ª undefined
    // æ‰€ä»¥è¿™ç§ã€Œæå‰æŠŠ key éƒ½å†™åˆ° array ã€çš„æ–¹æ¡ˆä¸å¯å–
  }
}
```

-   æ•°ç»„çš„é•¿åº¦å¯ä»¥ä¸€ç›´å¢åŠ ï¼ˆä¸‹æ ‡å°±æ˜¯ keyï¼‰ï¼Œä¸å¯èƒ½æå‰é¢„çŸ¥æœ‰å¤šå°‘ä¸ª keyï¼ˆå¦‚æœè¿™ä¸ªæ•°ç»„æ˜¯æ‰€æœ‰ç”¨æˆ·çš„åˆ—è¡¨ï¼‰ï¼Œæˆ‘ä»¬ä¸å¯èƒ½æå‰æŠŠæ•°ç»„çš„ key éƒ½å£°æ˜å‡ºæ¥

>   å¦‚æœé‡‡ç”¨æ–¹æ¡ˆäºŒï¼šä¸èƒ½æå‰å£°æ˜ï¼Œé‚£å°±ä½¿ç”¨ Vue.set æˆ–è€… this.$set

```js
this.$set(this.array, 3, 'd')
// set(Array, Index, value)
```

-   é€šè¿‡ set æ–°å¢æ•°ç»„ keyï¼Œè¿™æ˜¯å¯è¡Œçš„æ–¹æ¡ˆã€‚ä½†æ¯æ¬¡æ·»åŠ æ–°å…ƒç´ éƒ½è¦æ‰§è¡Œ setï¼Œæ¯”è¾ƒç¹ç

+   æœ‰æ›´ç®€å•çš„åŠæ³•å— ï¼Ÿ

#### å°¤é›¨æºªçš„åšæ³•

>   æµ‹è¯•ï¼šæ—¢ç„¶æ˜¯æ•°ç»„ï¼Œå¯ä»¥ç”¨æ•°ç»„æ–¹æ³• push æ·»åŠ å…ƒç´ å—ï¼Ÿ
>
>   ç»“æœï¼šå¯ä»¥ï¼Œpush ç”Ÿæ•ˆ

```js
this.array.push('d')
console.log(this.array) // çœ‹çœ‹ vue é‡Œçš„ push 
```

>   ç–‘æƒ‘ï¼šä¸ºä»€ä¹ˆç›´æ¥æ·»åŠ å…ƒç´ ä¼šå¤±è´¥ï¼Œä½† push æ·»åŠ å…ƒç´ å´æˆåŠŸå‘¢ ï¼Ÿ
>
>   åŸå› ï¼šVue é‡Œçš„ push æ–¹æ³•ï¼Œå·²ç»ä¸æ˜¯æ•°ç»„åŸå‹ä¸Šçš„ push æ–¹æ³•äº†ï¼ˆå¦‚ä¸‹å›¾ ï¼‰

<img src="https://imgsubmit.oss-cn-beijing.aliyuncs.com/img/122334é—®é¢˜.png" alt="122334é—®é¢˜" style="zoom:67%;" />

>   å¦‚å›¾ï¼Œarray çœ‹èµ·æ¥æ˜¯æ™®é€šæ•°ç»„ï¼Œä½†å½“æˆ‘ä»¬æŠŠ array ä¼ ç»™ Vue ä¹‹åï¼ŒVue ä¼šç¯¡æ”¹è¿™ä¸ªæ•°ç»„ï¼Œå¾€ä¸­é—´æ’å…¥ä¸€å±‚åŸå‹ï¼ŒåŸå‹ä¸Šæœ‰ 7 ä¸ªæ–¹æ³•ã€‚æ­¤ 7 æ³•ä¸æ•°ç»„åŸå‹ä¸Šçš„æ–¹æ³•**åŒå**ï¼ˆä»£ç è¢«ä¿®æ”¹ï¼‰ï¼Œè°ƒç”¨æ—¶å°±ä¼šè¦†ç›–åŸå‹æ–¹æ³•

7 ä¸ªæ–°çš„ api ä¼šæ‰§è¡Œä¸¤ä¸ªæ“ä½œ

-   é¦–å…ˆï¼Œæ–° api ä¼šè°ƒç”¨ã€Œæ—§ apiã€æ–¹æ³•

-   ç„¶åï¼Œå¾€æ•°ç»„ä¸Šæ·»åŠ ã€Œç›‘å¬&ä»£ç†ã€

>   æ€»ç»“
>
>   -   **å°¤é›¨æºªï¼ˆVueï¼‰ç¯¡æ”¹äº†æ•°ç»„çš„ API** ï¼ˆVue æ–‡æ¡£ä¸­ã€Œ[å˜å¼‚æ–¹æ³•](https://cn.vuejs.org/v2/guide/list.html#%E5%8F%98%E5%BC%82%E6%96%B9%E6%B3%95-mutation-method)ã€ç« èŠ‚æœ‰è§£é‡Šï¼‰
>   -   è¿™ 7 ä¸ª API éƒ½ä¼šè¢« Vue ç¯¡æ”¹ï¼Œè°ƒç”¨åä¼šæ›´æ–° UI

â€‹	

####  å…·ä½“æ˜¯æ€ä¹ˆç¯¡æ”¹çš„å‘¢ ï¼ŸğŸ“Œ

>   å°¤é›¨æºªçš„æ€è·¯ï¼šå°±æ˜¯æ’å…¥ä¸€å±‚åŸå‹ï¼ŒåŸå‹ä¸Šæœ‰ 7 ä¸ªæ–¹æ³•
>
>   +   ä¸‹é¢å°±æ˜¯ã€Œæ¨¡æ‹Ÿã€ç¯¡æ”¹ä»£ç ï¼ˆæ€ä¹ˆæ’å…¥ä¸€å±‚åŸå‹ï¼‰

##### ES6 å†™æ³•

###### demo æµ‹è¯•

>   é€šè¿‡ç»§æ‰¿çš„æ€è·¯ï¼Œå®ç°æ·»åŠ ä¸€å±‚åŸå‹

```js
class VueArray extends Array { 
  // å½“å‰ VueArray ç»§æ‰¿äº Array ï¼Œæ„æ€å°±æ˜¯ VueArray åœ¨ ArrayåŸå‹ çš„å‰é¢
  push(...args) { // è¡¨ç¤ºåœ¨ VueArray ä¸Šå£°æ˜ä¸€ä¸ª push ä½œä¸ºå…±æœ‰å±æ€§ï¼Œä¼šæ”¾åœ¨ VueArray çš„ _proto_ ä¸Š
    console.log("args", args)
    console.log("arguments", arguments)
    console.log("...args", ...args)
    
    super.push(...args)  // è¡¨ç¤ºæ‰§è¡Œ VueArray çš„ push æ—¶ï¼Œä¼šå…ˆè°ƒç”¨ Array ä¸Šçš„åŸç”Ÿ push æ–¹æ³•
    console.log('ä½  push äº†') 
  }
}
const a = new VueArray(1,2.3,4)
console.log(a)
a.push(5) // å¾€æ•°ç»„æ·»åŠ å…ƒç´ 5ï¼ŒåŒæ—¶æ‰§è¡Œlog
console.log("a", a)
```

<img src="https://imgsubmit.oss-cn-beijing.aliyuncs.com/img/image-20201228185413204.png" alt="image-20201228185413204" style="zoom:67%;" />

>   è¿™æ ·å†™çš„ä½œç”¨æ˜¯
>
>   +   **å½“æˆ‘ä»¬æ‰§è¡Œ VueArray çš„ push æ–¹æ³•æ—¶ï¼Œæ•ˆæœä¸åŸç”Ÿçš„ push ä¸€æ ·ï¼Œä½†è¿˜ä¼šå¤šæ‰§è¡Œä¸€ä¸ª console.log**
>   +   ç¬¬ä¸€å±‚åŸå‹ä¸Šåªæœ‰ä¸€ä¸ª push æ–¹æ³•ï¼Œç¬¬äºŒå±‚åŸå‹æ‰æ˜¯ Array çš„åŸå‹

###### æ¨¡æ‹Ÿå®Œæ•´é€»è¾‘ ğŸ“Œ

```js
class VueArray extends Array{ 
  push(...args){
    const oldLength = this.length  // this å°±æ˜¯å½“å‰æ•°ç»„ï¼ˆæŒ‡ä»£newå‡ºæ¥çš„æ•°ç»„å®ä¾‹ï¼‰è®°å½•ä¸‹æ—§æ•°ç»„çš„é•¿åº¦
    super.push(...args) // pushä¹‹åï¼Œthis.length å·²ç»æ›´æ–°
    console.log('ä½  push äº†') 
    
    for(let i = oldLength; i < this.length; i++){ 
      Vue.set(this, i, this[i])  
      // å°†æ¯ä¸ªæ–°å¢çš„ key éƒ½å‘Šè¯‰ Vue ï¼ŒVue å¾—çŸ¥æ•°æ®å˜åŒ–ã€éœ€è¦æ·»åŠ ä»£ç†&ç›‘å¬ã€æ›´æ–°è§†å›¾å•¦ 
    } 
  }
}
const a = new VueArray(1,2,3,4)
console.log(a)
a.push(5)
```

>   æ³¨ï¼šæ­¤ä»£ç ä»…ç”¨äºé€»è¾‘ç†è§£ã€‚å®é™…ä¸Šè¿™ç§å®ç°æ–¹å¼æ˜¯æ¯”è¾ƒä½æ•ˆçš„ã€ä¸ä»£è¡¨ Vue çš„çœŸå®å®ç°ã€‚
>
>   å®é™…ä¸Š frank æ²¡çœ‹è¿‡ç›¸å…³æºä»£ç ï¼ˆä½†å°¤é›¨æºªçš„å¤§æ¦‚æ€è·¯å°±æ˜¯è¿™æ ·çš„ï¼‰



##### ES5 å†™æ³• - åŸå‹

>   ES5 ä»£ç ï¼Œä¼šæ¯” ES6 æ›´éš¾ç†è§£ï¼ˆES6 ç›¸å½“äºç»™å‰ç«¯é™ä½äº†é—¨æ§›ï¼‰
>
>   +   å®ç°ï¼šæ–°æ’å…¥ä¸€å±‚åŸå‹ï¼Œ**æ–°åŸå‹çš„ä¸Šå±‚æ˜¯å®ä¾‹ã€ä¸‹å±‚æ˜¯æ•°ç»„çš„åŸå‹**
>   +   æ–°åŸå‹ä¸Šæœ‰ push æ–¹æ³•ï¼šæ‰§è¡Œä¸€äº›å¼€å‘è€…ç¯¡æ”¹çš„æ“ä½œï¼Œç„¶åå†è°ƒç”¨æ•°ç»„åŸå‹çš„ push å®ç°æ·»åŠ å…ƒç´ 

```js
const vueArrayPrototype = { 
  push: function(){ 
    console.1og('ä½  push äº†') // è¿™é‡Œæ·»åŠ çš„å…¶ä»–ä»£ç ï¼Œéƒ½å±äºå¯¹ push çš„ç¯¡æ”¹
    return Array.prototype.push.apply(this, arguments) // é€ä¼ 
    // ğŸ‘† ç”¨æˆ·ç»™æˆ‘ä¼ äº†ä»€ä¹ˆï¼Œæˆ‘æŠŠæ‰€æœ‰ä¸œè¥¿é€é€çš„ä¼ ç»™ã€Œæ•°ç»„åŸå‹ä¸Šçš„çš„pushæ–¹æ³•ã€
  }
}
vueArrayPrototype.__proto__ = Array.prototype // æŠŠæˆ‘çš„åŸå‹æŒ‡å‘æ•°ç»„çš„åŸå‹ï¼Œå½¢æˆåŸå‹é“¾
// ä¸Šé¢è¿™å¥è¯ç”¨çš„ä¸æ˜¯æ ‡å‡†å±æ€§ï¼Œä»…å­¦ä¹ ä½¿ç”¨ 

const array = Object.create(vueArrayPrototype) // ä½¿ç”¨æˆ‘å†™çš„æ–°åŸå‹ï¼Œåˆ›å»ºå‡ºä¸€ä¸ªæ•°ç»„
array.push(1) 
console.log(array)  // å¯ä»¥çœ‹åˆ°ä¸‰å±‚åŸå‹é“¾æ•ˆæœï¼šä¸€å±‚æ˜¯å¯¹è±¡æœ¬èº«ã€äºŒå±‚æ˜¯æ–°åŸå‹ã€ä¸‰å±‚æ˜¯æ•°ç»„åŸå‹

// å¦‚æœçœ‹ä¸æ‡‚å°±ç®—äº†ï¼Œåæ­£é¢è¯•å®˜ä¹Ÿçœ‹ä¸æ‡‚
```

<img src="https://imgsubmit.oss-cn-beijing.aliyuncs.com/img/image-20201228185413204.png" alt="image-20201228185413204" style="zoom:67%;" />


â€‹	

## æ€»ç»“

### å¯¹è±¡ä¸­æ–°å¢çš„ key

-   Vue æ²¡æœ‰åŠæ³•äº‹å…ˆç›‘å¬å’Œä»£ç†ï¼ˆå¯¼è‡´ key çš„å˜åŒ–å®Œå…¨ä¸ä¼šå½±å“ UIï¼‰
-   è¦**ä½¿ç”¨ set** æ¥æ–°å¢ keyï¼Œåˆ›å»ºç›‘å¬å’Œä»£ç†ï¼Œæ›´æ–° UI 
-   æœ€å¥½æå‰æŠŠå±æ€§éƒ½å†™å‡ºæ¥ï¼Œä¸è¦æ–°å¢ key 
-   æ³¨æ„ï¼šæ•°ç»„åšä¸åˆ°ã€Œæå‰æŠŠ key å±æ€§å†™å¥½ã€

### æ•°ç»„ä¸­æ–°å¢çš„ key

-   æ•°ç»„å¯ç”¨ set æ¥æ–°å¢ keyï¼Œæ›´æ–° UI
    -   this.$set ä½œç”¨äºæ•°ç»„æ—¶ï¼Œå¹¶ä¸ä¼šè‡ªåŠ¨æ·»åŠ ç›‘å¬å’Œä»£ç†ï¼ŒåŸå› æœªçŸ¥ï¼ˆåªèƒ½é—®å°¤é›¨æºªäº†ï¼‰
        -   å¯ä»¥æµ‹è¯•çœ‹çœ‹ï¼Œset äº†ä¹‹åå†ç”¨ `this.array[n] += 1` æ˜¯å¦ä¼šè§¦å‘ UI æ›´æ–°ï¼ˆç­”æ¡ˆæ˜¯ä¸ä¼šï¼‰
    -   ä½¿ç”¨ Vue æä¾›çš„æ•°ç»„å˜å¼‚ API æ—¶ï¼Œä¼šè‡ªåŠ¨æ·»åŠ ç›‘å¬å’Œä»£ç†
-   ä¸è¿‡å°¤é›¨æºªç¯¡æ”¹äº† 7 ä¸ª API æ–¹ä¾¿å¼€å‘è€…å¯¹æ•°ç»„è¿›è¡Œ**å¢åˆ **
    -   å¢ï¼Œå› ä¸º Vue æ— æ³•ç›‘å¬åˆ°ï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹ä»£ç ï¼Œä½¿ Vue å¯ä»¥ç›‘å¬åˆ°
    -   åˆ ï¼Œè™½ç„¶ Vue å·²ç›‘å¬åˆ°äº†ï¼Œä½†åŸç”Ÿ API ç›´æ¥åˆ é™¤ï¼ŒVue æ˜¯ä¸çŸ¥é“çš„ï¼Œå°±ä¼šæœ‰å¤šä½™çš„ç›‘å¬å™¨ï¼Œæµªè´¹å†…å­˜ï¼Œæ‰€ä»¥åˆ é™¤çš„ API ä¹Ÿä¿®æ”¹ä¸€ä¸‹ï¼Œå®ç°åŒæ—¶æŠŠç›‘å¬å™¨åˆ é™¤
    -   æ”¹ã€æŸ¥ï¼šè¿™ä¸¤ä¸ªæ“ä½œè‚¯å®šå‘ç”Ÿåœ¨ Vue ç›‘å¬çš„ç¯å¢ƒä¸­ï¼Œä¸éœ€è¦å†å¸® Vue æé¢å¤–çš„å¤„ç†ï¼Œç›´æ¥ç”¨åŸç”Ÿ API å³å¯
-   è¿™ 7 ä¸ª API ä¼šè‡ªåŠ¨å¤„ç†ç›‘å¬å’Œä»£ç†ï¼Œå¹¶ï¼ˆå¼‚æ­¥çš„ï¼‰æ›´æ–° UI
    -   pushã€popã€shiftã€unshiftã€spliceã€sortã€reverse
    -   å‰ 5 ä¸ªæ˜¯å¿…è¦çš„ï¼Œå 2 ä¸ªå¯èƒ½æ˜¯ä¸ºäº†æ–¹ä¾¿æ‰æä¾›çš„ï¼Œç”¨å¤„ä¸ç®—å¤§ï¼Œå½“ç„¶å¦‚æœæœ‰éœ€æ±‚è¿˜æ˜¯ä½¿ç”¨ Vue æä¾›çš„ APIï¼Œæ•ˆç‡æ›´é«˜ä¸€äº›








