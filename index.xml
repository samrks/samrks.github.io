<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>Sam&#39;s Garage</title>
        <link>https://liubingxuan.xyz/</link>
        <description>â€ªStay Young. Stay Naive. Stay Curious.</description>
        <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>ryuukousen@gmail.com (Sam)</managingEditor>
            <webMaster>ryuukousen@gmail.com (Sam)</webMaster><lastBuildDate>Wed, 06 Jan 2021 00:28:18 &#43;0800</lastBuildDate>
            <atom:link href="https://liubingxuan.xyz/index.xml" rel="self" type="application/rss+xml" />
        <item>
    <title>ã€ç½®é¡¶ã€‘å¼€åšçºªå¿µğŸ¥°</title>
    <link>https://liubingxuan.xyz/celebration/</link>
    <pubDate>Fri, 06 Mar 2020 20:10:04 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://liubingxuan.xyz/celebration/</guid>
    <description><![CDATA[<h2 id="g-">Gï¼ğŸ‰ğŸ‰ ğŸ’ª</h2>
<blockquote>
<p>â€ªStay young. Stay naive. Stay curious. â€œGrown upsâ€ donâ€™t change the world. They conform to it.</p>
</blockquote>
<blockquote>
<p>Life is simply about getting hit over and over :)</p>
</blockquote>
<blockquote>
<p>Never put off till tomorrow what you can do today :)</p>
</blockquote>
<blockquote>
<p>make IT :)</p>
</blockquote>]]></description>
</item><item>
    <title>Vue ä¸­çš„ .sync ä¿®é¥°ç¬¦æœ‰ä»€ä¹ˆç”¨</title>
    <link>https://liubingxuan.xyz/vue-props-sync/</link>
    <pubDate>Wed, 06 Jan 2021 00:28:18 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://liubingxuan.xyz/vue-props-sync/</guid>
    <description><![CDATA[<h2 id="vue-ä¸­çš„-sync-ä¿®é¥°ç¬¦æœ‰ä»€ä¹ˆç”¨">Vue ä¸­çš„ .sync ä¿®é¥°ç¬¦æœ‰ä»€ä¹ˆç”¨</h2>
<blockquote>
<p><a href="https://cn.vuejs.org/v2/guide/components-custom-events.html#sync-%E4%BF%AE%E9%A5%B0%E7%AC%A6" target="_blank" rel="noopener noreffer">å®˜æ–¹æ–‡æ¡£</a></p>
</blockquote>
<ul>
<li>.sync æ˜¯ã€Œå®ç° Vue ç»„ä»¶é—´ä¼ å€¼ã€çš„ä¸€ä¸ªè¯­æ³•ç³–</li>
</ul>
<p>â€‹</p>
<h3 id="ç»„ä»¶é—´ä¼ å€¼çš„å®ç°">ç»„ä»¶é—´ä¼ å€¼çš„å®ç°</h3>
<blockquote>
<p>props ä¼ å€¼éµå¾ª<a href="https://cn.vuejs.org/v2/guide/components-props.html#%E5%8D%95%E5%90%91%E6%95%B0%E6%8D%AE%E6%B5%81" target="_blank" rel="noopener noreffer">å•å‘æ•°æ®æµ</a>åŸåˆ™ï¼šçˆ¶çº§ prop çš„æ›´æ–°ä¼šå‘ä¸‹æµåŠ¨åˆ°å­ç»„ä»¶ä¸­ï¼Œä½†æ˜¯åè¿‡æ¥åˆ™ä¸è¡Œã€‚è¿™æ ·å¯ä»¥é˜²æ­¢å­ç»„ä»¶æ„å¤–å˜æ›´çˆ¶ç»„ä»¶çš„æ•°æ®ï¼Œä»è€Œå¯¼è‡´ä½ çš„åº”ç”¨çš„æ•°æ®æµå‘éš¾ä»¥ç†è§£ã€‚</p>
</blockquote>
<h4 id="æ€è·¯">æ€è·¯</h4>
<ul>
<li>æ•°æ®ä»çˆ¶ç»„ä»¶ä¼ å…¥å­ç»„ä»¶ï¼Œæˆ‘ä»¬æ— æ³•åœ¨å­ç»„ä»¶ä¸­ç›´æ¥ä¿®æ”¹ props ä¼ å…¥çš„å¤–éƒ¨æ•°æ®ï¼Œåªèƒ½åœ¨çˆ¶ç»„ä»¶ä¸­è¿›è¡Œä¿®æ”¹ï¼Œè€Œæ›´æ–°åçš„æ•°æ®ä¼šè‡ªåŠ¨æµå‘å­ç»„ä»¶</li>
<li><a href="https://cn.vuejs.org/v2/guide/components-props.html#ad" target="_blank" rel="noopener noreffer">props</a> åŠ  <a href="https://cn.vuejs.org/v2/api/#vm-emit" target="_blank" rel="noopener noreffer">vm.$emit</a> å®ç°ç»„ä»¶ä¼ å€¼
<ul>
<li>props ç”¨äºæ¥æ”¶çˆ¶ç»„ä»¶çš„æ•°æ®</li>
<li>vm.$emitï¼ˆè‡ªå®šä¹‰äº‹ä»¶ï¼‰ç”¨äºè§¦å‘çˆ¶ç»„ä»¶äº‹ä»¶ï¼Œå¹¶ä¼ å‚</li>
</ul>
</li>
</ul>
<h4 id="å…·ä½“å®ç°">å…·ä½“å®ç°</h4>
<blockquote>
<p>äº‹ä»¶çš„å‘å¸ƒã€è®¢é˜…</p>
</blockquote>
<p><a href="https://codesandbox.io/s/objective-cloud-qnzvy?file=/src/Parent.vue" target="_blank" rel="noopener noreffer">åœ¨çº¿æ¼”ç¤º</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-vue" data-lang="vue"><span class="c">&lt;!--</span> <span class="nx">Parent</span><span class="p">.</span><span class="nx">vue</span> <span class="o">--&gt;</span>
<span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;</span>
    <span class="nx">Parent</span><span class="p">.</span><span class="nx">vue</span> <span class="nx">ç°åœ¨æœ‰</span> <span class="p">{{</span> <span class="nx">total</span> <span class="p">}}</span>
    <span class="p">&lt;</span><span class="nt">hr</span> <span class="p">/&gt;</span>
    <span class="c">&lt;!--</span> <span class="nx">å‘</span> <span class="nx">Child</span> <span class="nx">ç»„ä»¶ä¼ é€’</span> <span class="nx">money</span> <span class="nx">å±æ€§</span> <span class="o">--&gt;</span>
    <span class="p">&lt;</span><span class="nt">Child</span> <span class="nt">:money</span><span class="s">=&#34;total&#34;</span> <span class="err">@</span><span class="na">update</span><span class="o">:</span><span class="na">money</span><span class="o">=</span><span class="s">&#34;total = $event&#34;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="kr">import</span> <span class="nx">Child</span> <span class="nx">from</span> <span class="s2">&#34;./Child.vue&#34;</span>
<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">data</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">total</span><span class="o">:</span> <span class="mi">10000</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">components</span><span class="o">:</span> <span class="p">{</span> <span class="nx">Child</span> <span class="p">},</span> 
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-vue" data-lang="vue"><span class="c">&lt;!--</span> <span class="nx">Child</span><span class="p">.</span><span class="nx">vue</span> <span class="o">--&gt;</span>
<span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;child&#34;</span><span class="p">&gt;</span>
    <span class="nx">Child</span><span class="p">.</span><span class="nx">vue</span> <span class="nx">ç°åœ¨æœ‰</span> <span class="p">{{</span> <span class="nx">money</span> <span class="p">}}</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="err">@</span><span class="na">click</span><span class="o">=</span><span class="s">&#34;$emit(&#39;update:money&#39;, money-100)&#34;</span><span class="p">&gt;</span><span class="nx">èŠ±é’±</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">props</span><span class="o">:</span> <span class="p">[</span><span class="s2">&#34;money&#34;</span><span class="p">],</span> <span class="c1">// æ¥æ”¶åˆ° money å±æ€§
</span><span class="c1"></span><span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p></p>
<p>â€‹</p>
<p>â€‹</p>
<h3 id="sync-çš„ä½¿ç”¨">.sync çš„ä½¿ç”¨</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-vue" data-lang="vue"><span class="c">&lt;!--</span> <span class="nx">Parent</span><span class="p">.</span><span class="nx">vue</span> <span class="o">--&gt;</span>
<span class="p">&lt;</span><span class="nt">Child</span> <span class="nt">:å±æ€§å.sync</span><span class="s">=&#34;æ•°æ®&#34;</span> <span class="p">/&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="ç¤ºä¾‹">ç¤ºä¾‹</h4>
<blockquote>
<p><a href="https://codesandbox.io/s/sweet-pine-pij57?file=/src/Parent.vue" target="_blank" rel="noopener noreffer">åœ¨çº¿æ¼”ç¤º</a></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-vue" data-lang="vue"><span class="c">&lt;!--</span> <span class="nx">Parent</span><span class="p">.</span><span class="nx">vue</span> <span class="o">--&gt;</span>
<span class="p">&lt;</span><span class="nt">Child</span> <span class="nt">:money.sync</span><span class="s">=&#34;total&#34;</span> <span class="p">/&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>ğŸ‘† ä¼šæ‰©å±•å‡ºä¸€ä¸ªå®Œæ•´çš„äº‹ä»¶ç»‘å®š ğŸ‘‡</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-vue" data-lang="vue"><span class="c">&lt;!--</span> <span class="nx">Parent</span><span class="p">.</span><span class="nx">vue</span> <span class="o">--&gt;</span>
<span class="p">&lt;</span><span class="nt">Child</span> <span class="nt">:money</span><span class="s">=&#34;total&#34;</span>  <span class="err">@</span><span class="na">update</span><span class="o">:</span><span class="na">money</span><span class="o">=</span><span class="s">&#34;total = $event&#34;</span> <span class="p">/&gt;</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>å½“å­ç»„ä»¶éœ€è¦æ›´æ–°ã€Œæ•°æ® total ã€æ—¶ï¼Œå®ƒéœ€è¦æ˜¾å¼çš„è§¦å‘ä¸€ä¸ªæ›´æ–°äº‹ä»¶ã€Œ<code>update:å±æ€§å</code>ã€</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">// Child.vue
this.$emit(&#39;update:å±æ€§å&#39;, æ›´æ–°æ•°æ®)
ğŸ‘‡
&lt;button @click=&#34;$emit(&#39;update:money&#39;, money-100)&#34;&gt;èŠ±é’±&lt;/button&gt;
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<p>â€‹</p>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<p><a href="https://www.jianshu.com/p/6b062af8cf01">https://www.jianshu.com/p/6b062af8cf01</a></p>
<p><a href="https://segmentfault.com/a/1190000010700521">https://segmentfault.com/a/1190000010700521</a></p>]]></description>
</item><item>
    <title>æ·±å…¥ç†è§£ Vue æ•°æ®å“åº”å¼</title>
    <link>https://liubingxuan.xyz/vue-reactivity/</link>
    <pubDate>Thu, 31 Dec 2020 23:45:19 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://liubingxuan.xyz/vue-reactivity/</guid>
    <description><![CDATA[<h2 id="ç›¸å…³æ–‡ç« å‚è€ƒ">ç›¸å…³æ–‡ç« ï¼ˆå‚è€ƒï¼‰</h2>
<p><a href="https://g.yuque.com/weixiaozhudelaocaipi/yy8wge/vn5cw7" target="_blank" rel="noopener noreffer">Vueå“åº”å¼åŸç†-ç†è§£Observerã€Depã€Watcher</a></p>
<p><a href="https://cn.vuejs.org/v2/guide/reactivity.html#%E5%A6%82%E4%BD%95%E8%BF%BD%E8%B8%AA%E5%8F%98%E5%8C%96" target="_blank" rel="noopener noreffer">æ·±å…¥å“åº”å¼åŸç†â€”â€” Vue å®˜æ–¹æ–‡æ¡£</a></p>
<p><a href="https://www.codenong.com/j5e5e70f751882548ff3/" target="_blank" rel="noopener noreffer">Vue3å°†è¦ä½¿ç”¨Proxyä½œä¸ºæ•°æ®é©±åŠ¨ï¼Œä¸æƒ³è¿›æ¥çœ‹çœ‹å—ï¼Ÿ</a></p>
<p><a href="https://g.yuque.com/weixiaozhudelaocaipi/yy8wge/pi0dhp?language=en-us" target="_blank" rel="noopener noreffer">vue3.0å°é²œ &ndash; æ‘’å¼ƒObject.definePropertyï¼ŒåŸºäº Proxy çš„è§‚å¯Ÿè€…æœºåˆ¶æ¢ç´¢</a></p>
<p><a href="https://segmentfault.com/a/1190000016028331" target="_blank" rel="noopener noreffer">åˆ©ç”¨Proxyè‡ªåŠ¨æ·»åŠ å“åº”å¼å±æ€§</a></p>
<p><a href="https://blog.fundebug.com/2019/07/10/responsive-vue/" target="_blank" rel="noopener noreffer">è¯¦è§£Vueå“åº”å¼åŸç†</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/143933911" target="_blank" rel="noopener noreffer">ä½ çœŸçš„ç†è§£Vueçš„æ•°æ®å“åº”å¼å—</a></p>
<p>â€‹</p>
<h2 id="ä»€ä¹ˆæ˜¯æ•°æ®å“åº”å¼">ä»€ä¹ˆæ˜¯æ•°æ®å“åº”å¼</h2>
<h3 id="å“åº”">å“åº”</h3>
<p>â€œå“åº”â€ï¼Œä¸­æ–‡çš„æ„æ€ä¹Ÿå°±æ˜¯â€œå›åº”â€ã€‚æ¯”å¦‚ï¼Œåˆ«äººå«ä½ ä¸€å£°æˆ–è€…ç»™ä½ å‘æ¶ˆæ¯ï¼Œä½ å›å¤äº†ä»–ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å«å“åº”ã€‚</p>
<h3 id="æ•°æ®å“åº”å¼">æ•°æ®å“åº”å¼</h3>
<p><a href="https://link.zhihu.com/?target=https%3A//cn.vuejs.org/v2/guide/reactivity.html" target="_blank" rel="noopener noreffer">Vue çš„å®˜æ–¹æ–‡æ¡£</a>å·²ç»å¾ˆæ˜ç¡®çš„å‘Šè¯‰æˆ‘ä»¬ï¼š</p>
<ul>
<li>åªè¦ä¿®æ”¹æ•°æ® dataï¼ˆ<code>render(data)</code> åšå‡ºå“åº”ï¼‰å°±ä¼šé‡æ–°æ¸²æŸ“è§†å›¾ï¼ˆä¸éœ€è¦å¼€å‘è€…å†å»æ“ä½œ DOMï¼‰</li>
<li>è¿™ä¸ªè”åŠ¨çš„è¿‡ç¨‹ï¼Œå°±æ˜¯ vue çš„æ•°æ®å“åº”å¼</li>
<li>è¿™ä¹Ÿæ˜¯ Vue æœ€ç‹¬ç‰¹çš„ç‰¹æ€§ä¹‹ä¸€ â€”â€” <strong>éä¾µå…¥æ€§çš„å“åº”å¼ç³»ç»Ÿ</strong>ã€‚</li>
</ul>
<h4 id="æ€ä¹ˆç†è§£éä¾µå…¥æ€§">æ€ä¹ˆç†è§£â€œéä¾µå…¥æ€§â€</h4>
<p>æˆ‘è§‰å¾—ï¼Œå¯ä»¥ç†è§£ä¸ºâ€œä¸å¯ç¯¡æ”¹çš„â€ï¼š</p>
<ul>
<li>å³ç”¨æˆ·æ— æ³•ç»•è¿‡ Vue çš„ç›‘å¬ï¼Œå»ç¯¡æ”¹å†…éƒ¨æ•°æ®</li>
<li>Vue åšåˆ°äº†ã€Œæ— è®ºç”¨æˆ·ä»¥ä»»ä½•æ–¹å¼ä¿®æ”¹ data ä¸­çš„å†…éƒ¨æ•°æ®ï¼Œéƒ½ä¼šè¢«å½“å‰ Vue ç»„ä»¶ç›‘å¬åˆ°ï¼Œå¹¶é€šçŸ¥å¯¹åº”çš„ watcherï¼Œä»è€Œé‡æ–°æ¸²æŸ“ä¸æ•°æ®å…³è”çš„ç»„ä»¶ã€</li>
<li>æ‹“å±•ï¼šè¯¥ç‰¹æ€§ä¾é ã€Œä»£ç† proxyã€å®ç°</li>
</ul>
<p>â€‹</p>
<h2 id="æµ…ævue-å“åº”å¼åŸç†">æµ…æã€ŒVue å“åº”å¼åŸç†ã€</h2>
<blockquote>
<p>Vue æ˜¯é€šè¿‡ Object.defineProperty æ¥å®ç°æ•°æ®å“åº”å¼</p>
</blockquote>
<p>å½“æˆ‘ä»¬æŠŠä¸€ä¸ªå¯¹è±¡ä½œä¸º data é€‰é¡¹ä¼ å…¥ Vue å®ä¾‹ï¼ŒVue ä¼šéå† data ä¸­çš„æ‰€æœ‰å±æ€§ï¼Œå¹¶ç”¨ Object.defineProperty å¯¹è¿™äº›å±æ€§è¿›è¡Œæ”¹é€ ï¼Œ<strong>ç”¨ getter / setter ç›‘æ§æ¯ä¸ªå±æ€§çš„è¯»å†™</strong>ã€‚</p>
<p>æ¯ä¸ªç»„ä»¶å®ä¾‹éƒ½å¯¹åº”ä¸€ä¸ª watcher å®ä¾‹ï¼Œå®ƒä¼šæ ¹æ® getter çš„è§¦å‘æ¥è®°å½•æ¸²æŸ“è§†å›¾ç”¨åˆ°çš„æ•°æ®ä¾èµ–é¡¹ã€‚<strong>å½“è¿™äº›æ•°æ®çš„ setter è§¦å‘ï¼ˆæ•°æ®è¢«ä¿®æ”¹ï¼‰æ—¶</strong>ï¼Œä¼šé€šçŸ¥ watcherï¼Œä»è€Œ<strong>ä½¿æ•°æ®å…³è”çš„ç»„ä»¶é‡æ–°æ¸²æŸ“</strong>ã€‚</p>
<p></p>
<blockquote>
<p><a href="https://cn.vuejs.org/v2/guide/reactivity.html#%E5%A6%82%E4%BD%95%E8%BF%BD%E8%B8%AA%E5%8F%98%E5%8C%96" target="_blank" rel="noopener noreffer">å¦‚ä½•è¿½è¸ªå˜åŒ–</a></p>
<ul>
<li>å½“ä½ æŠŠä¸€ä¸ªæ™®é€šçš„ JavaScript å¯¹è±¡ä¼ å…¥ Vue å®ä¾‹ä½œä¸º data é€‰é¡¹ï¼ŒVue å°†éå†æ­¤å¯¹è±¡æ‰€æœ‰çš„ propertyï¼Œå¹¶ä½¿ç”¨ Object.defineProperty æŠŠè¿™äº› property å…¨éƒ¨è½¬ä¸º getter/setterã€‚</li>
<li>è¿™äº› getter/setter å¯¹ç”¨æˆ·æ¥è¯´æ˜¯ä¸å¯è§çš„ï¼Œä½†æ˜¯åœ¨å†…éƒ¨å®ƒä»¬è®© Vue èƒ½å¤Ÿè¿½è¸ªä¾èµ–ï¼Œåœ¨ property è¢«è®¿é—®å’Œä¿®æ”¹æ—¶é€šçŸ¥å˜æ›´ã€‚</li>
<li>æ¯ä¸ªç»„ä»¶å®ä¾‹éƒ½å¯¹åº”ä¸€ä¸ª watcher å®ä¾‹ï¼Œå®ƒä¼šåœ¨ç»„ä»¶æ¸²æŸ“çš„è¿‡ç¨‹ä¸­æŠŠâ€œæ¥è§¦â€è¿‡çš„æ•°æ® property è®°å½•ä¸ºä¾èµ–ã€‚ä¹‹åå½“ä¾èµ–é¡¹çš„ setter è§¦å‘æ—¶ï¼Œä¼šé€šçŸ¥ watcherï¼Œä»è€Œä½¿å®ƒå…³è”çš„ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚</li>
</ul>
</blockquote>
<h2 id="æ·±å…¥å“åº”å¼åŸç†">æ·±å…¥å“åº”å¼åŸç†</h2>
<h3 id="æ™®é€šå¯¹è±¡--ä¼ å…¥-vue-çš„æ™®é€šå¯¹è±¡">æ™®é€šå¯¹è±¡ ğŸ†š ä¼ å…¥ Vue çš„æ™®é€šå¯¹è±¡</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">myData</span> <span class="o">=</span> <span class="p">{</span> <span class="c1">// myData æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡
</span><span class="c1"></span>  <span class="nx">n</span><span class="o">:</span> <span class="mi">0</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myData</span><span class="p">)</span>  <span class="c1">// ï¼ˆè¾“å‡ºå¦‚ä¸‹å›¾ï¼‰
</span></code></pre></td></tr></table>
</div>
</div><p></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">myData</span> <span class="o">=</span> <span class="p">{</span> <span class="c1">// myData æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡
</span><span class="c1"></span>  <span class="nx">n</span><span class="o">:</span> <span class="mi">0</span>
<span class="p">}</span>
<span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nx">myData</span>  <span class="c1">// æŠŠ myData ä½œä¸º data é€‰é¡¹ï¼Œä¼ å…¥ Vue å®ä¾‹
</span><span class="c1"></span><span class="p">})</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myData</span><span class="p">)</span> <span class="c1">// çœ‹çœ‹ç°åœ¨çš„ myData æ˜¯ä»€ä¹ˆæ ·å­ï¼ˆè¾“å‡ºå¦‚ä¸‹å›¾ï¼‰
</span></code></pre></td></tr></table>
</div>
</div><p></p>
<h3 id="vue-å¯¹-data-åšäº†ä»€ä¹ˆ">Vue å¯¹ data åšäº†ä»€ä¹ˆ</h3>
<blockquote>
<p>Vue æœ€ç‹¬ç‰¹çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œæ˜¯å…¶éä¾µå…¥æ€§çš„å“åº”å¼ç³»ç»Ÿã€‚æ•°æ®æ¨¡å‹ä»…ä»…æ˜¯æ™®é€šçš„ JavaScript å¯¹è±¡ã€‚è€Œå½“ä½ ä¿®æ”¹å®ƒä»¬æ—¶ï¼Œè§†å›¾ä¼šè¿›è¡Œæ›´æ–°ã€‚</p>
</blockquote>
<p>å½“æˆ‘ä»¬æŠŠ data é€‰é¡¹ä¼ å…¥ Vue å®ä¾‹ï¼ŒVue ä¼šéå† data ä¸­çš„æ‰€æœ‰å±æ€§ï¼ˆpropertyï¼‰ï¼Œè¿›è¡Œã€Œç›‘å¬å’Œä»£ç†ã€</p>
<ul>
<li><strong>ç›‘å¬ï¼šæ•°æ®å“åº”å¼çš„åº•å±‚ç»†èŠ‚</strong></li>
<li>ä»£ç†ï¼šä¸æš´éœ²ä»»ä½•æ¥å£ï¼Œé˜²æ­¢ç”¨æˆ·ç¯¡æ”¹æ•°æ®</li>
</ul>
<p>ä»è€Œå°†è¿™äº›æ•°æ®æ”¹é€ æˆéä¾µå…¥æ€§çš„å“åº”å¼æ•°æ®</p>
<p>â€‹</p>
<h3 id="å‰ç½®çŸ¥è¯†">å‰ç½®çŸ¥è¯†</h3>
<h4 id="objectdefineproperty">Object.defineProperty</h4>
<blockquote>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener noreffer">MDN</a>ï¼š<code>Object.defineProperty()</code> æ–¹æ³•ä¼šç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„ç°æœ‰å±æ€§ï¼Œå¹¶è¿”å›æ­¤å¯¹è±¡ã€‚</p>
</blockquote>
<p><strong>ä½¿ç”¨æ–¹å¼</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">descriptor</span><span class="p">)</span>
<span class="c1">// obj ä»£è¡¨å®šä¹‰å±æ€§çš„å¯¹è±¡ï¼›prop ä»£è¡¨å®šä¹‰çš„å±æ€§åç§°ï¼›descriptor ä»£è¡¨å®šä¹‰çš„å†…å®¹ã€‚
</span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>éœ€æ±‚ â­•ï¸ ç”¨ Object.defineProperty æ·»åŠ å±æ€§ nï¼Œå€¼ä¸º 0</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">data1</span> <span class="o">=</span> <span class="p">{}</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">data1</span><span class="p">,</span> <span class="s2">&#34;n&#34;</span><span class="p">,</span> <span class="p">{</span>  <span class="c1">// è¡¨ç¤ºå‘ å¯¹è±¡data1 ä¸­æ·»åŠ å±æ€§ &#34;n&#34;ï¼Œå€¼ä¸º 0
</span><span class="c1"></span>  <span class="nx">value</span><span class="o">:</span> <span class="mi">0</span>
<span class="p">})</span> 
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data1</span><span class="p">)</span>    <span class="c1">// { n: 0 }
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data1</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span>  <span class="c1">// 0
</span></code></pre></td></tr></table>
</div>
</div><p></p>
<h4 id="getter--setter">getter / setter</h4>
<blockquote>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty#%E6%8F%8F%E8%BF%B0" target="_blank" rel="noopener noreffer">MDNï¼šgetter/setter æè¿° </a>ã€<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty#%E8%87%AA%E5%AE%9A%E4%B9%89_Setters_%E5%92%8C_Getters" target="_blank" rel="noopener noreffer">ç¤ºä¾‹</a></p>
<ul>
<li>getï¼šå±æ€§çš„ getter å‡½æ•°ã€‚å½“è®¿é—®è¯¥å±æ€§æ—¶ï¼Œä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚ä¸ä¼ å…¥ä»»ä½•å‚æ•°</li>
<li>setï¼šå±æ€§çš„ setter å‡½æ•°ã€‚å½“å±æ€§å€¼è¢«ä¿®æ”¹æ—¶ï¼Œä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚æ¥å—ä¸€ä¸ªå‚æ•°ï¼ˆä¹Ÿå°±æ˜¯è¢«èµ‹äºˆçš„æ–°å€¼ï¼‰</li>
</ul>
</blockquote>
<blockquote>
<p>éœ€æ±‚ â­•ï¸ ç”¨ Object.defineProperty æ·»åŠ å±æ€§ nï¼Œå¹¶ç›‘å¬ n çš„è¯»å–ã€‚</p>
<ul>
<li>ä½¿ç”¨ Object.defineProperty æŠŠè¿™äº› property å…¨éƒ¨è½¬ä¸º getter/setterã€‚</li>
<li>è®¾ç½® getter / setterï¼Œå½“æˆ‘ä»¬è¯»å– n æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œ getterï¼Œä¿®æ”¹ n æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œ setter</li>
</ul>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">data2</span> <span class="o">=</span> <span class="p">{}</span>
<span class="nx">data2</span><span class="p">.</span><span class="nx">_n</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1">// æ·»åŠ ä¸€ä¸ªåª’ä»‹å±æ€§ _n ç”¨äºå­˜å‚¨ n çš„åŸå€¼ 0
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">data2</span><span class="p">,</span> <span class="s2">&#34;n&#34;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">get</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// return this.n ä¸ºä»€ä¹ˆ getter ä¸ç›´æ¥è¿”å› this.nï¼Œè€Œéœ€è¦é¢å¤–å£°æ˜ä¸€ä¸ªå±æ€§ _nï¼Œè¿™ä¸å¤šæ­¤ä¸€ä¸¾å— ï¼Ÿ
</span><span class="c1"></span>    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_n</span>
  <span class="p">},</span>
  <span class="nx">set</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_n</span> <span class="o">=</span> <span class="nx">value</span>
  <span class="p">}</span>
<span class="p">})</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data2</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// 0
</span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ç–‘é—®ï¼šä¸ºä»€ä¹ˆ getter ä¸ç›´æ¥è¿”å› this.nï¼Œè€Œéœ€è¦é¢å¤–å£°æ˜  _n æ¥å­˜å‚¨ä¸‹ n å€¼ï¼Œå¹¶ç”¨ _n ä½œä¸ºä¸­è½¬å‘¢ ï¼Ÿ</p>
</blockquote>
<p>åŸå› ï¼š</p>
<ul>
<li>æ‰€æœ‰è¯»å– n çš„æ“ä½œï¼ˆdata2.nã€this.nï¼‰ï¼Œéƒ½ä¼šè‡ªåŠ¨è°ƒå– getter æ–¹æ³•çš„è¿”å›å€¼ï¼Œä½œä¸º n å€¼</li>
<li>å¦‚æœè¯»å– n æ—¶ï¼Œgetter è¿”å› this.nï¼Œthis.n ä»æ˜¯è¯»å– n å€¼çš„æ“ä½œï¼Œä¼šæ¥ç€è‡ªåŠ¨è·å– getter è¿”å›å€¼ï¼Œäºæ˜¯è¿™å°±æˆäº†ä¸€ä¸ªã€Œæ­»å¾ªç¯ã€ï¼Œä¸åœçš„è¯»å– nï¼Œå§‹ç»ˆæ‹¿ä¸åˆ°ç»ˆå€¼</li>
<li>æ‰€ä»¥å£°æ˜ä¸€ä¸ªåª’ä»‹å±æ€§ _n æ¥å­˜å‚¨ n å€¼ã€‚å½“è¯»å– n æ—¶ï¼Œgetter è¿”å› _n å€¼ï¼Œå†™å…¥ n æ—¶ setter ä¿®æ”¹ _n å€¼</li>
</ul>
<p>â€‹</p>
<blockquote>
<p>ç–‘æƒ‘ï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥åœ¨å£°æ˜å¯¹è±¡æ—¶å°±å®šä¹‰å±æ€§ <code>n : 0</code> ï¼Œç”¨ Object.defineProperty ä¸æ˜¯æŠŠè¿‡ç¨‹å¤æ‚åŒ–äº†å— ï¼Ÿ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">data1</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">n</span><span class="o">:</span> <span class="mi">0</span> <span class="p">}</span> 
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data1</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span>  <span class="c1">// 0
</span><span class="c1"></span><span class="nx">data1</span><span class="p">.</span><span class="nx">n</span> <span class="o">=</span> <span class="mi">100</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data1</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span>  <span class="c1">// 100
</span></code></pre></td></tr></table>
</div>
</div><p>å­—é¢é‡å½¢å¼åˆ›å»ºå¯¹è±¡ï¼Œæ˜“è¯»æ˜“å†™ï¼Œéš¾é“ä¸é¦™ ï¼Ÿ ç­”ï¼šä¸é¦™ï¼ˆå¾€ä¸‹çœ‹åŸå› ï¼‰</p>
</blockquote>
<p>â€‹</p>
<h4 id="ä¸ºä»€ä¹ˆä½¿ç”¨è¿™ä¸ª-api-ä½œç”¨">ä¸ºä»€ä¹ˆä½¿ç”¨è¿™ä¸ª API ï¼ˆä½œç”¨ï¼‰</h4>
<blockquote>
<p>å½“éœ€æ±‚å˜å¤æ‚ â†“</p>
<ul>
<li>éœ€æ±‚ â­•ï¸ æ·»åŠ å±æ€§ nï¼Œé»˜è®¤å€¼ 0 ã€‚åŒæ—¶ï¼Œé™åˆ¶ n çš„èµ‹å€¼æ°¸è¿œä¸èƒ½å°äº 0</li>
<li>æ¯”å¦‚ï¼šèµ‹å€¼ <code>data2.n = -1</code> æ˜¯æ— æ•ˆçš„ï¼Œèµ‹å€¼ <code>data2.n = 1</code> æœ‰æ•ˆ</li>
</ul>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">data2</span> <span class="o">=</span> <span class="p">{}</span>
<span class="nx">data2</span><span class="p">.</span><span class="nx">_n</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">data2</span><span class="p">,</span> <span class="s2">&#34;n&#34;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">get</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// others ...
</span><span class="c1"></span>    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_n</span> 
  <span class="p">},</span>
  <span class="nx">set</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span>  <span class="c1">// ğŸ‘ˆ å¦‚æœ value å°äº 0ï¼Œå°±ç›´æ¥è¿”å›ï¼Œä¸æ‰§è¡Œèµ‹å€¼æ“ä½œ
</span><span class="c1"></span>    <span class="k">this</span><span class="p">.</span><span class="nx">_n</span> <span class="o">=</span> <span class="nx">value</span>
    <span class="c1">// others ...
</span><span class="c1"></span>  <span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æ‰€ä»¥ï¼Œä½¿ç”¨ Object.defineProperty æŠŠå¯¹è±¡çš„å±æ€§å…¨éƒ¨è½¬ä¸º <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty#%E8%87%AA%E5%AE%9A%E4%B9%89_Setters_%E5%92%8C_Getters" target="_blank" rel="noopener noreffer">getter/setter</a></p>
<ul>
<li><strong>è¿™æ ·å¯ä»¥å®ç°åœ¨è¯»å†™è§¦å‘çš„åŒæ—¶ï¼Œæ·»åŠ å…¶ä»–æ“ä½œã€‚</strong></li>
<li>Vue å°±æ˜¯åˆ©ç”¨ Object.defineProperty çš„è¿™ä¸€ç‰¹æ€§ï¼Œå®ç°æ•°æ®ç›‘å¬çš„æ•ˆæœ</li>
</ul>
</blockquote>
<p>â€‹</p>
<h3 id="ç›‘å¬çš„é€»è¾‘-">ç›‘å¬çš„é€»è¾‘ ğŸ“Œ</h3>
<blockquote>
<p>Vue çš„å“åº”å¼åŸç†ï¼Œé€šè¿‡ Object.defineProperty å®ç°</p>
</blockquote>
<h4 id="ç¤ºä¾‹">ç¤ºä¾‹</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// demo.vue ç»„ä»¶
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">myData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;jack&#39;</span><span class="p">,</span>
  <span class="nx">sex</span><span class="o">:</span> <span class="s1">&#39;male&#39;</span><span class="p">,</span>
  <span class="nx">age</span><span class="o">:</span> <span class="mi">20</span>
<span class="p">}</span>
<span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nx">myData</span><span class="p">,</span>  <span class="c1">// å½“æˆ‘ä»¬æŠŠ myData ä½œä¸º data é€‰é¡¹ä¼ å…¥ Vue å®ä¾‹ï¼ŒVue ä¼š ... ğŸ”—
</span><span class="c1"></span>  <span class="nx">template</span><span class="o">:</span> <span class="sb">`
</span><span class="sb">		&lt;div&gt;
</span><span class="sb">			å§“åï¼š{{ name }}
</span><span class="sb">			å¹´é¾„ï¼š{{ age }}
</span><span class="sb">		&lt;/div&gt;
</span><span class="sb">	`</span>
<span class="p">}).</span><span class="nx">$mount</span><span class="p">(</span><span class="s2">&#34;#app&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p></p>
<h4 id="æ¨¡æ‹Ÿ-vue-å†…éƒ¨æ“ä½œ">æ¨¡æ‹Ÿ Vue å†…éƒ¨æ“ä½œ</h4>
<blockquote>
<p>ğŸ”— Vue ä¼šéå† dataï¼Œå¹¶é€šè¿‡ Object.defineproperty å°† data ä¸­çš„æ¯ä¸€é¡¹æ•°æ®æ”¹é€ æˆ getter/setter</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// å½“ Vue æ¥æ”¶åˆ° myDataï¼Œä¼šéå†å¯¹è±¡ã€ä½¿ç”¨ Object.defineProperty è¿›è¡Œæ”¹é€ 
</span><span class="c1"></span><span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">myData</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">data</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="c1">// val å­˜å‚¨å½“å‰éå†å±æ€§çš„åŸå€¼
</span><span class="c1"></span>  <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">get</span><span class="p">()</span> <span class="p">{</span>
      <span class="c1">// others... é€šçŸ¥ watcher æ·»åŠ ä¾èµ–é¡¹ ğŸ“Œ
</span><span class="c1"></span>      <span class="k">return</span> <span class="nx">val</span> <span class="c1">// è§¦å‘ get å‡½æ•°ï¼Œè¿”å›å±æ€§çš„å€¼
</span><span class="c1"></span>    <span class="p">},</span>
    <span class="nx">set</span><span class="p">(</span><span class="nx">newVal</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">val</span> <span class="o">=</span> <span class="nx">newVal</span> <span class="c1">// è§¦å‘ set å‡½æ•°ï¼Œä¿®æ”¹å±æ€§çš„å€¼
</span><span class="c1"></span>      <span class="c1">// others... é€šçŸ¥ watcher æ¸²æŸ“å…³è”ç»„ä»¶ ğŸ“Œ
</span><span class="c1"></span>    <span class="p">}</span>
  <span class="p">})</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æ¯ä¸ªç»„ä»¶å®ä¾‹éƒ½å¯¹åº”ä¸€ä¸ª watcher å®ä¾‹</p>
<ul>
<li>åœ¨ç»„ä»¶<strong>æ¸²æŸ“</strong>çš„è¿‡ç¨‹ä¸­ï¼Œgetter è¢«è§¦å‘çš„æ•°æ®ï¼Œä¼šè¢« watcher è®°å½•ä¸ºã€Œæ¸²æŸ“è§†å›¾çš„<strong>ä¾èµ–é¡¹</strong>ã€</li>
</ul>
<ul>
<li>å½“<strong>ä¾èµ–é¡¹</strong>çš„ setter è§¦å‘æ—¶ï¼ˆè¯´æ˜æ•°æ®è¢«ä¿®æ”¹ï¼‰ï¼Œä¼šé€šçŸ¥ watcherï¼Œä»è€Œä½¿å®ƒ<strong>å…³è”çš„ç»„ä»¶é‡æ–°æ¸²æŸ“</strong></li>
</ul>
</blockquote>
<h4 id="ç¤ºä¾‹åˆ†æ">ç¤ºä¾‹åˆ†æ</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// demo.vue ç»„ä»¶
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">myData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;jack&#39;</span><span class="p">,</span>
  <span class="nx">sex</span><span class="o">:</span> <span class="s1">&#39;male&#39;</span><span class="p">,</span>
  <span class="nx">age</span><span class="o">:</span> <span class="mi">20</span>
<span class="p">}</span>
<span class="kr">const</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nx">myData</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`
</span><span class="sb">		&lt;div&gt;
</span><span class="sb">			å§“åï¼š{{ name }}  
</span><span class="sb">			å¹´é¾„ï¼š{{ age }}
</span><span class="sb">		&lt;/div&gt;
</span><span class="sb">	`</span> <span class="c1">// ğŸ‘† è§†å›¾æ¸²æŸ“ï¼Œè§¦å‘äº† name å’Œ age çš„ getterï¼Œé€šçŸ¥ watcher è®°å½•å±æ€§ä¸ºä¾èµ–é¡¹
</span><span class="c1"></span><span class="p">}).</span><span class="nx">$mount</span><span class="p">(</span><span class="s2">&#34;#app&#34;</span><span class="p">)</span>

<span class="nx">myData</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">&#39;rose&#39;</span> 
<span class="c1">// ğŸ‘† è§¦å‘ name çš„ setterï¼Œä¾èµ–é¡¹çš„ setter è¢«è§¦å‘ï¼Œé€šçŸ¥ watcher é‡æ–°æ¸²æŸ“ç›¸å…³ç»„ä»¶
</span></code></pre></td></tr></table>
</div>
</div><p></p>
<blockquote>
<p>ä»¥ä¸Š</p>
<p>ä¸€ä¸ªç®€å•çš„æ•°æ®å“åº”å¼ï¼Œå°±æ˜¯è¿™æ ·å®ç°çš„</p>
</blockquote>
<h3 id="æ‹“å±•ä»£ç†çš„é€»è¾‘">æ‹“å±•ï¼šä»£ç†çš„é€»è¾‘</h3>
<blockquote>
<p>éœ€æ±‚ â­•ï¸ å‘å¯¹è±¡ä¸­å­˜å‚¨ä¸€ä¸ªå±æ€§ nï¼Œæ¡ä»¶æ˜¯ n çš„èµ‹å€¼æ°¸è¿œä¸èƒ½å°äº0</p>
<ul>
<li>è¯·é—®ï¼Œæˆ‘ä»¬æ€æ ·ä¿è¯ã€Œä¸ç®¡ç”¨æˆ·æ€ä¹ˆä¿®æ”¹ n çš„å€¼ï¼Œéƒ½å¯ä»¥æ»¡è¶³ä¸Šè¿°è¦æ±‚ã€</li>
</ul>
</blockquote>
<h4 id="å®éªŒä¸€">å®éªŒä¸€</h4>
<p>ï¼ˆ<a href="https://jsbin.com/voxomus/5/edit?html,js,console" target="_blank" rel="noopener noreffer">åœ¨çº¿ç¤ºä¾‹</a>ï¼‰</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">myData</span> <span class="o">=</span> <span class="p">{}</span>
<span class="nx">myData</span><span class="p">.</span><span class="nx">_n</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1">// å§‹ç»ˆç”¨ _n å­˜å‚¨ n å€¼ï¼ˆ _n ç›¸å½“äºä¸€ä¸ªä¸­è½¬å±æ€§ï¼‰
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">myData</span><span class="p">,</span> <span class="s2">&#34;n&#34;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">get</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_n</span> <span class="c1">// å¿…é¡»ä¸­è½¬ï¼Œå¦‚æœç›´æ¥è¿”å› this.n ä¼šé™·å…¥æ­»å¾ªç¯
</span><span class="c1"></span>  <span class="p">},</span>
  <span class="nx">set</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_n</span> <span class="o">=</span> <span class="nx">value</span>
  <span class="p">}</span>
<span class="p">})</span>
<span class="nx">myData</span><span class="p">.</span><span class="nx">n</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myData</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// 0 ä¿®æ”¹æ— æ•ˆ
</span><span class="c1"></span><span class="nx">myData</span><span class="p">.</span><span class="nx">n</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myData</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// 1 ä¿®æ”¹æˆåŠŸ
</span></code></pre></td></tr></table>
</div>
</div><h5 id="é’»ç©ºå­">é’»ç©ºå­</h5>
<p><a href="https://jsbin.com/voxomus/edit?html,js,console" target="_blank" rel="noopener noreffer">åœ¨çº¿ç¤ºä¾‹</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// çœ‹ä¼¼éœ€æ±‚å·²ç»å®ç°ï¼Œä½†å¦‚æœå¯¹æ–¹ç›´æ¥ä¿®æ”¹ myData._nï¼Œé‚£ä¹ˆä¸Šè¿° set å°±æ— æ³•é™åˆ¶äº† ï¼
</span><span class="c1">// è™½ç„¶ n ä¸èƒ½è®¾ç½®ä¸ºå°äº0çš„å€¼ï¼Œä½† _n å¯ä»¥ï¼Œå®ƒåªæ˜¯myDataä¸Šçš„ä¸€ä¸ªæ™®é€šçš„å±æ€§ï¼Œæ²¡æœ‰setç›‘å¬ï¼Œå¯ä»¥ä»»æ„èµ‹å€¼
</span><span class="c1"></span>
<span class="nx">myData</span><span class="p">.</span><span class="nx">_n</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myData</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// -1  ç¯¡æ”¹æˆåŠŸ
</span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ç»“è®ºï¼šå®éªŒä¸€å¯ä»¥é€šè¿‡ä¿®æ”¹ä¸­è½¬å±æ€§ï¼Œç»•è¿‡ç›‘å¬ï¼Œè½»æ˜“ç¯¡æ”¹æ•°æ® n</p>
</blockquote>
<h4 id="å®éªŒäºŒ">å®éªŒäºŒ</h4>
<blockquote>
<p>æ ¹æ®å®éªŒä¸€çš„â€œé’»ç©ºå­â€ï¼Œæå‡ºè§£å†³æ€è·¯ï¼š</p>
<ul>
<li>ä¸åœ¨ myData å¯¹è±¡ä¸Šæš´éœ²å‡ºä»»ä½•ä¸è¢«ç›‘å¬çš„å±æ€§æ¥å£ï¼ˆæœ€å¥½å°±ä¸è¦èµ·å¯¹è±¡åäº†ï¼‰</li>
<li>æ¢å¥è¯è¯´ï¼Œéœ€æ±‚ â­•ï¸ è¦è®©ä»»ä½•è®¿é—®ã€ä»»ä½•æ¥å£ï¼Œéƒ½å¿…é¡»èƒ½è¢«ç›‘å¬åˆ°</li>
<li>å¦‚æœæ•°æ®æœ¬èº«ï¼Œå°±æ˜¯ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ï¼Œé‚£ä¹ˆæ¯æ¬¡è°ƒç”¨æ•°æ®éƒ½ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬åªéœ€åœ¨å‡½æ•°å†…éƒ¨åœ¨å®ç°å¯¹æ•°æ®çš„ç›‘å¬ï¼Œè¿™æ ·å°±å¯ä»¥é˜²æ­¢ç”¨æˆ·å·è·‘ã€ç¯¡æ”¹æ•°æ®</li>
<li>å…·ä½“å®ç°å‚ç…§ã€Œä»£ç†ã€çš„æ€æƒ³</li>
</ul>
</blockquote>
<p>å†™ä¸€ä¸ª proxy å‡½æ•°ï¼Œå‚æ•°æ¥æ”¶ä¸€ä¸ªåŒ¿åå¯¹è±¡ï¼Œ<strong>åœ¨åŒ¿åå¯¹è±¡ä¸­å­˜æ”¾çœŸå®æ•°æ®</strong>ï¼Œåœ¨ proxy å‡½æ•°ä¸­å®ç°å¯¹æ•°æ®çš„ä»£ç†ç›‘å¬</p>
<ul>
<li>ä½¿ç”¨åŒ¿åå¯¹è±¡ï¼Œå› ä¸ºæ²¡æœ‰æå‰å£°æ˜å¯¹è±¡åçš„å¯¹è±¡ï¼Œå°±è‡ªç„¶æ— æ³•è¢«å¤–ç•Œè®¿é—®</li>
<li>æ¯æ¬¡è°ƒç”¨ myData ä¸Šçš„æ•°æ®ï¼Œéƒ½ä¼šæ‰§è¡Œ proxy æ–¹æ³•ï¼ŒæŠŠçœŸå®æ•°æ®è½¬ç§»åˆ° obj è¿›è¡Œç›‘å¬ï¼Œå†è¿”å› objï¼Œä¿è¯è°ƒç”¨myData çš„å±æ€§æ—¶ï¼Œä¸€å®šè°ƒç”¨çš„æ˜¯ obj ä¸Šè¢«ç›‘å¬äº†çš„å±æ€§</li>
<li>å¯ä¿è¯ myData ä¸Šä¸€å®šæ²¡æœ‰æš´éœ²ä»»ä½•æœªè¢«ç›‘å¬çš„å±æ€§ï¼ˆ_nï¼‰ï¼Œæ‰€æœ‰å±æ€§éƒ½ç»è¿‡ proxy è¢«ç›‘å¬å¤„ç†äº†</li>
</ul>
<p><a href="https://jsbin.com/voxomus/15/edit?html,js,console" target="_blank" rel="noopener noreffer">åœ¨çº¿ç¤ºä¾‹</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">myData</span> <span class="o">=</span> <span class="nx">proxy</span><span class="p">({</span> <span class="nx">data</span><span class="o">:</span> <span class="p">{</span> <span class="nx">n</span><span class="o">:</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">})</span>

<span class="kd">function</span> <span class="nx">proxy</span><span class="p">({</span> <span class="nx">data</span> <span class="p">})</span> <span class="p">{</span>  <span class="c1">// è§£æ„èµ‹å€¼ï¼Œå‚æ•° data å°±æ˜¯ { n: 0 }ï¼Œå­˜å‚¨äº†çœŸå®æ•°æ®
</span><span class="c1"></span>  <span class="kr">const</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{}</span> 
  <span class="c1">// æŠŠ data ä¸Šçš„æ‰€æœ‰æ•°æ®è½¬ç§»åˆ° obj ä¸Šè¿›è¡Œç›‘å¬ï¼Œç„¶åè¿”å› objï¼Œè¿™æ · ä¿è¯ obj ä¸Šçš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯è¢«ç›‘å¬åˆ°çš„ 
</span><span class="c1"></span>  <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="s2">&#34;n&#34;</span><span class="p">,</span> <span class="p">{</span> 
    <span class="nx">get</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">data</span><span class="p">.</span><span class="nx">n</span>
    <span class="p">},</span>
    <span class="nx">set</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
      <span class="nx">data</span><span class="p">.</span><span class="nx">n</span> <span class="o">=</span> <span class="nx">value</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="k">return</span> <span class="nx">obj</span> <span class="c1">// obj å°±æ˜¯ data çš„ä»£ç†å¯¹è±¡
</span><span class="c1"></span><span class="p">}</span>

<span class="nx">myData</span><span class="p">.</span><span class="nx">n</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myData</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// 0  ä¿®æ”¹æ— æ•ˆ
</span><span class="c1"></span><span class="nx">myData</span><span class="p">.</span><span class="nx">n</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myData</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// 1  ä¿®æ”¹æˆåŠŸ
</span></code></pre></td></tr></table>
</div>
</div><h5 id="é’»ç©ºå­-1">é’»ç©ºå­</h5>
<blockquote>
<p>å¦‚æœç”¨æˆ·è‡ªå·±å†™ä¸€ä¸ªæ•°æ®å¯¹è±¡ hackData</p>
<p>å†æŠŠ hackData æ”¾åˆ°ä»£ç†ä¸­ï¼Œç„¶åä¿®æ”¹è¿™ä¸ª hackDataï¼Œå°±å¯ä»¥å®ç°ç¯¡æ”¹æ•°æ®çš„ç›®çš„</p>
</blockquote>
<p><a href="https://jsbin.com/voxomus/21/edit?html,js,console" target="_blank" rel="noopener noreffer">åœ¨çº¿ç¤ºä¾‹</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">myData</span> <span class="o">=</span> <span class="nx">proxy</span><span class="p">({</span> <span class="nx">data</span><span class="o">:</span> <span class="p">{</span> <span class="nx">n</span><span class="o">:</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">})</span> <span class="c1">// åŸå§‹æ•°æ®
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">hackData</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">n</span><span class="o">:</span> <span class="mi">0</span> <span class="p">}</span> <span class="c1">// å£°æ˜æ–°çš„æ•°æ®ï¼Œç”¨äºç¯¡æ”¹åŸå§‹æ•°æ®
</span><span class="c1"></span><span class="nx">myData</span> <span class="o">=</span> <span class="nx">proxy</span><span class="p">({</span> <span class="nx">data</span><span class="o">:</span> <span class="nx">hackData</span> <span class="p">})</span>

<span class="kd">function</span> <span class="nx">proxy</span><span class="p">({</span> <span class="nx">data</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{}</span> 
  <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="s2">&#34;n&#34;</span><span class="p">,</span> <span class="p">{</span> 
    <span class="nx">get</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">data</span><span class="p">.</span><span class="nx">n</span>
    <span class="p">},</span>
    <span class="nx">set</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
      <span class="nx">data</span><span class="p">.</span><span class="nx">n</span> <span class="o">=</span> <span class="nx">value</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="k">return</span> <span class="nx">obj</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myData</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// 0
</span><span class="c1"></span><span class="nx">hackData</span><span class="p">.</span><span class="nx">n</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myData</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// -1 ç¯¡æ”¹æˆåŠŸ
</span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ç»“è®ºï¼šç”¨æˆ·å¯ä»¥å¼ºè¡Œå¾€ proxy ä¸­å¡ä¸€ä¸ª hackDataï¼Œè¿™æ ·åªè¦ hackData å°±å¯ä»¥ç¯¡æ”¹åŸå§‹æ•°æ® n</p>
</blockquote>
<h4 id="å®éªŒä¸‰">å®éªŒä¸‰</h4>
<blockquote>
<p>æ ¹æ®å®éªŒäºŒçš„ â€œé’»ç©ºå­â€</p>
<ul>
<li>ç”¨æˆ·å¼ºè¡Œå¾€ proxy ä¸­å¡äº†ä¸€ä¸ª hackDataï¼Œæƒ³é€šè¿‡ hackData ç¯¡æ”¹æˆ‘æ–¹åŸå§‹æ•°æ® n</li>
<li>éœ€æ±‚ â­•ï¸ å¦‚æœç”¨æˆ·æ“…è‡ªç¯¡æ”¹æ•°æ®ï¼ˆä¼ å…¥è‡ªå·±å†™çš„æ•°æ®ï¼‰ï¼Œå°±è¦æ‹¦æˆªè¿™ç§è¡Œä¸ºï¼ˆå‡çº§ proxy 2.0 ï¼‰</li>
</ul>
</blockquote>
<p><a href="https://jsbin.com/soranoq/5/edit?html,js,console" target="_blank" rel="noopener noreffer">åœ¨çº¿ç¤ºä¾‹</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">myData</span> <span class="o">=</span> <span class="nx">proxy2</span><span class="p">({</span> <span class="nx">data</span><span class="o">:</span> <span class="p">{</span> <span class="nx">n</span><span class="o">:</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">})</span> <span class="c1">// åŸå§‹æ•°æ®
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">hackData</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">n</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>  <span class="c1">// å£°æ˜æ–°çš„æ•°æ®ï¼Œç”¨äºç¯¡æ”¹åŸå§‹æ•°æ®
</span><span class="c1"></span><span class="nx">myData</span> <span class="o">=</span> <span class="nx">proxy2</span><span class="p">({</span> <span class="nx">data</span><span class="o">:</span> <span class="nx">hackData</span> <span class="p">})</span>

<span class="kd">function</span> <span class="nx">proxy2</span><span class="p">({</span> <span class="nx">data</span> <span class="p">})</span> <span class="p">{</span>  <span class="c1">// data æ¥æ”¶ hackDataï¼š{ n: 0 }
</span><span class="c1"></span>  <span class="c1">// åŸæœ¬åº”è¯¥éå† data ä¸Šçš„æ‰€æœ‰ keyï¼Œè¿™é‡Œåšäº†ç®€åŒ–ï¼Œå‡è®¾ data ä¸Šåªæœ‰ä¸€ä¸ªæ•°æ® n
</span><span class="c1"></span>  <span class="kd">let</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">n</span>  <span class="c1">// å£°æ˜å˜é‡æ¥å­˜å‚¨åŸå§‹çš„nå€¼ï¼ˆè¿™é‡Œå­˜å‚¨nï¼Œç›®çš„æ˜¯åé¢æŠŠnåˆ æ‰ï¼‰
</span><span class="c1"></span>  
  <span class="c1">// delete data.n  
</span><span class="c1"></span>  <span class="c1">// å¯ä»¥çœç•¥åˆ é™¤æ“ä½œï¼Œå› ä¸ºä¸‹é¢æ·»åŠ è™šæ‹Ÿå±æ€§næ—¶ä¸dataä¸­åŸæœ¬çš„å±æ€§é‡åï¼Œä¼šè‡ªåŠ¨è¦†ç›–ï¼ˆåˆ é™¤ï¼‰åŸæœ¬çš„å±æ€§
</span><span class="c1"></span>  
  <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="s2">&#34;n&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="c1">// è¿™æ ·å°±å®Œå…¨ç›‘æ§äº† n
</span><span class="c1"></span>    <span class="nx">get</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">value</span>
    <span class="p">},</span>
    <span class="nx">set</span><span class="p">(</span><span class="nx">newValue</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">newValue</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span>
      <span class="nx">value</span> <span class="o">=</span> <span class="nx">newValue</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="c1">// ä¸Šé¢å°±æ˜¯æ–°æ·»åŠ çš„ä»£ç ï¼Œç”¨äºå®Œå…¨ç›‘å¬ nã€ç›‘å¬çš„é€»è¾‘ã€‘
</span><span class="c1"></span>  <span class="c1">// ç›¸å½“äºå®‰è£…ç›‘å¬å™¨ï¼Œå¦‚æœç”¨æˆ·æƒ³ç»•è¿‡ç›‘å¬ï¼Œå°±ç«‹é©¬çŸ¥é“å¹¶æ‹¦æˆªä½ 
</span><span class="c1"></span>
  <span class="c1">// ä¸‹é¢ä»æ˜¯ã€å®éªŒäºŒä¸­çš„ä»£ç†é€»è¾‘ã€‘
</span><span class="c1"></span>  <span class="kr">const</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{}</span>
  <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="s2">&#34;n&#34;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">get</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">data</span><span class="p">.</span><span class="nx">n</span>
    <span class="p">},</span>
    <span class="nx">set</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> 
      <span class="nx">data</span><span class="p">.</span><span class="nx">n</span> <span class="o">=</span> <span class="nx">value</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="k">return</span> <span class="nx">obj</span> <span class="c1">// obj å°±æ˜¯ä»£ç†
</span><span class="c1"></span><span class="p">}</span>

<span class="c1">// ç”¨æˆ·å¦‚æœç›´æ¥ä¿®æ”¹ myData çš„æ•°æ®ï¼Œèµ°æ­£å¸¸çš„ä»£ç†é€»è¾‘ã€‚
</span><span class="c1">// ç”¨æˆ·å¦‚æœæƒ³ç»•è¿‡ä»£ç†ï¼Œç¯¡æ”¹åŸå§‹æ•°æ®ï¼Œä¼šèµ°ç›‘å¬é€»è¾‘
</span><span class="c1">// åªè¦ç»è¿‡ proxy2 å°±ä¸€å®šä¼šå¤„äºç›‘å¬ä¹‹ä¸‹ï¼Œå› ä¸ºä¼šåˆ æ‰åŸæœ¬çš„æ•°æ® n
</span><span class="c1"></span>
<span class="c1">// ç¯¡æ”¹åŸå§‹æ•°æ®ï¼ˆä¼šåˆ›å»ºè™šæ‹Ÿå±æ€§æ¥æ›¿ä»£åŸæœ¬å±æ€§ï¼Œé€šè¿‡å¯¹è™šæ‹Ÿå±æ€§çš„ç›‘å¬å®ç°æ•°æ®ç›‘å¬ï¼‰
</span><span class="c1"></span><span class="nx">hackData</span><span class="p">.</span><span class="nx">n</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>  
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myData</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// 0 ä¿®æ”¹æ— æ•ˆ
</span><span class="c1"></span><span class="nx">hackData</span><span class="p">.</span><span class="nx">n</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myData</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// 1 ä¿®æ”¹æˆåŠŸ
</span><span class="c1"></span>
<span class="c1">// ç›´æ¥ä¿®æ”¹ï¼ˆé€šè¿‡ä»£ç†å®ç°æ•°æ®ç›‘å¬ï¼‰
</span><span class="c1"></span><span class="nx">myData</span><span class="p">.</span><span class="nx">n</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myData</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// 1 ä¿®æ”¹æ— æ•ˆ
</span><span class="c1"></span><span class="nx">myData</span><span class="p">.</span><span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myData</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// 0 ä¿®æ”¹æˆåŠŸ
</span></code></pre></td></tr></table>
</div>
</div><h4 id="æ€»ç»“">æ€»ç»“</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// ä¸‹é¢è¿™å¥ä»£ç çœ‹ç€çœ¼ç†Ÿå— ?
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">myData</span> <span class="o">=</span> <span class="nx">proxy2</span><span class="p">({</span> <span class="nx">data</span><span class="o">:</span> <span class="nx">hackData</span> <span class="p">})</span>
<span class="kd">let</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span> <span class="nx">data</span><span class="o">:</span> <span class="nx">hackData</span> <span class="p">})</span>

<span class="c1">// myData å°±ç›¸å½“äº vm
</span><span class="c1">// proxy2 å°±ç›¸å½“äº new Vueï¼Œåªä¸è¿‡æ²¡åŠ  new è€Œå·²
</span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>å‰é¢å®éªŒæ¨å‡ºçš„ proxy ä»£ç ï¼Œ<strong>å°±æ˜¯ Vue å†…éƒ¨çš„æºä»£ç </strong></p>
</blockquote>
<h5 id="ä¸€å®šè¦æ³¨æ„-">ä¸€å®šè¦æ³¨æ„ ğŸ’¡</h5>
<ul>
<li>å‰é¢å®éªŒçš„<strong>ç ”ç©¶æ–¹æ³•</strong>æ¯”çŸ¥è¯†æœ¬èº«æ›´é‡è¦</li>
<li>è¿™äº›æ–¹æ³•èƒ½è®©ä½ <strong>ä¸è¯»æºç </strong>ï¼Œä¹Ÿèƒ½äº†è§£çœŸç›¸ï¼ˆåº•å±‚åŸç†ï¼‰</li>
</ul>
<h5 id="new-vue-å¯¹-data-åšäº†ä»€ä¹ˆ">new Vue å¯¹ data åšäº†ä»€ä¹ˆ</h5>
<blockquote>
<p>ç†æ¸…äº†ä»£ç†çš„é€»è¾‘ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥è¯´è¯´ new Vue åˆ°åº•å¯¹ data åšäº†ä»€ä¹ˆ</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="nx">Vue</span> <span class="nx">from</span> <span class="s2">&#34;vue/dist/vue.js&#34;</span>

<span class="kr">const</span> <span class="nx">hackData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">n</span><span class="o">:</span> <span class="mi">0</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">hackData</span><span class="p">)</span> <span class="c1">// ç²¾é«“ ğŸ‘ˆğŸ‘ˆğŸ‘ˆ é€šè¿‡logå‘ç°ä¸åŒä¹‹å¤„ï¼Œä»è€Œè¿›è¡Œæ¨ç†éªŒè¯
</span><span class="c1"></span>
<span class="kr">const</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nx">hackData</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`&lt;div&gt;{{n}}&lt;/div&gt;`</span><span class="p">,</span>
<span class="p">}).</span><span class="nx">$mount</span><span class="p">(</span><span class="s2">&#34;#app&#34;</span><span class="p">)</span>

<span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">hackData</span><span class="p">.</span><span class="nx">n</span> <span class="o">+=</span> <span class="mi">10</span><span class="p">;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">hackData</span><span class="p">)</span> <span class="c1">// ç²¾é«“ ğŸ‘ˆğŸ‘ˆğŸ‘ˆ
</span><span class="c1"></span><span class="p">},</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>åªè¦æŠŠ hackData ä¼ ç»™ new Vue å°±ä¼šé©¬ä¸Šå¯¹ hackData è¿›è¡Œç¯¡æ”¹</p>
<ul>
<li>hackDataä¸ŠåŸæœ¬çš„æ•°æ® n ä¼šæ¶ˆå¤±ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ get nã€set nï¼ˆè™šæ‹Ÿæ•°æ®ï¼‰</li>
<li>å…³é”®ç‚¹å°±åœ¨ä¸¤ä¸ª log ä¸Šå‘ç°è››ä¸é©¬è¿¹ï¼ˆè¿™ç§ç ”ç©¶æ–¹æ³•å¾ˆé‡è¦ï¼‰</li>
</ul>
</blockquote>
<h2 id="ç›‘å¬å­˜åœ¨çš„é—®é¢˜vue-çš„-bug">ç›‘å¬å­˜åœ¨çš„é—®é¢˜ï¼ˆVue çš„ bugï¼‰ğŸ“Œ</h2>
<blockquote>
<p>ï¼ˆé¢è¯•å¯èƒ½ä¼šé—®å“¦ï¼‰</p>
<p>æˆ‘ä»¬å·²çŸ¥ï¼šæ•°æ®åº”æå‰åœ¨ data ä¸­å®šä¹‰å¥½æ‰èƒ½ä½¿ç”¨ã€‚å¦‚æœåœ¨ data å¤–åŠ¨æ€çš„æ·»åŠ æ–°çš„æ•°æ®ï¼Œæˆ–å¼•ç”¨æ²¡æœ‰å®šä¹‰åœ¨ data çš„æ•°æ®ï¼Œä¼šæ€æ ·å‘¢ ï¼Ÿ</p>
</blockquote>
<h3 id="æƒ…æ™¯ä¸€å¼•ç”¨æœªå®šä¹‰çš„æ•°æ®ä¼šæ€æ ·">æƒ…æ™¯ä¸€ï¼šå¼•ç”¨æœªå®šä¹‰çš„æ•°æ®ä¼šæ€æ ·</h3>
<blockquote>
<p>Vue å®ä¾‹çš„ data ä¸­æ²¡æœ‰å®šä¹‰ n ï¼Œä½†åˆåœ¨è§†å›¾ä¸­ä½¿ç”¨ nï¼Œä¼šæ€ä¹ˆæ ·</p>
</blockquote>
<p><a href="https://codesandbox.io/s/empty-field-ofmwn" target="_blank" rel="noopener noreffer">ä»£ç ç¤ºä¾‹</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
  <span class="nx">data</span><span class="o">:</span> <span class="p">{},</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`
</span><span class="sb">    &lt;div&gt;{{n}}&lt;/div&gt;
</span><span class="sb">  `</span>
<span class="p">}).</span><span class="nx">$mount</span><span class="p">(</span><span class="s2">&#34;#app&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>åœ¨è§†å›¾ä¸­ä½¿ç”¨æœªåœ¨ data ä¸­å®šä¹‰çš„æ•°æ®ï¼ŒVue ä¼šç»™å‡ºä¸€ä¸ªè­¦å‘ŠæŠ¥é”™ <code>[Vue warn]</code></p>
</blockquote>
<ul>
<li>
<p>æ•°æ®æ²¡æœ‰ä¼ å…¥å®ä¾‹çš„ data ä¸­ï¼Œå°±æ— æ³•å®ç°ç›‘å¬æ•°æ®å˜åŒ–ï¼Œä¸ç›‘å¬å°±ä¸èƒ½å®ç°åˆ·æ–°è§†å›¾ï¼Œè¿èƒŒæ•°æ®å“åº”å¼åŸåˆ™</p>
<p></p>
</li>
</ul>
<h4 id="è§£å†³åŠæ³•">è§£å†³åŠæ³•</h4>
<blockquote>
<p>å¿…é¡»åœ¨ data ä¸­æŠŠ n æå‰å£°æ˜å¥½</p>
</blockquote>
<blockquote>
<p>ç”±äº Vue <strong>ä¸å…è®¸åŠ¨æ€æ·»åŠ æ ¹çº§å“åº”å¼ property</strong>ï¼Œæ‰€ä»¥ä½ å¿…é¡»åœ¨åˆå§‹åŒ–å®ä¾‹å‰å£°æ˜æ‰€æœ‰æ ¹çº§å“åº”å¼ propertyï¼Œå“ªæ€•åªæ˜¯ä¸€ä¸ªç©ºå€¼ï¼ˆ<a href="https://cn.vuejs.org/v2/guide/reactivity.html#%E5%A3%B0%E6%98%8E%E5%93%8D%E5%BA%94%E5%BC%8F-property" target="_blank" rel="noopener noreffer">æ–‡æ¡£</a>ï¼‰</p>
</blockquote>
<p><a href="https://codesandbox.io/s/serverless-fast-hl420?file=/src/main.js" target="_blank" rel="noopener noreffer">åœ¨çº¿ä»£ç </a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">n</span><span class="o">:</span> <span class="mi">1</span> <span class="c1">// ğŸ‘ˆğŸ‘ˆğŸ‘ˆ nullã€undefined..éƒ½ä¸ä¼šæŠ¥é”™
</span><span class="c1"></span>  <span class="p">},</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`
</span><span class="sb">		&lt;div&gt;{{n}}&lt;/div&gt;
</span><span class="sb">	`</span><span class="p">,</span>
<span class="p">}).</span><span class="nx">$mount</span><span class="p">(</span><span class="s2">&#34;#app&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h3 id="æƒ…æ™¯äºŒ-åŠ¨æ€æ·»åŠ å¯¹è±¡å±æ€§åœ¨-data-å¤–æ–°å¢-key">æƒ…æ™¯äºŒ ï¼šåŠ¨æ€æ·»åŠ å¯¹è±¡å±æ€§ï¼ˆåœ¨ data å¤–æ–°å¢ keyï¼‰</h3>
<blockquote>
<p>éœ€æ±‚ï¼šç‚¹å‡»æŒ‰é’®ï¼Œè§†å›¾ä¸­æ˜¾ç¤º 1</p>
</blockquote>
<p><a href="https://codesandbox.io/s/tender-leaf-8ogdx?file=/src/main.js" target="_blank" rel="noopener noreffer">ä»£ç ç¤ºä¾‹</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">obj</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">a</span><span class="o">:</span> <span class="mi">0</span> <span class="c1">// obj.a ä¼šè¢« Vue ç›‘å¬ã€ä»£ç†
</span><span class="c1"></span>    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`
</span><span class="sb">    &lt;div&gt;
</span><span class="sb">      obj.bï¼š{{obj.b}}             
</span><span class="sb">      &lt;button @click=&#34;set&#34;&gt;èµ‹å€¼&lt;/button&gt;
</span><span class="sb">    &lt;/div&gt;
</span><span class="sb">  `</span><span class="p">,</span>
  <span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">set</span><span class="p">()</span> <span class="p">{</span>             
      <span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1">// è¯·é—®ï¼Œé¡µé¢ä¸­ä¼šæ˜¾ç¤º 1 å—ï¼Ÿ
</span><span class="c1"></span>    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">$mount</span><span class="p">(</span><span class="s2">&#34;#app&#34;</span><span class="p">)</span> 
</code></pre></td></tr></table>
</div>
</div><p></p>
<blockquote>
<p>è¯·é—®ï¼Œç‚¹å‡»â€œèµ‹å€¼â€æŒ‰é’®ï¼Œè§†å›¾ä¸­ä¼šæ˜¾ç¤º 1 å— ï¼Ÿ</p>
</blockquote>
<ul>
<li>ç­”æ¡ˆï¼šä¸ä¼šæ˜¾ç¤º 1ã€‚</li>
<li>å› ä¸º Vue ä¸èƒ½ç›‘å¬åˆ°æœªåœ¨ data ä¸­å®šä¹‰çš„æ•°æ® <code>obj.b</code></li>
<li>ä½†ä¸ºä»€ä¹ˆå¼•ç”¨æœªå®šä¹‰çš„ obj.b æ²¡æœ‰è­¦å‘ŠæŠ¥é”™å‘¢ ï¼Ÿ</li>
</ul>
<blockquote>
<p>æƒ…æ™¯ä¸€è§†å›¾å¼•ç”¨ data ä¸­æœªå®šä¹‰çš„ n ä¼šæŠ¥é”™ï¼Œé‚£ä¸ºä»€ä¹ˆæƒ…æ™¯äºŒä¸­å¼•ç”¨æœªæå‰å®šä¹‰çš„ obj.b å´ä¸ä¼šæŠ¥é”™ ï¼Ÿ</p>
</blockquote>
<ul>
<li>å› ä¸º Vue çš„æ•°æ®å“åº”å¼æ˜¯æ•°æ®çš„<strong>æ ¹çº§å“åº”</strong>ã€‚Vue åªä¼šæ£€æŸ¥ç¬¬ä¸€å±‚å±æ€§ï¼Œæ£€æŸ¥ä¸åˆ°ç¬¬ä¸€å±‚å±æ€§å†…éƒ¨å®šä¹‰çš„å±æ€§</li>
<li>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äº <code>this.obj.b</code>ï¼ŒVue åªä¼šæ£€æŸ¥ data ä¸­æ˜¯å¦æœ‰å®šä¹‰ <code>this.obj</code>ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰ obj å°±ä¼šè­¦å‘ŠæŠ¥é”™ï¼Œä½† Vue ä¸ä¼šå†æ·±å±‚æ£€éªŒ obj çš„å†…éƒ¨å±æ€§</li>
<li><strong>æƒ…æ™¯äºŒè§†å›¾ä¸­è™½ç„¶å¼•ç”¨äº†æœªæå‰å£°æ˜çš„ <code>obj.b</code>ï¼Œä½† Vue ä¼šæ£€æŸ¥åˆ° <code>obj </code>å·²ç»åœ¨ data ä¸­æå‰å£°æ˜äº†ï¼Œæ‰€ä»¥æ­¤å¤„çš„å¼•ç”¨ä¸ä¼šæŠ¥é”™ï¼Œä½†ä¹Ÿä¸ä¼šç”Ÿæ•ˆï¼Œå› ä¸º <code>b</code> ç¡®å®æ²¡æœ‰åœ¨ data ä¸­å£°æ˜ã€‚</strong></li>
<li>ç»¼ä¸Šï¼Œæƒ…æ™¯äºŒçš„è¿™ç§ç”¨æ³•ï¼Œä»…æ˜¯ä¸æŠ¥é”™è€Œå·²ï¼Œä½†ä¹Ÿå¹¶ä¸ä¼šæ¸²æŸ“å‡ºè§†å›¾</li>
</ul>
<h4 id="è§£å†³åŠæ³•-1">è§£å†³åŠæ³•</h4>
<blockquote>
<p>ä½¿ç”¨ Vue.set æˆ–è€… this.$setï¼Œä¸ºå·²æœ‰å¯¹è±¡æ·»åŠ æ–°çš„å±æ€§ï¼ˆ<a href="https://cn.vuejs.org/v2/guide/reactivity.html#%E5%AF%B9%E4%BA%8E%E5%AF%B9%E8%B1%A1" target="_blank" rel="noopener noreffer">æ–‡æ¡£</a>ï¼‰</p>
</blockquote>
<p><a href="https://codesandbox.io/s/rough-darkness-wh3mw?file=/src/main.js" target="_blank" rel="noopener noreffer">åœ¨çº¿ä»£ç </a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">obj</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">a</span><span class="o">:</span> <span class="mi">0</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`
</span><span class="sb">    &lt;div&gt;
</span><span class="sb">      obj.bï¼š{{obj.b}}
</span><span class="sb">      &lt;button @click=&#34;set&#34;&gt;èµ‹å€¼&lt;/button&gt;
</span><span class="sb">    &lt;/div&gt;
</span><span class="sb">  `</span><span class="p">,</span>
  <span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">set</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">Vue</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>       <span class="c1">// ğŸ‘ˆğŸ‘ˆğŸ‘ˆ 
</span><span class="c1"></span>      <span class="c1">// this.$set(this.obj, &#39;b&#39;, 1)  // ğŸ‘ˆğŸ‘ˆğŸ‘ˆ
</span><span class="c1"></span>      <span class="c1">// ä¸¤ç§å†™æ³•æ²¡æœ‰åŒºåˆ«ï¼ˆæ˜¯åŒä¸€ä¸ªå‡½æ•°ï¼‰
</span><span class="c1"></span>      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Vue</span><span class="p">.</span><span class="nx">set</span> <span class="o">===</span> <span class="k">this</span><span class="p">.</span><span class="nx">$set</span><span class="p">)</span> <span class="c1">// true (åŠ $æ˜¯ä¸ºé˜²æ­¢dataä¸­æœ‰åŒåå±æ€§set)
</span><span class="c1"></span>    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">$mount</span><span class="p">(</span><span class="s2">&#34;#app&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p></p>
<h4 id="vueset-å’Œ-thisset-æ‰§è¡Œäº†å“ªäº›æ“ä½œ">Vue.set å’Œ this.$set æ‰§è¡Œäº†å“ªäº›æ“ä½œ</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">Vue</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>  <span class="c1">// å¾€objä¸­æ–°å¢ä¸€ä¸ªkeyå±æ€§
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li>æ–°å¢ key</li>
<li>å¯¹ key è‡ªåŠ¨åˆ›å»ºä»£ç†å’Œç›‘å¬ï¼ˆå¦‚æœæ²¡æœ‰åˆ›å»ºè¿‡ï¼‰</li>
<li>è§¦å‘ UI æ›´æ–°ï¼ˆä½†å¹¶ä¸ä¼šç«‹åˆ»æ›´æ–° â€”â€” å¼‚æ­¥æ›´æ–°ï¼Œè¿™å—å†…å®¹å€¼å¾—å•ç‹¬å†™ä¸€ç¯‡åšå®¢äº†ï¼‰
<ul>
<li>æ‰§è¡Œ UI æ›´æ–°æ˜¯ Vue åšçš„ï¼Œset åªä¼šè§¦å‘ Vue æ¥æ‰§è¡Œæ›´æ–°</li>
</ul>
</li>
</ul>
<p><a href="https://codesandbox.io/s/youthful-swanson-yz7pm?file=/src/main.js" target="_blank" rel="noopener noreffer">ç¤ºä¾‹æ¼”ç¤º</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">obj</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">a</span><span class="o">:</span> <span class="mi">0</span>  <span class="c1">// ğŸ‘ˆ
</span><span class="c1"></span>    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">` 
</span><span class="sb">    &lt;div&gt;
</span><span class="sb">      {{obj.b}} ğŸ‘ˆ
</span><span class="sb">      &lt;button @click=&#34;setB&#34;&gt;set b&lt;/button&gt; ğŸ‘ˆ
</span><span class="sb">      &lt;button @click=&#34;addB&#34;&gt;add b&lt;/button&gt; ğŸ‘ˆ
</span><span class="sb">    &lt;/div&gt;
</span><span class="sb">  `</span><span class="p">,</span>
  <span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">setB</span><span class="p">()</span> <span class="p">{</span>
       <span class="nx">Vue</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">// ğŸ‘ˆğŸ‘ˆ   // æˆ– this.$set(this.obj, &#39;b&#39;, 1)
</span><span class="c1"></span>    <span class="p">},</span>
    <span class="nx">addB</span><span class="p">(){</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">b</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1">// ğŸ‘ˆğŸ‘ˆ
</span><span class="c1"></span>    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">$mount</span><span class="p">(</span><span class="s2">&#34;#app&#34;</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h3 id="æƒ…æ™¯ä¸‰data-ä¸­çš„æ•°ç»„å¦‚ä½•å¤„ç†">æƒ…æ™¯ä¸‰ï¼šdata ä¸­çš„æ•°ç»„å¦‚ä½•å¤„ç†ï¼Ÿ</h3>
<blockquote>
<p>æœ‰æ²¡æœ‰æŸç§æƒ…å†µæ˜¯ã€Œæ²¡åŠæ³•æŠŠ key æå‰åœ¨ data ä¸­å£°æ˜å¥½ã€çš„</p>
<ul>
<li>æœ‰ï¼Œå¦‚æœæ•°æ®æ˜¯ä¸€ä¸ªæ•°ç»„ç±»å‹ï¼Œå°±æ— æ³•æå‰æŠŠæ‰€æœ‰å…ƒç´ å£°æ˜å¥½</li>
<li>Vue ä¸­çš„æ•°ç»„ï¼Œå¯ä»¥ç†è§£æˆå¯¹è±¡çš„å½¢å¼ï¼ˆå…·ä½“è§ä¸‹ï¼‰</li>
</ul>
</blockquote>
<h4 id="å°è¯•åŠ¨æ€æ·»åŠ æ•°ç»„å…ƒç´ ">å°è¯•ï¼šåŠ¨æ€æ·»åŠ æ•°ç»„å…ƒç´ </h4>
<blockquote>
<p><a href="https://codesandbox.io/s/proud-worker-xwyoo" target="_blank" rel="noopener noreffer">ç¤ºä¾‹</a></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">array</span><span class="o">:</span> <span class="p">[</span><span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="s2">&#34;b&#34;</span><span class="p">,</span> <span class="s2">&#34;c&#34;</span><span class="p">]</span>
  <span class="p">},</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`
</span><span class="sb">    &lt;div&gt;
</span><span class="sb">      {{array}}
</span><span class="sb">      &lt;button @click=&#34;setD&#34;&gt;set d&lt;/button&gt;
</span><span class="sb">    &lt;/div&gt;
</span><span class="sb">  `</span><span class="p">,</span>
  <span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">setD</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">array</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&#34;d&#34;</span>  <span class="c1">// è¯·é—®ï¼Œé¡µé¢ä¸­ä¼šæ˜¾ç¤º &#39;d&#39; å— ï¼Ÿ ç­”ï¼šä¸ä¼š
</span><span class="c1"></span>    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">$mount</span><span class="p">(</span><span class="s2">&#34;#app&#34;</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>å¦‚ä¸Šä»£ç ï¼Œç‚¹å‡» button æŒ‰é’®ï¼Œå¾€æ•°ç»„ä¸­æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œæ¯«æ— ååº”ï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ ï¼Ÿ</p>
<ul>
<li>åˆ†æï¼šæ•°ç»„ <code>array: [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</code> ç†è§£æˆå¯¹è±¡çš„å½¢å¼ ğŸ‘‡</li>
</ul>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="p">{</span>
  <span class="mi">0</span><span class="o">:</span> <span class="s2">&#34;a&#34;</span><span class="p">,</span>
  <span class="mi">1</span><span class="o">:</span> <span class="s2">&#34;b&#34;</span><span class="p">,</span>
  <span class="mi">2</span><span class="o">:</span> <span class="s2">&#34;c&#34;</span><span class="p">,</span>
  <span class="nx">length</span><span class="o">:</span> <span class="mi">3</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>data ä¸­çš„æ•°æ® arrayï¼Œç›¸å½“äºåœ¨ data ä¸­å£°æ˜äº† 0ã€1ã€2 ä¸‰ä¸ªå±æ€§</p>
<ul>
<li>å¾€æ•°ç»„ï¼ˆå¯¹è±¡ï¼‰ä¸­æ–°å¢å…ƒç´ ï¼Œç›¸å½“äº[æƒ…æ™¯äºŒ](# æƒ…æ™¯äºŒ ï¼šåŠ¨æ€æ·»åŠ å¯¹è±¡å±æ€§ï¼ˆåœ¨ data å¤–æ–°å¢ keyï¼‰)ã€Œåœ¨ data å¤–æ–°å¢ keyï¼ŒåŠ¨æ€æ·»åŠ å¯¹è±¡å±æ€§ï¼ŒVue æ— æ³•ç›‘å¬åˆ°è¯¥å±æ€§ã€</li>
<li>æ‰€ä»¥ <code>this.array[3] = &quot;d&quot;</code> æ˜¯æ— æ•ˆçš„</li>
</ul>
</blockquote>
<p>ç»¼åˆã€Œæƒ…æ™¯ä¸€ã€æƒ…æ™¯äºŒã€ï¼Œå¯¹äºã€Œå¼•ç”¨æœªå£°æ˜çš„æ•°æ®ã€æˆ–ã€ŒåŠ¨æ€æ·»åŠ å¯¹è±¡å±æ€§ã€ç»™å‡ºè§£å†³åŠæ³•ï¼š</p>
<ul>
<li>æ–¹æ¡ˆä¸€ï¼šè§†å›¾ä¸­ç›´æ¥å¼•ç”¨çš„æ ¹çº§å±æ€§ï¼Œå¿…é¡»åœ¨ data ä¸­æå‰å£°æ˜</li>
<li>æ–¹æ¡ˆäºŒï¼šåŠ¨æ€æ·»åŠ å¯¹è±¡å±æ€§ï¼Œéœ€ç”¨ set æ–¹æ³•</li>
</ul>
<blockquote>
<p>å¦‚æœé‡‡ç”¨æ–¹æ¡ˆä¸€ï¼šæå‰åœ¨æ•°ç»„ä¸­å®šä¹‰æ•°æ®</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">data</span><span class="o">:</span><span class="p">{</span>
  <span class="nx">array</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="p">...]</span> 
<span class="p">},</span>
<span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
  <span class="nx">setD</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">array</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&#34;d&#34;</span>  
    <span class="c1">// è™½ç„¶å¯è¡Œï¼Œä½†æ— æ³•é¢„çŸ¥æœ‰å¤šå°‘ä¸ª keyã€éœ€è¦å¯¹åº”å¤šå°‘ä¸ª undefined
</span><span class="c1"></span>    <span class="c1">// æ‰€ä»¥è¿™ç§ã€Œæå‰æŠŠ key éƒ½å†™åˆ° array ã€çš„æ–¹æ¡ˆä¸å¯å–
</span><span class="c1"></span>  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>æ•°ç»„çš„é•¿åº¦å¯ä»¥ä¸€ç›´å¢åŠ ï¼ˆä¸‹æ ‡å°±æ˜¯ keyï¼‰ï¼Œä¸å¯èƒ½æå‰é¢„çŸ¥æœ‰å¤šå°‘ä¸ª keyï¼ˆå¦‚æœè¿™ä¸ªæ•°ç»„æ˜¯æ‰€æœ‰ç”¨æˆ·çš„åˆ—è¡¨ï¼‰ï¼Œæˆ‘ä»¬ä¸å¯èƒ½æå‰æŠŠæ•°ç»„çš„ key éƒ½å£°æ˜å‡ºæ¥</li>
</ul>
<blockquote>
<p>å¦‚æœé‡‡ç”¨æ–¹æ¡ˆäºŒï¼šä¸èƒ½æå‰å£°æ˜ï¼Œé‚£å°±ä½¿ç”¨ Vue.set æˆ–è€… this.$set</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="k">this</span><span class="p">.</span><span class="nx">$set</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">array</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="c1">// set(Array, Index, value)
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li>é€šè¿‡ set æ–°å¢æ•°ç»„ keyï¼Œè¿™æ˜¯å¯è¡Œçš„æ–¹æ¡ˆã€‚ä½†æ¯æ¬¡æ·»åŠ æ–°å…ƒç´ éƒ½è¦æ‰§è¡Œ setï¼Œæ¯”è¾ƒç¹ç</li>
</ul>
<ul>
<li>æœ‰æ›´ç®€å•çš„åŠæ³•å— ï¼Ÿ</li>
</ul>
<h4 id="å°¤é›¨æºªçš„åšæ³•">å°¤é›¨æºªçš„åšæ³•</h4>
<blockquote>
<p>æµ‹è¯•ï¼šæ—¢ç„¶æ˜¯æ•°ç»„ï¼Œå¯ä»¥ç”¨æ•°ç»„æ–¹æ³• push æ·»åŠ å…ƒç´ å—ï¼Ÿ</p>
<p>ç»“æœï¼šå¯ä»¥ï¼Œpush ç”Ÿæ•ˆ</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="k">this</span><span class="p">.</span><span class="nx">array</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">array</span><span class="p">)</span> <span class="c1">// çœ‹çœ‹ vue é‡Œçš„ push 
</span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ç–‘æƒ‘ï¼šä¸ºä»€ä¹ˆç›´æ¥æ·»åŠ å…ƒç´ ä¼šå¤±è´¥ï¼Œä½† push æ·»åŠ å…ƒç´ å´æˆåŠŸå‘¢ ï¼Ÿ</p>
<p>åŸå› ï¼šVue é‡Œçš„ push æ–¹æ³•ï¼Œå·²ç»ä¸æ˜¯æ•°ç»„åŸå‹ä¸Šçš„ push æ–¹æ³•äº†ï¼ˆå¦‚ä¸‹å›¾ ï¼‰</p>
</blockquote>
<p></p>
<blockquote>
<p>å¦‚å›¾ï¼Œarray çœ‹èµ·æ¥æ˜¯æ™®é€šæ•°ç»„ï¼Œä½†å½“æˆ‘ä»¬æŠŠ array ä¼ ç»™ Vue ä¹‹åï¼ŒVue ä¼šç¯¡æ”¹è¿™ä¸ªæ•°ç»„ï¼Œå¾€ä¸­é—´æ’å…¥ä¸€å±‚åŸå‹ï¼ŒåŸå‹ä¸Šæœ‰ 7 ä¸ªæ–¹æ³•ã€‚æ­¤ 7 æ³•ä¸æ•°ç»„åŸå‹ä¸Šçš„æ–¹æ³•<strong>åŒå</strong>ï¼ˆä»£ç è¢«ä¿®æ”¹ï¼‰ï¼Œè°ƒç”¨æ—¶å°±ä¼šè¦†ç›–åŸå‹æ–¹æ³•</p>
</blockquote>
<p>7 ä¸ªæ–°çš„ api ä¼šæ‰§è¡Œä¸¤ä¸ªæ“ä½œ</p>
<ul>
<li>
<p>é¦–å…ˆï¼Œæ–° api ä¼šè°ƒç”¨ã€Œæ—§ apiã€æ–¹æ³•</p>
</li>
<li>
<p>ç„¶åï¼Œå¾€æ•°ç»„ä¸Šæ·»åŠ ã€Œç›‘å¬&amp;ä»£ç†ã€</p>
</li>
</ul>
<blockquote>
<p>æ€»ç»“</p>
<ul>
<li><strong>å°¤é›¨æºªï¼ˆVueï¼‰ç¯¡æ”¹äº†æ•°ç»„çš„ API</strong> ï¼ˆVue æ–‡æ¡£ä¸­ã€Œ<a href="https://cn.vuejs.org/v2/guide/list.html#%E5%8F%98%E5%BC%82%E6%96%B9%E6%B3%95-mutation-method" target="_blank" rel="noopener noreffer">å˜å¼‚æ–¹æ³•</a>ã€ç« èŠ‚æœ‰è§£é‡Šï¼‰</li>
<li>è¿™ 7 ä¸ª API éƒ½ä¼šè¢« Vue ç¯¡æ”¹ï¼Œè°ƒç”¨åä¼šæ›´æ–° UI</li>
</ul>
</blockquote>
<p>â€‹</p>
<h4 id="å…·ä½“æ˜¯æ€ä¹ˆç¯¡æ”¹çš„å‘¢-">å…·ä½“æ˜¯æ€ä¹ˆç¯¡æ”¹çš„å‘¢ ï¼ŸğŸ“Œ</h4>
<blockquote>
<p>å°¤é›¨æºªçš„æ€è·¯ï¼šå°±æ˜¯æ’å…¥ä¸€å±‚åŸå‹ï¼ŒåŸå‹ä¸Šæœ‰ 7 ä¸ªæ–¹æ³•</p>
<ul>
<li>ä¸‹é¢å°±æ˜¯ã€Œæ¨¡æ‹Ÿã€ç¯¡æ”¹ä»£ç ï¼ˆæ€ä¹ˆæ’å…¥ä¸€å±‚åŸå‹ï¼‰</li>
</ul>
</blockquote>
<h5 id="es6-å†™æ³•">ES6 å†™æ³•</h5>
<h6 id="demo-æµ‹è¯•">demo æµ‹è¯•</h6>
<blockquote>
<p>é€šè¿‡ç»§æ‰¿çš„æ€è·¯ï¼Œå®ç°æ·»åŠ ä¸€å±‚åŸå‹</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">class</span> <span class="nx">VueArray</span> <span class="kr">extends</span> <span class="nb">Array</span> <span class="p">{</span> 
  <span class="c1">// å½“å‰ VueArray ç»§æ‰¿äº Array ï¼Œæ„æ€å°±æ˜¯ VueArray åœ¨ ArrayåŸå‹ çš„å‰é¢
</span><span class="c1"></span>  <span class="nx">push</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// è¡¨ç¤ºåœ¨ VueArray ä¸Šå£°æ˜ä¸€ä¸ª push ä½œä¸ºå…±æœ‰å±æ€§ï¼Œä¼šæ”¾åœ¨ VueArray çš„ _proto_ ä¸Š
</span><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;args&#34;</span><span class="p">,</span> <span class="nx">args</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;arguments&#34;</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;...args&#34;</span><span class="p">,</span> <span class="p">...</span><span class="nx">args</span><span class="p">)</span>
    
    <span class="kr">super</span><span class="p">.</span><span class="nx">push</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span>  <span class="c1">// è¡¨ç¤ºæ‰§è¡Œ VueArray çš„ push æ—¶ï¼Œä¼šå…ˆè°ƒç”¨ Array ä¸Šçš„åŸç”Ÿ push æ–¹æ³•
</span><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ä½  push äº†&#39;</span><span class="p">)</span> 
  <span class="p">}</span>
<span class="p">}</span>
<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">VueArray</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mf">2.3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1">// å¾€æ•°ç»„æ·»åŠ å…ƒç´ 5ï¼ŒåŒæ—¶æ‰§è¡Œlog
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p></p>
<blockquote>
<p>è¿™æ ·å†™çš„ä½œç”¨æ˜¯</p>
<ul>
<li><strong>å½“æˆ‘ä»¬æ‰§è¡Œ VueArray çš„ push æ–¹æ³•æ—¶ï¼Œæ•ˆæœä¸åŸç”Ÿçš„ push ä¸€æ ·ï¼Œä½†è¿˜ä¼šå¤šæ‰§è¡Œä¸€ä¸ª console.log</strong></li>
<li>ç¬¬ä¸€å±‚åŸå‹ä¸Šåªæœ‰ä¸€ä¸ª push æ–¹æ³•ï¼Œç¬¬äºŒå±‚åŸå‹æ‰æ˜¯ Array çš„åŸå‹</li>
</ul>
</blockquote>
<h6 id="æ¨¡æ‹Ÿå®Œæ•´é€»è¾‘-">æ¨¡æ‹Ÿå®Œæ•´é€»è¾‘ ğŸ“Œ</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">class</span> <span class="nx">VueArray</span> <span class="kr">extends</span> <span class="nb">Array</span><span class="p">{</span> 
  <span class="nx">push</span><span class="p">(...</span><span class="nx">args</span><span class="p">){</span>
    <span class="kr">const</span> <span class="nx">oldLength</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span>  <span class="c1">// this å°±æ˜¯å½“å‰æ•°ç»„ï¼ˆæŒ‡ä»£newå‡ºæ¥çš„æ•°ç»„å®ä¾‹ï¼‰è®°å½•ä¸‹æ—§æ•°ç»„çš„é•¿åº¦
</span><span class="c1"></span>    <span class="kr">super</span><span class="p">.</span><span class="nx">push</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span> <span class="c1">// pushä¹‹åï¼Œthis.length å·²ç»æ›´æ–°
</span><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ä½  push äº†&#39;</span><span class="p">)</span> 
    
    <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">oldLength</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span> 
      <span class="nx">Vue</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>  
      <span class="c1">// å°†æ¯ä¸ªæ–°å¢çš„ key éƒ½å‘Šè¯‰ Vue ï¼ŒVue å¾—çŸ¥æ•°æ®å˜åŒ–ã€éœ€è¦æ·»åŠ ä»£ç†&amp;ç›‘å¬ã€æ›´æ–°è§†å›¾å•¦ 
</span><span class="c1"></span>    <span class="p">}</span> 
  <span class="p">}</span>
<span class="p">}</span>
<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">VueArray</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æ³¨ï¼šæ­¤ä»£ç ä»…ç”¨äºé€»è¾‘ç†è§£ã€‚å®é™…ä¸Šè¿™ç§å®ç°æ–¹å¼æ˜¯æ¯”è¾ƒä½æ•ˆçš„ã€ä¸ä»£è¡¨ Vue çš„çœŸå®å®ç°ã€‚</p>
<p>å®é™…ä¸Š frank æ²¡çœ‹è¿‡ç›¸å…³æºä»£ç ï¼ˆä½†å°¤é›¨æºªçš„å¤§æ¦‚æ€è·¯å°±æ˜¯è¿™æ ·çš„ï¼‰</p>
</blockquote>
<h5 id="es5-å†™æ³•---åŸå‹">ES5 å†™æ³• - åŸå‹</h5>
<blockquote>
<p>ES5 ä»£ç ï¼Œä¼šæ¯” ES6 æ›´éš¾ç†è§£ï¼ˆES6 ç›¸å½“äºç»™å‰ç«¯é™ä½äº†é—¨æ§›ï¼‰</p>
<ul>
<li>å®ç°ï¼šæ–°æ’å…¥ä¸€å±‚åŸå‹ï¼Œ<strong>æ–°åŸå‹çš„ä¸Šå±‚æ˜¯å®ä¾‹ã€ä¸‹å±‚æ˜¯æ•°ç»„çš„åŸå‹</strong></li>
<li>æ–°åŸå‹ä¸Šæœ‰ push æ–¹æ³•ï¼šæ‰§è¡Œä¸€äº›å¼€å‘è€…ç¯¡æ”¹çš„æ“ä½œï¼Œç„¶åå†è°ƒç”¨æ•°ç»„åŸå‹çš„ push å®ç°æ·»åŠ å…ƒç´ </li>
</ul>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">vueArrayPrototype</span> <span class="o">=</span> <span class="p">{</span> 
  <span class="nx">push</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span> 
    <span class="nx">console</span><span class="mf">.1</span><span class="nx">og</span><span class="p">(</span><span class="s1">&#39;ä½  push äº†&#39;</span><span class="p">)</span> <span class="c1">// è¿™é‡Œæ·»åŠ çš„å…¶ä»–ä»£ç ï¼Œéƒ½å±äºå¯¹ push çš„ç¯¡æ”¹
</span><span class="c1"></span>    <span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">)</span> <span class="c1">// é€ä¼ 
</span><span class="c1"></span>    <span class="c1">// ğŸ‘† ç”¨æˆ·ç»™æˆ‘ä¼ äº†ä»€ä¹ˆï¼Œæˆ‘æŠŠæ‰€æœ‰ä¸œè¥¿é€é€çš„ä¼ ç»™ã€Œæ•°ç»„åŸå‹ä¸Šçš„çš„pushæ–¹æ³•ã€
</span><span class="c1"></span>  <span class="p">}</span>
<span class="p">}</span>
<span class="nx">vueArrayPrototype</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span> <span class="c1">// æŠŠæˆ‘çš„åŸå‹æŒ‡å‘æ•°ç»„çš„åŸå‹ï¼Œå½¢æˆåŸå‹é“¾
</span><span class="c1">// ä¸Šé¢è¿™å¥è¯ç”¨çš„ä¸æ˜¯æ ‡å‡†å±æ€§ï¼Œä»…å­¦ä¹ ä½¿ç”¨ 
</span><span class="c1"></span>
<span class="kr">const</span> <span class="nx">array</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">vueArrayPrototype</span><span class="p">)</span> <span class="c1">// ä½¿ç”¨æˆ‘å†™çš„æ–°åŸå‹ï¼Œåˆ›å»ºå‡ºä¸€ä¸ªæ•°ç»„
</span><span class="c1"></span><span class="nx">array</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> 
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>  <span class="c1">// å¯ä»¥çœ‹åˆ°ä¸‰å±‚åŸå‹é“¾æ•ˆæœï¼šä¸€å±‚æ˜¯å¯¹è±¡æœ¬èº«ã€äºŒå±‚æ˜¯æ–°åŸå‹ã€ä¸‰å±‚æ˜¯æ•°ç»„åŸå‹
</span><span class="c1"></span>
<span class="c1">// å¦‚æœçœ‹ä¸æ‡‚å°±ç®—äº†ï¼Œåæ­£é¢è¯•å®˜ä¹Ÿçœ‹ä¸æ‡‚
</span></code></pre></td></tr></table>
</div>
</div><p></p>
<p>â€‹</p>
<h2 id="æ€»ç»“-1">æ€»ç»“</h2>
<h3 id="å¯¹è±¡ä¸­æ–°å¢çš„-key">å¯¹è±¡ä¸­æ–°å¢çš„ key</h3>
<ul>
<li>Vue æ²¡æœ‰åŠæ³•äº‹å…ˆç›‘å¬å’Œä»£ç†ï¼ˆå¯¼è‡´ key çš„å˜åŒ–å®Œå…¨ä¸ä¼šå½±å“ UIï¼‰</li>
<li>è¦<strong>ä½¿ç”¨ set</strong> æ¥æ–°å¢ keyï¼Œåˆ›å»ºç›‘å¬å’Œä»£ç†ï¼Œæ›´æ–° UI</li>
<li>æœ€å¥½æå‰æŠŠå±æ€§éƒ½å†™å‡ºæ¥ï¼Œä¸è¦æ–°å¢ key</li>
<li>æ³¨æ„ï¼šæ•°ç»„åšä¸åˆ°ã€Œæå‰æŠŠ key å±æ€§å†™å¥½ã€</li>
</ul>
<h3 id="æ•°ç»„ä¸­æ–°å¢çš„-key">æ•°ç»„ä¸­æ–°å¢çš„ key</h3>
<ul>
<li>æ•°ç»„å¯ç”¨ set æ¥æ–°å¢ keyï¼Œæ›´æ–° UI
<ul>
<li>this.$set ä½œç”¨äºæ•°ç»„æ—¶ï¼Œå¹¶ä¸ä¼šè‡ªåŠ¨æ·»åŠ ç›‘å¬å’Œä»£ç†ï¼ŒåŸå› æœªçŸ¥ï¼ˆåªèƒ½é—®å°¤é›¨æºªäº†ï¼‰
<ul>
<li>å¯ä»¥æµ‹è¯•çœ‹çœ‹ï¼Œset äº†ä¹‹åå†ç”¨ <code>this.array[n] += 1</code> æ˜¯å¦ä¼šè§¦å‘ UI æ›´æ–°ï¼ˆç­”æ¡ˆæ˜¯ä¸ä¼šï¼‰</li>
</ul>
</li>
<li>ä½¿ç”¨ Vue æä¾›çš„æ•°ç»„å˜å¼‚ API æ—¶ï¼Œä¼šè‡ªåŠ¨æ·»åŠ ç›‘å¬å’Œä»£ç†</li>
</ul>
</li>
<li>ä¸è¿‡å°¤é›¨æºªç¯¡æ”¹äº† 7 ä¸ª API æ–¹ä¾¿å¼€å‘è€…å¯¹æ•°ç»„è¿›è¡Œ<strong>å¢åˆ </strong>
<ul>
<li>å¢ï¼Œå› ä¸º Vue æ— æ³•ç›‘å¬åˆ°ï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹ä»£ç ï¼Œä½¿ Vue å¯ä»¥ç›‘å¬åˆ°</li>
<li>åˆ ï¼Œè™½ç„¶ Vue å·²ç›‘å¬åˆ°äº†ï¼Œä½†åŸç”Ÿ API ç›´æ¥åˆ é™¤ï¼ŒVue æ˜¯ä¸çŸ¥é“çš„ï¼Œå°±ä¼šæœ‰å¤šä½™çš„ç›‘å¬å™¨ï¼Œæµªè´¹å†…å­˜ï¼Œæ‰€ä»¥åˆ é™¤çš„ API ä¹Ÿä¿®æ”¹ä¸€ä¸‹ï¼Œå®ç°åŒæ—¶æŠŠç›‘å¬å™¨åˆ é™¤</li>
<li>æ”¹ã€æŸ¥ï¼šè¿™ä¸¤ä¸ªæ“ä½œè‚¯å®šå‘ç”Ÿåœ¨ Vue ç›‘å¬çš„ç¯å¢ƒä¸­ï¼Œä¸éœ€è¦å†å¸® Vue æé¢å¤–çš„å¤„ç†ï¼Œç›´æ¥ç”¨åŸç”Ÿ API å³å¯</li>
</ul>
</li>
<li>è¿™ 7 ä¸ª API ä¼šè‡ªåŠ¨å¤„ç†ç›‘å¬å’Œä»£ç†ï¼Œå¹¶ï¼ˆå¼‚æ­¥çš„ï¼‰æ›´æ–° UI
<ul>
<li>pushã€popã€shiftã€unshiftã€spliceã€sortã€reverse</li>
<li>å‰ 5 ä¸ªæ˜¯å¿…è¦çš„ï¼Œå 2 ä¸ªå¯èƒ½æ˜¯ä¸ºäº†æ–¹ä¾¿æ‰æä¾›çš„ï¼Œç”¨å¤„ä¸ç®—å¤§ï¼Œå½“ç„¶å¦‚æœæœ‰éœ€æ±‚è¿˜æ˜¯ä½¿ç”¨ Vue æä¾›çš„ APIï¼Œæ•ˆç‡æ›´é«˜ä¸€äº›</li>
</ul>
</li>
</ul>]]></description>
</item><item>
    <title>æ·±å…¥ç†è§£ Vue å®Œæ•´ç‰ˆä¸éå®Œæ•´ç‰ˆ</title>
    <link>https://liubingxuan.xyz/vue-compiler-included-vs-runtime-only/</link>
    <pubDate>Wed, 23 Dec 2020 23:32:52 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://liubingxuan.xyz/vue-compiler-included-vs-runtime-only/</guid>
    <description><![CDATA[<h2 id="æ·±å…¥ç†è§£ä¸¤ç§åŒºåˆ«">æ·±å…¥ç†è§£ä¸¤ç§åŒºåˆ«</h2>
<blockquote>
<p>Vue å®Œæ•´ç‰ˆ</p>
<p>Vue éå®Œæ•´ç‰ˆï¼ˆè¿è¡Œç‰ˆï¼‰</p>
</blockquote>
<table>
<thead>
<tr>
<th></th>
<th>Vue å®Œæ•´ç‰ˆ</th>
<th>Vue éå®Œæ•´ç‰ˆï¼ˆè¿è¡Œç‰ˆï¼‰</th>
<th>è¯„ä»·ï¼ˆåŒºåˆ«ï¼‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç‰¹ç‚¹</td>
<td>æœ‰ compiler</td>
<td>æ²¡æœ‰ compiler</td>
<td>compiler å  40% ä½“ç§¯</td>
</tr>
<tr>
<td>è§†å›¾</td>
<td>å†™åœ¨ HTML é‡Œ<br />æˆ–è€…å†™åœ¨ template é€‰é¡¹</td>
<td>å†™åœ¨ render å‡½æ•°é‡Œ<br />ç”¨ h æ¥åˆ›å»ºæ ‡ç­¾</td>
<td>h æ˜¯å°¤é›¨æºªå†™å¥½ä¼ ç»™ render çš„</td>
</tr>
<tr>
<td>CDN å¼•å…¥</td>
<td>vue.js</td>
<td>vue.runtime.js</td>
<td>æ–‡ä»¶åä¸åŒï¼Œç”Ÿäº§ç¯å¢ƒåç¼€ä¸º .min.js</td>
</tr>
<tr>
<td>webpack å¼•å…¥</td>
<td>éœ€è¦é…ç½® alias</td>
<td>é»˜è®¤ä½¿ç”¨æ­¤ç‰ˆ</td>
<td>å°¤é›¨æºªé…ç½®çš„</td>
</tr>
<tr>
<td>@vue/cli å¼•å…¥</td>
<td>éœ€è¦é¢å¤–é…ç½®</td>
<td>é»˜è®¤ä½¿ç”¨æ­¤ç‰ˆ</td>
<td>å°¤é›¨æºªã€è’‹è±ªç¾¤é…ç½®çš„</td>
</tr>
</tbody>
</table>
<h3 id="ç‰¹ç‚¹">ç‰¹ç‚¹</h3>
<blockquote>
<p>ã€Œå®Œæ•´ç‰ˆã€æœ‰ compilerï¼Œã€Œéå®Œæ•´ç‰ˆã€æ²¡æœ‰ compiler</p>
</blockquote>
<ul>
<li>compiler ç¼–è¯‘å™¨ï¼Œæœ‰ç¼–è¯‘ HTML çš„åŠŸèƒ½ï¼Œè¿™ä¸ªåŠŸèƒ½å¾ˆå¤æ‚ã€å ç©ºé—´</li>
<li>å¯¼è‡´ã€Œå®Œæ•´ç‰ˆã€æ¯”ã€Œéå®Œæ•´ç‰ˆã€å¤§ 40% çš„ä½“ç§¯</li>
</ul>
<h3 id="è§†å›¾">è§†å›¾</h3>
<blockquote>
<p>æ¯”å¦‚è¦å†™ä¸€ä¸ª button</p>
</blockquote>
<ul>
<li>
<p>ä½¿ç”¨ã€Œå®Œæ•´ç‰ˆã€ï¼Œbutton å¯ä»¥å†™åœ¨ HTML é‡Œæˆ–è€…å†™åœ¨ template é€‰é¡¹é‡Œ</p>
</li>
<li>
<p>ä½¿ç”¨ã€Œéå®Œæ•´ç‰ˆã€ï¼Œåªèƒ½å†™åœ¨ render å‡½æ•°é‡Œã€‚ç”¨ render å‡½æ•°çš„å‚æ•° h å‡½æ•°æ¥åˆ›å»ºæ ‡ç­¾</p>
</li>
<li>
<p>h æ˜¯å°¤é›¨æºªå†™å¥½å¹¶ä¼ ç»™ render çš„ï¼Œæ‰€ä»¥å¼€å‘è€…å¯ä»¥è·å–åˆ°è¿™ä¸ª h å‡½æ•°ã€‚</p>
<ul>
<li>æ³¨æ„ï¼šå› ä¸º h å‡½æ•°æ˜¯ä½œä¸º render å‡½æ•°çš„å‚æ•°ä¼ é€’è¿›æ¥çš„ï¼Œæ‰€ä»¥å‚æ•°å h å¯ä»¥ä»»æ„ä¿®æ”¹ï¼Œä½† vue æ–‡æ¡£é‡Œç”¨çš„æ˜¯ hï¼Œæ‰€ä»¥æ¨èä¸è¦ä¿®æ”¹ï¼Œä»ä½¿ç”¨ h ä½œä¸ºå‡½æ•°å</li>
</ul>
</li>
</ul>
<h3 id="å¼•å…¥">å¼•å…¥</h3>
<h4 id="é€šè¿‡-cdn-å¼•å…¥">é€šè¿‡ CDN å¼•å…¥</h4>
<blockquote>
<p>åœ¨ index.htmlï¼Œé€šè¿‡ script æ ‡ç­¾å¼•å…¥</p>
<p><a href="https://cn.vuejs.org/v2/guide/installation.html#%E7%9B%B4%E6%8E%A5%E7%94%A8-lt-script-gt-%E5%BC%95%E5%85%A5" target="_blank" rel="noopener noreffer">å®˜æ–¹æ–‡æ¡£</a>ï¼šç”¨ <code>&lt;script&gt;</code> æ ‡ç­¾å¼•å…¥ï¼ŒVue ä¼šè¢«æ³¨å†Œä¸ºä¸€ä¸ªå…¨å±€å˜é‡</p>
</blockquote>
<ul>
<li>æ–‡ä»¶åä¸º  vue.jsï¼Œè¡¨ç¤ºã€Œå®Œæ•´ç‰ˆã€</li>
<li>æ–‡ä»¶åä¸º  vue.runtime.jsï¼Œè¡¨ç¤ºã€Œéå®Œæ•´ç‰ˆã€</li>
<li>å¦‚æœè¦ä¸Šçº¿éƒ¨ç½²ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰ï¼Œéœ€è¦ä½¿ç”¨åç¼€ä¸º .min.js çš„æ–‡ä»¶
<ul>
<li>.min.js æ˜¯å»æ‰æ³¨é‡Šã€ä»£ç å‹ç¼©ä¹‹åçš„ç‰ˆæœ¬ï¼Œä½“ç§¯æ›´å°</li>
<li>vue.min.js å’Œ vue.runtime.min.js</li>
</ul>
</li>
</ul>
<p>â€‹</p>
<h4 id="é€šè¿‡-webpack-å¼•å…¥">é€šè¿‡ webpack å¼•å…¥</h4>
<blockquote>
<p>ç”¨ webpack å¼•å…¥ vue çš„é…ç½®ï¼Œæ¯”è¾ƒéº»çƒ¦</p>
</blockquote>
<blockquote>
<p>é€šè¿‡ webpack å¼•å…¥ï¼Œé»˜è®¤ä½¿ç”¨ã€Œéå®Œæ•´ç‰ˆã€ï¼ˆè¿™æ˜¯å°¤é›¨æºªé…ç½®çš„ï¼‰</p>
</blockquote>
<p>å¦‚æœæƒ³é€šè¿‡ webpack å¼•å…¥ã€Œå®Œæ•´ç‰ˆã€ï¼Œå¯ä»¥å‚è€ƒ</p>
<ul>
<li>âš ï¸ <a href="https://cn.vuejs.org/v2/guide/installation.html?#%E8%BF%90%E8%A1%8C%E6%97%B6-%E7%BC%96%E8%AF%91%E5%99%A8-vs-%E5%8F%AA%E5%8C%85%E5%90%AB%E8%BF%90%E8%A1%8C%E6%97%B6" target="_blank" rel="noopener noreffer">Vue å®‰è£…æ–‡æ¡£</a> ã€<a href="https://webpack.js.org/configuration/resolve/#resolvealias" target="_blank" rel="noopener noreffer">webpack æ–‡æ¡£</a></li>
<li>â­•ï¸ <a href="https://www.jianshu.com/p/fb265cdb920b" target="_blank" rel="noopener noreffer">webpack å¼•å…¥ Vue çš„ä¸¤ç§æ–¹å¼</a></li>
</ul>
<p>â€‹</p>
<h4 id="é€šè¿‡-vuecli-å¼•å…¥">é€šè¿‡ @vue/cli å¼•å…¥</h4>
<blockquote>
<p>é€šè¿‡ @vue/cli åˆ›å»ºçš„é¡¹ç›®ï¼Œé»˜è®¤ä½¿ç”¨ã€Œéå®Œæ•´ç‰ˆã€ï¼ˆè¿™æ˜¯å°¤é›¨æºªã€è’‹è±ªç¾¤é…ç½®çš„ï¼‰</p>
</blockquote>
<p>å¦‚æœæƒ³å¼•å…¥ã€Œå®Œæ•´ç‰ˆã€ï¼Œå¯ä»¥å‚è€ƒ</p>
<ul>
<li>âš ï¸<a href="https://cli.vuejs.org/zh/guide/webpack.html#%E7%AE%80%E5%8D%95%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F" target="_blank" rel="noopener noreffer">Vue Cli webpack æ–‡æ¡£</a></li>
<li>â­•ï¸ <a href="https://github.com/vuejs/vue-cli/issues/2398" target="_blank" rel="noopener noreffer">Issuesï¼šhow to set alias</a>ã€<a href="https://github.com/Yatoo2018/webpack-chain/tree/zh-cmn-Hans#%E9%85%8D%E7%BD%AE-resolve-%E5%88%AB%E5%90%8D" target="_blank" rel="noopener noreffer">chainWebpack æ–‡æ¡£</a>ã€<a href="https://www.jianshu.com/p/0c4260120c2b" target="_blank" rel="noopener noreffer">Vueè„šæ‰‹æ¶ä¸­é…ç½®åˆ«åğŸ“Œ</a></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// vue.config.js
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;path&#34;</span><span class="p">)</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="c1">// æ–¹æ³•ä¸€
</span><span class="c1"></span>  <span class="nx">chainWebpack</span><span class="o">:</span> <span class="nx">config</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">config</span><span class="p">.</span><span class="nx">resolve</span><span class="p">.</span><span class="nx">alias</span>
      <span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&#34;vuehaha&#34;</span><span class="p">,</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="s2">&#34;./node_modules/vue/dist/vue.esm.js&#34;</span><span class="p">))</span> 
    	<span class="c1">// ç»™ã€Œvueå®Œæ•´ç‰ˆã€å–ä¸ªåˆ«åï¼Œ&#34;vuehaha&#34;ï¼ˆæ…ç”¨ç¬¦å·ï¼‰
</span><span class="c1"></span>  <span class="p">}</span>
  <span class="c1">// æ–¹æ³•äºŒ
</span><span class="c1"></span>  <span class="c1">// configureWebpack: {
</span><span class="c1"></span>  <span class="c1">//   resolve: {
</span><span class="c1"></span>  <span class="c1">//     alias: {
</span><span class="c1"></span>  <span class="c1">//       &#34;vuehaha&#34;: path.resolve(&#34;./node_modules/vue/dist/vue.esm.js&#34;)
</span><span class="c1"></span>  <span class="c1">//     }
</span><span class="c1"></span>  <span class="c1">//   }
</span><span class="c1"></span>  <span class="c1">// }
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// main.js å…¥å£æ–‡ä»¶
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">Vue</span> <span class="nx">from</span> <span class="s2">&#34;vuehaha&#34;</span>  <span class="c1">// ğŸ‘ˆğŸ‘ˆğŸ‘ˆ
</span><span class="c1"></span><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
  <span class="nx">el</span><span class="o">:</span> <span class="s2">&#34;#app&#34;</span><span class="p">,</span>
  <span class="c1">// ğŸ‘‡ å®Œæ•´ç‰ˆï¼Œå¯ä»¥ã€Œä»index.htmlä¸­ã€orã€Œä»templateé€‰é¡¹ä¸­ã€ç›´æ¥è·å–è§†å›¾
</span><span class="c1"></span>  <span class="nx">template</span><span class="o">:</span><span class="sb">`
</span><span class="sb">	&lt;div&gt;
</span><span class="sb">      {{n}}
</span><span class="sb">      &lt;button @click=&#34;add&#34;&gt;+1&lt;/button&gt;
</span><span class="sb">  	&lt;/div&gt;
</span><span class="sb">	`</span><span class="p">,</span>
  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span> <span class="nx">n</span><span class="o">:</span> <span class="mi">0</span> <span class="p">},</span>
  <span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">add</span><span class="p">()</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h3 id="template-å’Œ-render">template å’Œ render</h3>
<blockquote>
<p>template å’Œ render æ€»æ˜¯äºŒé€‰ä¸€ä½¿ç”¨ã€‚å¦‚æœäºŒè€…åŒæ—¶ä½¿ç”¨ï¼Œå¿…ç„¶æœ‰ä¸€ä¸ªä¼šå¤±æ•ˆ</p>
</blockquote>
<ul>
<li>template æ˜¯ç»™ã€ŒVue å®Œæ•´ç‰ˆã€ä½¿ç”¨çš„
<ul>
<li>å®Œæ•´ç‰ˆå¿…é¡»è¦å†™ html å­—ç¬¦ä¸²ï¼Œå¯ä»¥å†™åˆ° template é€‰é¡¹é‡Œï¼Œä¹Ÿå¯ä»¥å†™åˆ° HTML æ–‡ä»¶é‡Œ</li>
</ul>
</li>
<li>render æ˜¯ç»™ã€ŒVue éå®Œæ•´ç‰ˆã€ä½¿ç”¨çš„
<ul>
<li>éå®Œæ•´ç‰ˆå¿…é¡»è¦å†™ render å‡½æ•°</li>
</ul>
</li>
</ul>
<p>â€‹</p>
<h2 id="vue-å®ä¾‹çš„ä½¿ç”¨">Vue å®ä¾‹çš„ä½¿ç”¨</h2>
<blockquote>
<p>éœ€æ±‚ï¼šå®ç°ç‚¹å‡»æŒ‰é’®åŠ ä¸€ã€‚å®ç°å››ç§æ–¹æ¡ˆä¸‹çš„ Demo</p>
</blockquote>
<h3 id="æ–¹æ¡ˆä¸€">æ–¹æ¡ˆä¸€</h3>
<blockquote>
<p>CDN å¼•å…¥ Vue å®Œæ•´ç‰ˆï¼ˆvue.js æˆ– vue.min.jsï¼‰</p>
<ul>
<li>åŒ…å«ç¼–è¯‘å™¨ compilerï¼Œè§†å›¾å¯ä»¥ç›´æ¥ä» HTML é‡Œ æˆ–è€… template é€‰é¡¹é‡Œè·å–</li>
<li><a href="https://cn.vuejs.org/v2/guide/installation.html#%E6%9C%AF%E8%AF%AD" target="_blank" rel="noopener noreffer">å®˜æ–¹æ–‡æ¡£</a> â€”â€” ç¼–è¯‘å™¨ï¼šç”¨æ¥å°†æ¨¡æ¿å­—ç¬¦ä¸²ç¼–è¯‘æˆä¸º JavaScript æ¸²æŸ“å‡½æ•°çš„ä»£ç </li>
</ul>
</blockquote>
<blockquote>
<p><strong><a href="https://codesandbox.io/s/beautiful-nobel-hdhj4?file=/src/main.js" target="_blank" rel="noopener noreffer">åœ¨çº¿ç¤ºä¾‹</a>ï¼šHTML</strong></p>
<p><strong><a href="https://codesandbox.io/s/youthful-night-h7jiq?file=/src/main.js" target="_blank" rel="noopener noreffer">åœ¨çº¿ç¤ºä¾‹</a>ï¼štemplate</strong></p>
</blockquote>
<h3 id="æ–¹æ¡ˆäºŒ">æ–¹æ¡ˆäºŒ</h3>
<blockquote>
<p>CDN å¼•å…¥ Vue éå®Œæ•´ç‰ˆï¼ˆvue.runtime.js æˆ– vue.runtime.min.jsï¼‰</p>
<ul>
<li>æ²¡æœ‰ç¼–è¯‘å™¨ï¼Œæ— æ³•ç¼–è¯‘ HTMLï¼Œåªèƒ½ä» JS æ„å»ºè§†å›¾</li>
<li>å¼€å‘è€…éœ€ä¹¦å†™ render å‡½æ•°ï¼ˆ h æ„å»ºæ–¹æ³• ï¼‰<a href="https://cn.vuejs.org/v2/guide/installation.html#%E8%BF%90%E8%A1%8C%E6%97%B6-%E7%BC%96%E8%AF%91%E5%99%A8-vs-%E5%8F%AA%E5%8C%85%E5%90%AB%E8%BF%90%E8%A1%8C%E6%97%B6" target="_blank" rel="noopener noreffer">å®˜æ–¹æ–‡æ¡£</a></li>
<li>h æ„å»ºæ–¹æ³•çš„ä»£ç éå¸¸å¤æ‚ï¼Œæ‰€ä»¥ä¸å»ºè®®ä½¿ç”¨è¿™ç§æ–¹æ¡ˆ</li>
</ul>
</blockquote>
<blockquote>
<p><strong><a href="https://codesandbox.io/s/quizzical-swirles-vn4w1?file=/src/main.js" target="_blank" rel="noopener noreffer">åœ¨çº¿ç¤ºä¾‹</a></strong></p>
</blockquote>
<h3 id="æ–¹æ¡ˆä¸‰">æ–¹æ¡ˆä¸‰</h3>
<blockquote>
<p>CDN å¼•å…¥ Vue éå®Œæ•´ç‰ˆï¼Œé…åˆ Vue Loaderï¼ˆ<a href="https://vue-loader.vuejs.org/zh/#vue-loader-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F" target="_blank" rel="noopener noreffer">å®˜æ–¹æ–‡æ¡£</a>ï¼‰å’Œ .vue æ–‡ä»¶</p>
<ul>
<li>Vue Loader å¯ä»¥æŠŠä¸€ä¸ª<strong>å•ç‹¬çš„ .vue æ–‡ä»¶</strong>ç¿»è¯‘æˆä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡åŒ…å« render å‡½æ•°ï¼ˆh æ„å»ºæ–¹æ³•ï¼‰</li>
<li>å¼€å‘è€…å¯ä»¥åœ¨ä¸å†™ h å‡½æ•°çš„åŸºç¡€ä¸Šï¼Œå¾—åˆ° h å‡½æ•°</li>
</ul>
</blockquote>
<blockquote>
<p>Vue Loader æ˜¯ webpack çš„ loaderï¼Œå®ƒå…è®¸ä½ ä»¥ä¸€ç§åä¸º<strong>å•æ–‡ä»¶ç»„ä»¶ (SFCs)</strong> çš„æ ¼å¼æ’°å†™ Vue ç»„ä»¶</p>
<ul>
<li>è¿™å°±æ˜¯ webpack ä¸ºå‰ç«¯å¸¦æ¥çš„å¯èƒ½ã€‚å…è®¸ä»¥ä»»æ„å½¢å¼ï¼ˆå¦‚ .vue æ–‡ä»¶ï¼‰ç»„ç»‡ä¸€ä¸ªå¯¹è±¡ï¼Œåªè¦æœ€åèƒ½é€šè¿‡ä¸€ä¸ª loader æŠŠå®ƒè¿˜åŸæˆè¿™ä¸ªå¯¹è±¡å³å¯</li>
</ul>
</blockquote>
<blockquote>
<p><strong><a href="https://codesandbox.io/s/relaxed-tdd-bjums?file=/src/Demo.vue" target="_blank" rel="noopener noreffer">åœ¨çº¿ç¤ºä¾‹</a></strong></p>
</blockquote>
<p>â€‹</p>
<h3 id="æœ€ä¼˜æ–¹æ¡ˆ--æ–¹æ¡ˆä¸‰">æœ€ä¼˜æ–¹æ¡ˆ â€” æ–¹æ¡ˆä¸‰</h3>
<blockquote>
<p>æœ€ä½³å®è·µï¼š<strong>æ€»æ˜¯ä½¿ç”¨éå®Œæ•´ç‰ˆï¼Œç„¶åé…åˆ vue-loader å’Œ .vue æ–‡ä»¶</strong></p>
<ul>
<li>vue-loader ç”¨äºåŠ è½½/ç¿»è¯‘ .vue æ–‡ä»¶</li>
</ul>
</blockquote>
<p>å…·ä½“æ€è·¯ï¼ˆä¸ºä»€ä¹ˆè¯´è¿™ä¸ªæ˜¯æœ€ä¼˜æ–¹æ¡ˆï¼‰</p>
<ol>
<li>
<p>ä¿è¯ç”¨æˆ·ä½“éªŒï¼Œç”¨æˆ·ä¸‹è½½çš„ JS æ–‡ä»¶ä½“ç§¯æ›´å°ï¼Œä½†<strong>åªæ”¯æŒ h å‡½æ•°</strong></p>
</li>
<li>
<p>ä¿è¯å¼€å‘ä½“éªŒï¼Œå¼€å‘è€…å¯ç›´æ¥åœ¨ vue æ–‡ä»¶é‡Œå†™ HTML æ ‡ç­¾ï¼Œè€Œ<strong>ä¸å†™ h å‡½æ•°</strong></p>
</li>
<li>
<p>è„æ´»è®© loader åšï¼Œvue-loader ä¼šæŠŠ .vue æ–‡ä»¶é‡Œå¼€å‘è€…å†™çš„ HTML <strong>è½¬ä¸º h å‡½æ•°</strong></p>
<ul>
<li>å¼€å‘è€…å¯ä»¥åœ¨ä¸å†™ h å‡½æ•°çš„åŸºç¡€ä¸Š ,ï¼ˆé€šè¿‡ vue-loaderï¼‰å¾—åˆ° h å‡½æ•°</li>
<li>æ—¢ä¿è¯äº†å¼€å‘ä½“éªŒï¼Œåˆä¿è¯äº†ç”¨æˆ·ä½“éªŒ</li>
<li>psï¼šæŠŠæ‰€æœ‰ç»†èŠ‚<strong>å°è£…</strong>åˆ°ä¸€ä¸ªï¼ˆç±»ã€å‡½æ•°ã€æ’ä»¶â€¦ï¼‰é‡Œï¼Œè¿™å°±æ˜¯å·¥ç¨‹å¸ˆè¦åšçš„</li>
</ul>
</li>
</ol>
<p>â€‹</p>
<h2 id="åœ¨çº¿æ­å»º-vue-é¡¹ç›®">åœ¨çº¿æ­å»º Vue é¡¹ç›®</h2>
<p>é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ @vue/cli åˆ›å»º vue é¡¹ç›®ï¼ˆsh ï¼švue create xxx-demoï¼‰</p>
<p>ä½†è¿˜æœ‰å¦ä¸€ç§æ›´æ–¹ä¾¿çš„æ–¹å¼ â€”â€” <a href="https://codesandbox.io/" target="_blank" rel="noopener noreffer">codesandbox.io</a></p>
<blockquote>
<p>CodeSandbox æ˜¯ä¸€ä¸ªåœ¨çº¿çš„ä»£ç ç¼–è¾‘å™¨ï¼Œä¸»è¦èšç„¦äºåˆ›å»º Web åº”ç”¨é¡¹ç›®ã€‚å¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯ä¸€ä¸ªæµè§ˆå™¨ç«¯çš„æ²™ç›’è¿è¡Œç¯å¢ƒï¼Œæ”¯æŒå¤šç§æµè¡Œçš„æ„å»ºæ¨¡æ¿ï¼Œä¾‹å¦‚ create-react-appã€ vue-cliã€parcel ç­‰ç­‰ã€‚ å¯ä»¥ç”¨äºå¿«é€ŸåŸå‹å¼€å‘ã€DEMO å±•ç¤ºã€Bug è¿˜åŸç­‰ç­‰ã€‚</p>
</blockquote>
<ul>
<li>æ‰“å¼€ç½‘å€ï¼Œç‚¹å‡» create sandboxï¼Œé€‰æ‹© vue å›¾æ ‡ï¼Œå³å¯åœ¨çº¿åˆ›å»ºå‡ºä¸€ä¸ª vue é¡¹ç›®ï¼ˆå¦‚ä¸‹å›¾ï¼‰</li>
<li>åœ¨çº¿é¡¹ç›®æ”¯æŒä¸‹è½½ ZIP ï¼Œè§£å‹å³ç”¨ï¼ˆä¸è¿‡é€šå¸¸éƒ½æ˜¯æµ‹è¯• demo ä¹Ÿæ— éœ€ä¸‹è½½ï¼‰</li>
</ul>
<p></p>
<blockquote>
<p><strong>æç¤º</strong></p>
<p><a href="https://codesandbox.io/" target="_blank" rel="noopener noreffer">codesandbox.io</a> ç™»å½•ååªèƒ½åˆ›å»º 50 ä¸ªé¡¹ç›®</p>
<p>ä½†ä¸ç™»å½•å¯ä»¥åˆ›å»ºæ— é™ä¸ªï¼ˆæ³¨æ„æ¸…ç† cookieï¼‰ï¼Œæ‰€ä»¥ä¸è¦ç™»å½•ï¼ˆDo Not Sign Inï¼‰ğŸ˜‰</p>
</blockquote>]]></description>
</item><item>
    <title>æµ…æ MVC</title>
    <link>https://liubingxuan.xyz/mvc-what-is-mvc/</link>
    <pubDate>Sat, 12 Dec 2020 21:03:26 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://liubingxuan.xyz/mvc-what-is-mvc/</guid>
    <description><![CDATA[<h2 id="mvc-æ˜¯å•¥">MVC æ˜¯å•¥</h2>
<blockquote>
<p>MVC æ˜¯ä¸€ç§éå¸¸å‡ºåçš„æ¶æ„æ¨¡å¼ï¼ˆè®¾è®¡æ¨¡å¼ï¼‰ã€‚</p>
<p>å¦‚ä½•è®¾è®¡ä¸€ä¸ªç¨‹åºçš„ç»“æ„ï¼Œè¿™æ˜¯ä¸€é—¨ä¸“é—¨çš„å­¦é—®ï¼Œå«åšæ¶æ„æ¨¡å¼ï¼ˆarchitectural patternï¼‰ï¼Œå±äºç¼–ç¨‹çš„æ–¹æ³•è®ºã€‚</p>
</blockquote>
<p>MVCï¼Œå°†ä»£ç åˆ†ä¸ºä¸‰ä¸ªæ¨¡å—ï¼Œå†™æˆä¸‰ä¸ªå¯¹è±¡</p>
<ul>
<li>M - Modelï¼ˆæ•°æ®æ¨¡å‹ï¼‰è´Ÿè´£æ“ä½œæ‰€æœ‰æ•°æ®</li>
<li>V - Viewï¼ˆè§†å›¾ï¼‰è´Ÿè´£æ‰€æœ‰ UI ç•Œé¢</li>
<li>C - Controllerï¼ˆæ§åˆ¶å™¨ï¼‰è´Ÿè´£å…¶ä»–</li>
</ul>
<p>MVC æ²¡æœ‰ä¸¥æ ¼çš„å®šä¹‰ï¼Œæ¯ä¸ªç¨‹åºå‘˜å¯¹ MVC çš„ç†è§£éƒ½å¯èƒ½å­˜åœ¨åˆ†æ­§ï¼Œå”¯ä¸€ç»Ÿä¸€çš„å°±æ˜¯å¯¹ M / V / C ä¸‰ä¸ªå•è¯çš„è®¤çŸ¥</p>
<blockquote>
<p>ä½¿ç”¨ MVC æ¨¡å¼çš„ç›®çš„ï¼Œç®€å•æ¥è¯´å°±æ˜¯å¸Œæœ› <strong>é€šè¿‡å°†ä»£ç åˆ†ç¦»ä»¥æé«˜ä»£ç çš„çµæ´»æ€§å’Œå¤ç”¨æ€§</strong>ã€‚</p>
</blockquote>
<h3 id="mvc-ä¼ªä»£ç ">MVC ä¼ªä»£ç </h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// æ•°æ®å±‚ï¼Œå…³äºæ•°æ®çš„æ“ä½œæ”¾åœ¨è¿™é‡Œ
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">m</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// æ•°æ®åˆå§‹åŒ–
</span><span class="c1"></span>    <span class="nx">n</span><span class="o">:</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s1">&#39;number&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="mi">100</span><span class="p">)</span>  
  <span class="p">},</span>
  <span class="nx">update</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/*æ›´æ–°æ•°æ®*/</span> <span class="p">},</span>
  <span class="k">delete</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/*åˆ é™¤æ•°æ®*/</span> <span class="p">},</span>
  <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/*è·å¾—æ•°æ®*/</span> <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// è§†å›¾å±‚ï¼Œå…³äºè§†å›¾çš„æ“ä½œæ”¾åœ¨è¿™é‡Œ
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">v</span> <span class="o">=</span> <span class="p">{</span> 
  <span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;æŒ‚è½½ç‚¹ï¼ˆå®¹å™¨ï¼‰&#39;</span><span class="p">,</span>
  <span class="nx">html</span><span class="o">:</span> <span class="s1">&#39;éœ€è¦æ’å…¥å…ƒç´ å†…çš„HTMLå†…å®¹&#39;</span><span class="p">,</span>
  <span class="nx">render</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span> <span class="cm">/*ï¼ˆè·å–æ•°æ®ï¼‰æ¸²æŸ“htmlè§†å›¾*/</span> <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// æ§åˆ¶å±‚ï¼Œå…³äºäº‹ä»¶ç›‘å¬çš„æ”¾åˆ°è¿™é‡Œ
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span> 
  <span class="c1">// æ‰¾åˆ°é‡è¦çš„å…ƒç´ ç»‘å®šäº‹ä»¶
</span><span class="c1"></span>  <span class="c1">// å¦‚æœè§¦å‘äº‹ä»¶è°ƒç”¨æ›´æ”¹æ•°æ®æ–¹æ³•åŠæ¸²æŸ“æ–¹æ³•
</span><span class="c1"></span>  <span class="nx">a</span><span class="o">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;æ‰¾åˆ°a&#39;</span><span class="p">),</span>
  <span class="nx">b</span><span class="o">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;æ‰¾åˆ°b&#39;</span><span class="p">),</span>
  <span class="nx">c</span><span class="o">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;æ‰¾åˆ°c&#39;</span><span class="p">),</span>
  <span class="nx">bindEvents</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>   <span class="c1">// bindEvents åœ¨ render æ—¶æ‰§è¡Œ
</span><span class="c1"></span>    <span class="nx">a</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
      <span class="c1">// è°ƒç”¨æ•°æ®å±‚æ–¹æ³•æ›´æ”¹æ•°æ®
</span><span class="c1"></span>      <span class="c1">// è°ƒç”¨è§†å›¾å±‚æ–¹æ³•æ¸²æŸ“é¡µé¢
</span><span class="c1"></span>    <span class="p">})</span>
    <span class="nx">b</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span><span class="cm">/**/</span><span class="p">})</span>
    <span class="nx">b</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span><span class="cm">/**/</span><span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="ä¸ºä»€ä¹ˆç”¨-mvc">ä¸ºä»€ä¹ˆç”¨ MVC</h3>
<blockquote>
<p>å¯¹äºã€Œæƒ¯ç”¨ç®€å•ã€æœ´ç´ çš„æ€æƒ³ï¼ˆç›‘å¬äº‹ä»¶ã€æ”¹å˜DOMå…ƒç´ ï¼‰æ¥å†™ä»£ç ã€çš„äººæ¥è¯´ï¼Œå¯èƒ½è®¤ä¸ºã€Œæ”¹ç”¨ MVC çš„æ–¹å¼å»å®ç°æŸä¸ªåŠŸèƒ½ã€ä¼šæ›´å¤æ‚ã€éº»çƒ¦</p>
</blockquote>
<ul>
<li>è™½ç„¶æœ´ç´ çš„ä»£ç é€»è¾‘æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†å¦‚æœä»£ç é‡å¢å¤§ï¼ŒåŠŸèƒ½ç›¸ä¼¼çš„ä»£ç å¯èƒ½å‡ºç°å¤§é‡é‡å¤ï¼ŒåæœŸç»´æŠ¤ä¼šéå¸¸éº»çƒ¦ï¼Œè€Œä¸”è¿˜å­˜åœ¨å˜é‡æ±¡æŸ“çš„å¯èƒ½ã€‚è¿™æ ·çš„ä»£ç å¤ç”¨æ€§å¾ˆä½ã€‚</li>
<li>å¥—ç”¨ MVC æ¶æ„çš„è¿‡ç¨‹è™½ç„¶éº»çƒ¦ã€éœ€è¦å¾ˆå¤šè°ƒè¯•ï¼Œä½†æ˜¯åæœŸç»´æŠ¤æˆæœ¬ä½ã€‚æ¯ä¸€éƒ¨åˆ†ä»£ç éƒ½ä»¥ä¸€ä¸ªå¯¹è±¡ï¼ˆæ¨¡å—ï¼‰çš„æ–¹å¼å‚¨å­˜åœ¨ä¸€ä¸ªç‹¬ç«‹çš„ç©ºé—´ï¼Œè´Ÿè´£æŸä¸€é¡¹åŠŸèƒ½ï¼Œæˆ‘ä»¬æ›´å®¹æ˜“æ‰¾åˆ°å¯¹åº”ä»£ç ï¼Œå¹¶ä¸”åœ¨å…¶å†…éƒ¨ä¿®æ”¹ä¸ä¼šå¯¹å¤–éƒ¨çš„ä»£ç é€ æˆå¾ˆå¤§å½±å“</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// æ‰¾åˆ°é‡è¦çš„å…ƒç´ 
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">$button1</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&#34;#add1&#34;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">$button2</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&#34;#minus1&#34;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">$button3</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&#34;#mul2&#34;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">$button4</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&#34;#divide2&#34;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">$number</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&#34;#number&#34;</span><span class="p">)</span>
<span class="c1">// è·å¾—æ•°æ®
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s2">&#34;n&#34;</span><span class="p">)</span>
<span class="nx">$number</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">n</span> <span class="o">||</span> <span class="mi">100</span><span class="p">)</span>

<span class="c1">// ç›‘å¬äº‹ä»¶ï¼Œæ”¹å˜æ•°æ®
</span><span class="c1"></span><span class="nx">$button1</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;click&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>  <span class="c1">// åŠ 1
</span><span class="c1"></span>  <span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">$number</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span>
  <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s2">&#34;n&#34;</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span>
  <span class="nx">$number</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span>
<span class="p">})</span>
<span class="nx">$button2</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;click&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>  <span class="c1">// å‡1
</span><span class="c1"></span>  <span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">$number</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="nx">n</span> <span class="o">-=</span> <span class="mi">1</span>
  <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s2">&#34;n&#34;</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span>
  <span class="nx">$number</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span>
<span class="p">})</span>
<span class="nx">$button3</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;click&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>  <span class="c1">// ä¹˜2
</span><span class="c1"></span>  <span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">$number</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="nx">n</span> <span class="o">*=</span> <span class="mi">2</span>
  <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s2">&#34;n&#34;</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span>
  <span class="nx">$number</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span>
<span class="p">})</span>
<span class="nx">$button4</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;click&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>  <span class="c1">// é™¤2
</span><span class="c1"></span>  <span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">$number</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="nx">n</span> <span class="o">/=</span> <span class="mi">2</span>
  <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s2">&#34;n&#34;</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span>
  <span class="nx">$number</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h2 id="æ¨¡å—åŒ–">æ¨¡å—åŒ–</h2>
<blockquote>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Modules" target="_blank" rel="noopener noreffer">MDNï¼šæ¨¡å—</a></p>
</blockquote>
<p>åœ¨é¡¹ç›®ä¸­å®ç°ã€Œæ¨¡å—åŒ–ã€ï¼Œé€šä¿—æ¥è®²ï¼Œå°±æ˜¯åˆ›å»ºå¤šä¸ª js æ–‡ä»¶ï¼ŒæŠŠç›¸å…³åŠŸèƒ½çš„ä»£ç èšé›†åˆ°åŒä¸€ä¸ª js æ–‡ä»¶ä¸­ï¼Œè¿™æ ·å°±å®ç°äº†æ¨¡å—åŒ–ã€‚</p>
<p>éšç€åº”ç”¨çš„åŠŸèƒ½ä¸æ–­å¢åŠ ï¼Œä¸šåŠ¡é€»è¾‘è¶Šæ¥è¶Šå¤æ‚ï¼Œä»£ç ä¹Ÿä¼šå˜å¾—æ›´åŠ å¤æ‚ã€‚å¦‚æœä»å°†æ‰€æœ‰åŠŸèƒ½ä»£ç æ”¾åœ¨ä¸€ä¸ª js æ–‡ä»¶ä¸­ï¼Œä¸åŒåŠŸèƒ½çš„ä»£ç æ•£ä¹±ä¸€å›¢éš¾ä»¥æŸ¥æ‰¾è¾¨åˆ«ï¼Œå¯èƒ½èµ·å˜é‡åéƒ½ä¼šå˜å¾—éå¸¸è´¹åŠ²ï¼Œæœ€ç»ˆå¯¼è‡´ä»£ç çš„å¯è¯»æ€§ã€å¤ç”¨æ€§æå·®ï¼ŒåæœŸéš¾ä»¥ç»´æŠ¤ã€‚</p>
<p>æ‰€ä»¥ï¼Œä¸ºäº†ä¿è¯ã€Œä»£ç èƒ½æœ‰æ¸…æ™°çš„ç»“æ„ã€ã€ã€Œæ–¹ä¾¿æŸ¥æ‰¾æŸä¸ªåŠŸèƒ½å¯¹åº”çš„ä»£ç åŒºã€ï¼Œæˆ‘ä»¬ä¾æ®åŠŸèƒ½ä¸åŒï¼Œå°†ä»£ç æ‹†åˆ†æˆä¸åŒçš„æ¨¡å—ï¼ˆæ–‡ä»¶ï¼‰ï¼Œä½¿å„ä¸ªæ¨¡å—ä¹‹é—´å®ç°ã€Œè§£è€¦ã€ã€‚</p>
<ul>
<li>è§£è€¦ï¼šæ¯ä¸ªæ¨¡å—çš„ä»£ç éƒ½ç‹¬ç«‹å­˜åœ¨ï¼Œä¸éœ€è¦ä¾èµ–å…¶ä»–æ¨¡å—ã€‚ï¼ˆç”šè‡³ä¸€ä¸ªæ¨¡å—ç”¨ Vueã€ä¸€ä¸ªç”¨ Reactã€ä¸€ä¸ªç”¨ jQuery éƒ½æ²¡é—®é¢˜ã€‚åªä¸è¿‡ä½“ç§¯ä¼šå¤§ä¸€ç‚¹ï¼‰</li>
<li>å°±åƒæˆ‘ä»¬ç©çš„ç§¯æœ¨ä¸€æ ·ï¼Œå„ä¸ªç§¯æœ¨å¯ä»¥ç»„åˆåœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªå½¢çŠ¶ï¼Œåˆå¯ä»¥æ‹†åˆ†ï¼Œåˆå¯ä»¥æ›¿æ¢ï¼Œå› ä¸ºå„ä¸ªç§¯æœ¨å—éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œåªè¦ä»–ä»¬ä¹‹é—´çš„æ¥å£ï¼ˆå½¢çŠ¶ï¼‰åŒ¹é…ï¼Œå°±å¯ä»¥çµæ´»åœ°ç»„åˆåœ¨ä¸€èµ·ï¼Œè§£è€¦å°±æ˜¯ä¸ºäº†é€æ¸è¾¾åˆ°è¿™ç§ç†æƒ³çš„çŠ¶æ€ã€‚</li>
</ul>
<p align="center"></p>
<p>åˆ’åˆ†æ¨¡å—çš„ä¸€ä¸ªå‡†åˆ™æ˜¯ã€Œé«˜å†…èšã€ä½è€¦åˆã€</p>
<ul>
<li>é«˜å†…èšï¼Œæ˜¯æŒ‡ä¸€ä¸ªè½¯ä»¶æ¨¡å—æ˜¯ç”±ç›¸å…³æ€§å¾ˆå¼ºçš„ä»£ç ç»„æˆï¼Œåªè´Ÿè´£ä¸€é¡¹ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„å•ä¸€è´£ä»»åŸåˆ™ã€‚</li>
<li>ä½è€¦åˆï¼Œæ˜¯æŒ‡æ¨¡å—ä¹‹é—´çš„è”ç³»è¶Šå°‘è¶Šå¥½ï¼Œæ¥å£è¶Šç®€å•è¶Šå¥½ï¼Œå®ç°ä½è€¦åˆï¼Œç»†çº¿é€šä¿¡ã€‚</li>
<li>å¦‚æœå„ä¸ªæ¨¡å—ä¹‹é—´æ¥å£å¾ˆå¤æ‚ï¼Œè¯´æ˜åŠŸèƒ½åˆ’åˆ†æœ‰ä¸åˆç†ä¹‹å¤„ã€æ¨¡å—ä¹‹é—´çš„è€¦åˆå¤ªé«˜ï¼ŒåŒæ—¶ä¹Ÿè¯´æ˜å•ä¸ªæ¨¡å—çš„å†…èšä¸é«˜ã€‚</li>
</ul>
<p>â€‹</p>
<h2 id="eventbus">EventBus</h2>
<h3 id="é€šä¿¡">é€šä¿¡</h3>
<blockquote>
<p>ä¸Šé¢æˆ‘ä»¬è¯´äº†æ¨¡å—åŒ–ï¼Œæ—¢ç„¶æˆ‘ä»¬æŠŠæ¯ä¸ªåŠŸèƒ½éƒ½åˆ†æˆä¸åŒçš„æ¨¡å—ï¼ˆæ–‡ä»¶ï¼‰ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº† â€”â€” å¦‚æœæ–‡ä»¶ C ä¸­æ£€æŸ¥åˆ°ç”¨æˆ·çš„æ“ä½œï¼Œéœ€è¦é€šçŸ¥æ–‡ä»¶ M ä¿®æ”¹æ•°æ®ï¼ŒM ä¿®æ”¹äº†æ•°æ®éœ€è¦é€šçŸ¥æ–‡ä»¶ V è¿›è¡Œé¡µé¢æ¸²æŸ“æ€ä¹ˆåŠï¼Ÿ</p>
</blockquote>
<p>ã€ŒeventBusã€ç”¨äºå®ç°å„ä¸ªæ¨¡å—ä¹‹é—´çš„é€šä¿¡</p>
<ul>
<li>eventBus ä¹Ÿæ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼æˆ–è€…æ¡†æ¶ï¼Œä¸»è¦ç”¨äºç»„ä»¶/å¯¹è±¡é—´é€šä¿¡çš„ä¼˜åŒ–ç®€åŒ–ã€‚</li>
<li>eventBus åŒ…å«å¾ˆå¤šæ–¹æ³•ï¼Œon æ–¹æ³•å¯ä»¥ç›‘å¬äº‹ä»¶ï¼Œtrigger æ–¹æ³•å¯ä»¥è§¦å‘äº‹ä»¶ï¼Œoff æ–¹æ³•å¯ä»¥å¸è½½ç›‘å¬</li>
<li>ä¸ç®¡æ˜¯ jQuery è¿˜æ˜¯ Vue ä¸­éƒ½æœ‰ç±»ä¼¼äº eventBus çš„å­˜åœ¨ï¼Œåªä¸è¿‡å«æ³•ä¸ä¸€æ ·ï¼Œä¸è¿‡å®ƒä»¬çš„åŠŸèƒ½æ˜¯ç›¸ä¼¼çš„ï¼Œéƒ½æ˜¯è´Ÿè´£ç»„ä»¶ï¼ˆæ¨¡å—ï¼‰é—´çš„é€šä¿¡ã€‚</li>
</ul>
<blockquote>
<p>ä¸‹é¢æ¼”ç¤ºç”¨ jQuery ç”Ÿæˆçš„ eventBus</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// ä¼ªä»£ç 
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">$</span> <span class="nx">from</span> <span class="s1">&#39;jquery&#39;</span>
<span class="kr">const</span> <span class="nx">eventbus</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">)</span> <span class="c1">// è¿”å›ä¸€ä¸ªåŒ…å«eventbusçš„æ‰€æœ‰æ–¹æ³•çš„å¯¹è±¡
</span><span class="c1"></span>
<span class="kr">const</span> <span class="nx">model</span> <span class="o">=</span> <span class="p">{</span> <span class="c1">// æ•°æ®å±‚
</span><span class="c1"></span>  <span class="nx">data</span><span class="o">:</span><span class="p">{</span><span class="s1">&#39;æ•°æ®&#39;</span><span class="o">:</span><span class="mi">1</span><span class="p">},</span>
  <span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
    <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">model</span><span class="p">.</span><span class="nx">data</span><span class="p">,</span><span class="nx">data</span><span class="p">)</span> <span class="c1">// æ›´æ–°æ•°æ®
</span><span class="c1"></span>    <span class="nx">eventbus</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s1">&#39;æ›´æ–°æ•°æ®&#39;</span><span class="p">)</span> <span class="c1">// è§¦å‘äº‹ä»¶ 
</span><span class="c1"></span>  <span class="p">}</span>

<span class="p">}</span>
<span class="kr">const</span> <span class="nx">view</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;æŒ‚è½½ç‚¹&#39;</span><span class="p">,</span>
  <span class="nx">html</span><span class="o">:</span> <span class="s1">&#39;&lt;div&gt;{{å†…å®¹}}&lt;/div&gt;&#39;</span><span class="p">,</span>
  <span class="nx">init</span><span class="p">(</span><span class="nx">container</span><span class="p">){</span>
    <span class="nx">view</span><span class="p">.</span><span class="nx">el</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="nx">render</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
    <span class="nx">$</span><span class="p">(</span><span class="nx">view</span><span class="p">.</span><span class="nx">html</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;{{n}}&#39;</span><span class="p">,</span> <span class="nx">n</span><span class="p">)).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">view</span><span class="p">.</span><span class="nx">el</span><span class="p">)</span> <span class="c1">// æ›´æ¢æ–°çš„(æ•°æ®)å†…å®¹ï¼Œæ¸²æŸ“è¿›é¡µé¢
</span><span class="c1"></span>  <span class="p">}</span>
<span class="p">}</span>
<span class="kr">const</span> <span class="nx">control</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">init</span><span class="p">(</span><span class="nx">container</span><span class="p">){</span>
    <span class="nx">view</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span>  <span class="c1">// æ‹¿åˆ°æŒ‚è½½ç‚¹ï¼ˆå…ƒç´ å®¹å™¨ï¼‰
</span><span class="c1"></span>    <span class="nx">view</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// åˆå§‹åŒ–é¡µé¢
</span><span class="c1"></span>    <span class="nx">autoBindEvents</span><span class="p">()</span>
    <span class="nx">eventbus</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;æ›´æ–°æ•°æ®&#39;</span><span class="p">,()</span> <span class="p">=&gt;</span> <span class="p">{</span> 
      <span class="c1">// ç›‘å¬æ•°æ®å±‚çš„ eventbus.trigger
</span><span class="c1"></span>      <span class="c1">// å¦‚æœæœ‰è¢«è§¦å‘ï¼Œè¯´æ˜æ•°æ®æœ‰æ›´æ–°ï¼Œä»è€Œè¿›è¡Œæ¸²æŸ“
</span><span class="c1"></span>      <span class="nx">view</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span>
    <span class="p">})</span>
  <span class="p">},</span>
  <span class="nx">add</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// æ”¹å˜æ•°æ®
</span><span class="c1"></span>    <span class="nx">m</span><span class="p">.</span><span class="nx">update</span><span class="p">({</span><span class="nx">n</span><span class="o">:</span> <span class="nx">m</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">})</span>
  <span class="p">},</span>
  <span class="nx">minus</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// æ”¹å˜æ•°æ®
</span><span class="c1"></span>    <span class="nx">m</span><span class="p">.</span><span class="nx">update</span><span class="p">({</span><span class="nx">n</span><span class="o">:</span> <span class="nx">m</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">})</span>
  <span class="p">},</span>
  <span class="nx">autoBindEvents</span><span class="p">()</span> <span class="p">{</span>  <span class="c1">// ç›‘å¬æ”¹å˜æ•°æ®çš„æŒ‰é’®
</span><span class="c1"></span>    <span class="nx">view</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="s1">&#39;app1&#39;</span><span class="p">,</span> <span class="s1">&#39;add&#39;</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="eventbus-ç±»">EventBus ç±»</h3>
<blockquote>
<p>å½“éœ€æ±‚æ›´å¤æ‚çš„æ—¶å€™ï¼ˆå¤šä¸ªåº”ç”¨åŠŸèƒ½éƒ½é¡»ç”¨åˆ° eventBusï¼‰ï¼Œæˆ‘ä»¬å°† eventBus å•ç‹¬å†™æˆä¸€ä¸ªç±» EventBus.js</p>
<p>è®©ç”Ÿæˆçš„å®ä¾‹å¯¹è±¡ç»§æ‰¿ EventBusï¼Œè¿™æ ·æ¯ä¸ªå®ä¾‹éƒ½æ‹¥æœ‰äº†å¯ä»¥è§¦å‘å’Œç›‘å¬çš„åŠŸèƒ½ï¼Œç›¸å½“çµæ´»</p>
</blockquote>
<blockquote>
<p>éµå¾ªã€Œäº‹ä¸è¿‡ä¸‰ã€åŸåˆ™</p>
<ul>
<li>åŒæ ·çš„ä»£ç å†™ä¸‰éï¼Œå°±åº”è¯¥æŠ½æˆä¸€ä¸ªå‡½æ•°</li>
<li>åŒæ ·çš„å±æ€§å†™ä¸‰éï¼Œå°±åº”è¯¥åšæˆã€<strong>å…±ç”¨å±æ€§ï¼ˆåŸå‹æˆ–ç±»ï¼‰</strong>ã€‘</li>
<li>åŒæ ·çš„åŸå‹å†™ä¸‰éï¼Œå°±åº”è¯¥ç”¨ç»§æ‰¿</li>
</ul>
<p>ä»£ä»·ï¼šæœ‰çš„æ—¶å€™ä¼šé€ æˆç»§æ‰¿å±‚çº§å¤ªæ·±ï¼Œæ— æ³•ä¸€ä¸‹çœ‹æ‡‚ä»£ç ã€‚å¯ä»¥é€šè¿‡å†™æ–‡æ¡£ã€ç”»ç±»å›¾è§£å†³</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// EventBus.js
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">$</span> <span class="nx">from</span> <span class="s2">&#34;jquery&#34;</span>

<span class="kr">class</span> <span class="nx">EventBus</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_eventBus</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="nx">on</span><span class="p">(</span><span class="nx">eventName</span><span class="p">,</span> <span class="nx">fn</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_eventBus</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">eventName</span><span class="p">,</span> <span class="nx">fn</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="nx">trigger</span><span class="p">(</span><span class="nx">eventName</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_eventBus</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="nx">eventName</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="nx">off</span><span class="p">(</span><span class="nx">eventName</span><span class="p">,</span> <span class="nx">fn</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_eventBus</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="nx">eventName</span><span class="p">,</span> <span class="nx">fn</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">EventBus</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// app.js
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">EventBus</span> <span class="nx">from</span> <span class="s2">&#34;./base/EventBus.js&#34;</span>
<span class="kr">const</span> <span class="nx">e</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventBus</span><span class="p">()</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s1">&#39;xxx&#39;</span><span class="p">)</span>          <span class="c1">// è§¦å‘ xxx äº‹ä»¶
</span><span class="c1"></span><span class="nx">e</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{...})</span>  <span class="c1">// ç›‘å¬ xxx äº‹ä»¶ï¼Œæ‰§è¡Œå‡½æ•°
</span><span class="c1"></span><span class="nx">e</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="s1">&#39;xxx&#39;</span><span class="p">)</span>              <span class="c1">// åˆ é™¤ xxx äº‹ä»¶
</span></code></pre></td></tr></table>
</div>
</div><h4 id="ç±»çš„ç»§æ‰¿">ç±»çš„ç»§æ‰¿</h4>
<blockquote>
<p>éµå¾ªã€Œäº‹ä¸è¿‡ä¸‰ã€åŸåˆ™</p>
<ul>
<li>åŒæ ·çš„ä»£ç å†™ä¸‰éï¼Œå°±åº”è¯¥æŠ½æˆä¸€ä¸ªå‡½æ•°</li>
<li>åŒæ ·çš„å±æ€§å†™ä¸‰éï¼Œå°±åº”è¯¥åšæˆå…±ç”¨å±æ€§ï¼ˆåŸå‹æˆ–ç±»ï¼‰</li>
<li>åŒæ ·çš„åŸå‹å†™ä¸‰éï¼Œå°±åº”è¯¥ç”¨ã€<strong>ç»§æ‰¿</strong>ã€‘</li>
</ul>
<p>ä»£ä»·ï¼šæœ‰çš„æ—¶å€™ä¼šé€ æˆç»§æ‰¿å±‚çº§å¤ªæ·±ï¼Œæ— æ³•ä¸€ä¸‹çœ‹æ‡‚ä»£ç ã€‚å¯ä»¥é€šè¿‡å†™æ–‡æ¡£ã€ç”»ç±»å›¾è§£å†³</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Model.js
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">EventBus</span> <span class="nx">from</span> <span class="s2">&#34;./EventBus&#34;</span>
<span class="kr">class</span> <span class="nx">Model</span> <span class="kr">extends</span> <span class="nx">EventBus</span> <span class="p">{</span>  <span class="c1">// extends ğŸ‘ˆğŸ‘ˆğŸ‘ˆğŸ‘ˆğŸ‘ˆ
</span><span class="c1"></span>  <span class="p">...</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// app.js
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">Model</span> <span class="nx">from</span> <span class="s2">&#34;./base/Model.js&#34;</span>
<span class="kr">const</span> <span class="nx">m</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Model</span><span class="p">()</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">trigger</span><span class="p">)</span>
<span class="p">...</span>
</code></pre></td></tr></table>
</div>
</div><p align="center"></p>
<h3 id="vue-ä¸­çš„-eventbus">Vue ä¸­çš„ EventBus</h3>
<blockquote>
<p>Vue æœ‰æ²¡æœ‰ç»§æ‰¿ EventBus  ï¼Ÿ ç­”ï¼šæœ‰</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// éªŒè¯
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">v</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
  <span class="p">...</span>
<span class="p">})</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="c1">// ç¬¬ä¸€å±‚æ˜¯ Vue èµ‹äºˆçš„å±æ€§
</span><span class="c1">// ç¬¬äºŒå±‚é‡Œæœ‰ $onï¼ˆäº‹ä»¶ç›‘å¬ï¼‰ã€$emitï¼ˆäº‹ä»¶è§¦å‘triggerï¼‰ ã€$offï¼ˆå–æ¶ˆç›‘å¬ï¼‰ã€$once ... 
</span><span class="c1">// ç”¨ $ å¼€å¤´ï¼Œéƒ½æ˜¯ Vue å†…ç½®çš„æ–¹æ³•
</span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ç”±ä¸Šå¯çŸ¥ï¼Œ Vue ä¹Ÿå¯ä»¥åš eventBus</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// const eventBus = $(window)
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">eventBus</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">()</span>  
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">eventBus</span><span class="p">.</span><span class="nx">$on</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">eventBus</span><span class="p">.</span><span class="nx">$emit</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">eventBus</span><span class="p">.</span><span class="nx">$off</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p align="center"></p>
<p>â€‹</p>
<h2 id="view--renderdata">view = render(data)</h2>
<blockquote>
<p>è¿™ä¸ªæ€ç»´ï¼Œå¼•å¯¼äº† React çš„è¯ç”Ÿ</p>
</blockquote>
<ul>
<li>æ¯”èµ·æ“ä½œ DOM å¯¹è±¡ï¼Œç›´æ¥ render æ›´ç®€å•</li>
<li>åªè¦æ”¹å˜ dataï¼Œå°±å¯ä»¥å¾—åˆ°å¯¹åº”çš„ view</li>
</ul>
<h3 id="ä»£ä»·">ä»£ä»·</h3>
<blockquote>
<p>render ç²—æ‰©çš„æ¸²æŸ“è‚¯å®šæ¯” DOM æ“ä½œ<strong>æµªè´¹æ€§èƒ½</strong></p>
</blockquote>
<ul>
<li>
<p>ä¾‹ï¼šç”¨æˆ·åˆ‡æ¢åˆ° tab 1ï¼Œ<strong>DOM æ“ä½œ</strong>ç›´æ¥æ‰¾åˆ°é€‰ä¸­çš„ tabï¼Œæ·»åŠ  class æ¿€æ´»å³å¯ã€‚</p>
<p>ä½† <strong>render æ€ç»´</strong>æ˜¯åœ¨æ•°æ®ä¿®æ”¹åï¼Œå°†å½“å‰å…ƒç´ å®¹å™¨å…¨éƒ¨ç§»é™¤ï¼Œå†ä¾æ®æ–°çš„æ•°æ®é‡æ–°æ¸²æŸ“å…ƒç´ ï¼Œè‚¯å®šæ¯”ä¹‹å‰æ›´è´¹æ€§èƒ½</p>
</li>
<li>
<p>å½“ç„¶ï¼Œrender çš„ä»£ä»·å¯ä»¥é€šè¿‡ã€Œè™šæ‹Ÿ DOMã€æ¥å¼¥è¡¥ï¼Œè®© render åªæ›´æ–°è¯¥æ›´æ–°çš„åœ°æ–¹</p>
<ul>
<li>ã€Œè™šæ‹Ÿ DOMã€render æ—¶ï¼Œä¼šå¯¹æ¯”ç¬¬ä¸€æ¬¡å’Œç¬¬äºŒæ¬¡çš„åŒºåˆ«ï¼Œåªæœ‰å‘ç”Ÿå˜åŒ–çš„åœ°æ–¹æ‰ä¼šé‡æ–° render</li>
</ul>
</li>
</ul>
<h3 id="å›¾ç¤º-">å›¾ç¤º â­•ï¸</h3>
<blockquote>
<p>å¯¹æ¯” DOM æ“ä½œå’Œ render æ€ç»´</p>
<ul>
<li>é»‘å­—æ€è·¯ï¼šæ•°æ®ä»å³è¾¹æµå‘å·¦è¾¹ï¼Œæœ€åå†æ¸²æŸ“å›å³è¾¹</li>
<li>ç»¿å­—æ€è·¯ï¼šæ•°æ®æ°¸è¿œä¿æŒåœ¨å·¦è¾¹ï¼Œæœ€åè¢«æ¸²æŸ“åˆ°å³è¾¹  âœ”ï¸âœ”ï¸âœ”ï¸
<ul>
<li>æ•°æ®çš„æµå‘æ›´ç¨³å®š</li>
</ul>
</li>
</ul>
</blockquote>
<p align="center"></p>
<h3 id="ä¾‹">ä¾‹</h3>
<h4 id="åˆæ­¥ä»£ç -">åˆæ­¥ä»£ç  ğŸ’©</h4>
<blockquote>
<p>æ“ä½œ DOM</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">init</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">v</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span>
    <span class="nx">c</span><span class="p">.</span><span class="nx">bindEvents</span><span class="p">()</span> 
  <span class="p">},</span>
  <span class="nx">bindEvents</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">v</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;click&#34;</span><span class="p">,</span> <span class="s2">&#34;#add1&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">m</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="nx">v</span><span class="p">.</span><span class="nx">render</span><span class="p">()</span>
    <span class="p">})</span>
    <span class="nx">v</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;click&#34;</span><span class="p">,</span> <span class="s2">&#34;#minus1&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">m</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">n</span> <span class="o">-=</span> <span class="mi">1</span>
      <span class="nx">v</span><span class="p">.</span><span class="nx">render</span><span class="p">()</span>
    <span class="p">})</span>
    <span class="nx">v</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;click&#34;</span><span class="p">,</span> <span class="s2">&#34;#mul2&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">m</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">n</span> <span class="o">*=</span> <span class="mi">2</span>
      <span class="nx">v</span><span class="p">.</span><span class="nx">render</span><span class="p">()</span>
    <span class="p">})</span>
    <span class="nx">v</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;click&#34;</span><span class="p">,</span> <span class="s2">&#34;#divide2&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">m</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">n</span> <span class="o">/=</span> <span class="mi">2</span>
      <span class="nx">v</span><span class="p">.</span><span class="nx">render</span><span class="p">()</span>
    <span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="kr">export</span> <span class="k">default</span> <span class="nx">c</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// main.js
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">x</span> <span class="nx">from</span> <span class="s2">&#34;./app1.js&#34;</span>   <span class="c1">// x å°±æ˜¯ c çš„åœ°å€
</span><span class="c1"></span><span class="nx">x</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s2">&#34;#app1&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="c">&lt;!-- index.html --&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;page&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">section</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app1&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;main.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="è½¬æ¢">è½¬æ¢</h4>
<blockquote>
<p>æ”¹å†™ä¸º ã€Œ view = render(data) æ€ç»´ã€</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">init</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">v</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span>
    <span class="nx">v</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// view = render(data) ç¬¬ä¸€æ¬¡æ¸²æŸ“
</span><span class="c1"></span>    <span class="nx">c</span><span class="p">.</span><span class="nx">autoBindEvents</span><span class="p">()</span>
  <span class="p">},</span>
  <span class="c1">// ... ,
</span><span class="c1"></span>  <span class="c1">// ... ,
</span><span class="c1"></span>  <span class="nx">bindEvents</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// äº‹ä»¶å§”æ‰˜
</span><span class="c1"></span>    <span class="nx">v</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;click&#34;</span><span class="p">,</span> <span class="s2">&#34;#add1&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">m</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="nx">v</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// view = render(data)
</span><span class="c1"></span>    <span class="p">})</span>
    <span class="nx">v</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;click&#34;</span><span class="p">,</span> <span class="s2">&#34;#minus1&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">m</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">n</span> <span class="o">-=</span> <span class="mi">1</span>
      <span class="nx">v</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// view = render(data)
</span><span class="c1"></span>    <span class="p">})</span>
    <span class="nx">v</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;click&#34;</span><span class="p">,</span> <span class="s2">&#34;#mul2&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">m</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">n</span> <span class="o">*=</span> <span class="mi">2</span>
      <span class="nx">v</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// view = render(data)
</span><span class="c1"></span>    <span class="p">})</span>
    <span class="nx">v</span><span class="p">.</span><span class="nx">el</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&#34;click&#34;</span><span class="p">,</span> <span class="s2">&#34;#divide2&#34;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">m</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">n</span> <span class="o">/=</span> <span class="mi">2</span>
      <span class="nx">v</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span> <span class="c1">// view = render(data)
</span><span class="c1"></span>    <span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h2 id="è¡¨é©±åŠ¨ç¼–ç¨‹">è¡¨é©±åŠ¨ç¼–ç¨‹</h2>
<p>è¡¨é©±åŠ¨ç¼–ç¨‹ï¼ˆTable-Driven Methodsï¼‰æ˜¯ä¸€ç§ç¼–ç¨‹æ¨¡å¼ã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼š<strong>æ¶ˆé™¤ä»£ç ä¸­é¢‘ç¹çš„ if else æˆ– switch case çš„é€»è¾‘ç»“æ„ä»£ç </strong>ï¼Œä½¿ä»£ç æ›´åŠ ç®€åŒ–</p>
<ul>
<li>äº‹å®ä¸Šï¼Œä»»ä½•ä¿¡æ¯éƒ½å¯ä»¥é€šè¿‡è¡¨æ¥æŒ‘é€‰ã€‚åœ¨ç®€å•æƒ…å†µä¸‹ç”¨é€»è¾‘è¯­å¥æ˜¯æ›´ç®€å•çš„ï¼Œä½†æ˜¯ä¸€æ—¦åˆ¤æ–­æ¡ä»¶å¢å¤šï¼Œé‚£å¯èƒ½è¦å†™å¤§é‡é‡å¤çš„åˆ¤æ–­è¯­å¥ï¼Œè¿™æ—¶å€™æˆ‘ä»¬é€šè¿‡<strong>éå†</strong>è¡¨æ¥å®ç°æ¡ä»¶åˆ¤æ–­ï¼Œå°†äº‹åŠåŠŸå€ã€‚</li>
</ul>
<h3 id="ä¾‹1">ä¾‹1</h3>
<blockquote>
<p>éœ€æ±‚ï¼šå†™ä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥å¹´æœˆï¼Œè¿”å›å¯¹åº”å¤©æ•°</p>
<ul>
<li><a href="https://blog.csdn.net/xuehyunyu/article/details/73556048/" target="_blank" rel="noopener noreffer">é—°å¹´</a>æ»¡è¶³ï¼šï¼ˆå››å¹´ä¸€æ¶¦ ä¸” ç™¾å¹´ä¸æ¶¦ï¼‰ æˆ– ï¼ˆå››ç™¾å¹´å†æ¶¦ï¼‰</li>
</ul>
</blockquote>
<p>å¸¸è§„å†™æ³•</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">getDay</span><span class="p">(</span><span class="nx">year</span><span class="p">,</span> <span class="nx">month</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">isLeapYear</span> <span class="o">=</span> <span class="nx">year</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">year</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">year</span> <span class="o">%</span> <span class="mi">400</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">month</span> <span class="o">===</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">28</span> <span class="o">+</span> <span class="nx">isLeapYear</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">month</span><span class="o">===</span><span class="mi">1</span><span class="o">||</span><span class="nx">month</span><span class="o">===</span><span class="mi">3</span><span class="o">||</span><span class="nx">month</span><span class="o">===</span><span class="mi">5</span><span class="o">||</span><span class="nx">month</span><span class="o">===</span><span class="mi">7</span><span class="o">||</span><span class="nx">month</span><span class="o">===</span><span class="mi">8</span><span class="o">||</span><span class="nx">month</span><span class="o">===</span><span class="mi">10</span><span class="o">||</span><span class="nx">month</span><span class="o">===</span><span class="mi">12</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">31</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">month</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">||</span> <span class="nx">month</span> <span class="o">===</span> <span class="mi">6</span> <span class="o">||</span> <span class="nx">month</span> <span class="o">===</span> <span class="mi">9</span> <span class="o">||</span> <span class="nx">month</span> <span class="o">===</span> <span class="mi">11</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">30</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getDay</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>  <span class="c1">// 31
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getDay</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>   <span class="c1">// 29
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getDay</span><span class="p">(</span><span class="mi">2019</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>   <span class="c1">// 28
</span></code></pre></td></tr></table>
</div>
</div><p>è¡¨é©±åŠ¨å†™æ³•</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">monthDays</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">[</span><span class="mi">31</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">31</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">]</span>
<span class="p">]</span>
<span class="kd">function</span> <span class="nx">getDay</span><span class="p">(</span><span class="nx">year</span><span class="p">,</span> <span class="nx">month</span><span class="p">){</span>
  <span class="kd">let</span> <span class="nx">isLeapYear</span> <span class="o">=</span> <span class="nx">year</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">year</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">year</span> <span class="o">%</span> <span class="mi">400</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span>
  <span class="k">return</span> <span class="nx">monthDays</span><span class="p">[</span><span class="nx">isLeapYear</span><span class="p">][</span><span class="nx">month</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getDay</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span> <span class="c1">// 31
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getDay</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>  <span class="c1">// 29
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getDay</span><span class="p">(</span><span class="mi">2019</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>  <span class="c1">// 28
</span></code></pre></td></tr></table>
</div>
</div><h3 id="ä¾‹2">ä¾‹2</h3>
<blockquote>
<p>ç›‘å¬å…ƒç´ ç»‘å®šäº‹ä»¶</p>
</blockquote>
<p>å¸¸è§„å†™æ³•</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">add1</span><span class="p">(){</span> <span class="p">...</span> <span class="p">}</span>
<span class="nx">min1</span><span class="p">(){</span> <span class="p">...</span> <span class="p">}</span>
<span class="nx">mul2</span><span class="p">(){</span> <span class="p">...</span> <span class="p">}</span>
<span class="nx">div2</span><span class="p">(){</span> <span class="p">...</span> <span class="p">}</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#add1&#39;</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">add1</span><span class="p">)</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#min1&#39;</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">min1</span><span class="p">)</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#mul2&#39;</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">mul2</span><span class="p">)</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#div2&#39;</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">div2</span><span class="p">)</span>
<span class="nb">document</span><span class="p">........</span>
</code></pre></td></tr></table>
</div>
</div><p>è¡¨é©±åŠ¨å†™æ³•</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">controller</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">add1</span><span class="p">(){</span>  <span class="p">},</span>
  <span class="nx">min1</span><span class="p">(){</span>  <span class="p">},</span>
  <span class="nx">mul2</span><span class="p">(){</span>  <span class="p">},</span>
  <span class="nx">div2</span><span class="p">(){</span>  <span class="p">},</span>
  <span class="nx">events</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// è¡¨é©±åŠ¨ç¼–ç¨‹ï¼ˆå¯¹è±¡ï¼‰
</span><span class="c1"></span>    <span class="s2">&#34;click #add1&#34;</span><span class="o">:</span> <span class="s2">&#34;add1&#34;</span><span class="p">,</span> <span class="c1">// key çš„å‰åŠä¸ºè¦ç›‘å¬çš„äº‹ä»¶ï¼ŒååŠä¸ºç›‘å¬çš„å…ƒç´ ï¼Œvalue ä¸ºè¦æ‰§è¡Œçš„æ–¹æ³•
</span><span class="c1"></span>    <span class="s2">&#34;click #min1&#34;</span><span class="o">:</span> <span class="s2">&#34;min1&#34;</span><span class="p">,</span>
    <span class="s2">&#34;click #mul2&#34;</span><span class="o">:</span> <span class="s2">&#34;mul2&#34;</span><span class="p">,</span>
    <span class="s2">&#34;click #div2&#34;</span><span class="o">:</span> <span class="s2">&#34;div2&#34;</span>
  <span class="p">},</span>
  <span class="nx">autoBindEvents</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">key</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">){</span> <span class="c1">// éå†å¯¹è±¡è·å¾—å¯¹åº”çš„ key å»åšèµ‹å€¼æ“ä½œ
</span><span class="c1"></span>      <span class="kr">const</span> <span class="nx">handler</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">[</span><span class="nx">key</span><span class="p">]]</span>
      <span class="kr">const</span> <span class="p">[</span><span class="nx">event</span><span class="p">,</span> <span class="nx">selector</span><span class="p">]</span> <span class="o">=</span> <span class="nx">key</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&#34; &#34;</span><span class="p">)</span>  <span class="c1">// [&#34;click&#34;, &#34;#min1&#34;]
</span><span class="c1"></span>      <span class="nx">$</span><span class="p">(</span><span class="s2">&#34;å®¹å™¨&#34;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">handler</span><span class="p">)</span> <span class="c1">// å°†æå–å‡ºæ¥çš„å€¼å»ç›‘å¬äº‹ä»¶
</span><span class="c1"></span>    <span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ã€Œå¸¸è§„å†™æ³•ã€çš„ä»£ç è™½ç„¶æ›´ç®€å•ç›´ç™½ï¼Œä½†ä»£ç è¿‡äºé‡å¤ã€‚éšç€æ•°æ®è§„æ¨¡çš„å¢å¤§ï¼Œå¦‚æœç›‘å¬äº‹ä»¶æœ‰10ä¸ª100ä¸ªï¼Œé‚£ä¹ˆè¿™ç§å†™æ³•çš„ä»£ç é‡ä¹Ÿåœ¨åŠ å‰§</p>
<p>ã€Œè¡¨é©±åŠ¨ç¼–ç¨‹ã€è®©ä»£ç å…·æœ‰ä¸€ä¸ª<strong>ç¨³å®šçš„å¤æ‚åº¦</strong>ï¼Œä¸è®ºæ•°æ®è§„æ¨¡å¤šå¤§ï¼Œéƒ½èƒ½ä¿æŒç®€å•ã€‚</p>
<ul>
<li>æ‹’ç»é‡å¤ï¼Œä¿æŒ<strong>ç¨³å®šçš„ç®€å•</strong>ï¼Œè¿™æ‰æ˜¯ç¨‹åºå‘˜æ‰€è¿½æ±‚çš„</li>
</ul>
</blockquote>
<p>â€‹</p>
<h2 id="å‚è€ƒæ–‡ç« ">å‚è€ƒæ–‡ç« </h2>
<p><a href="https://efe.baidu.com/blog/mvc-deformation/" target="_blank" rel="noopener noreffer">å‰ç«¯MVCå˜å½¢è®°</a>ï¼šhttps://www.techug.com/post/mvc-deformation.html</p>
<p><a href="https://juejin.cn/post/6844904030825611278#heading-3" target="_blank" rel="noopener noreffer">MVCæµ…æ</a></p>]]></description>
</item><item>
    <title>DOM äº‹ä»¶æœºåˆ¶ &amp; äº‹ä»¶å§”æ‰˜</title>
    <link>https://liubingxuan.xyz/dom-event-event-delegation/</link>
    <pubDate>Tue, 27 Oct 2020 20:33:47 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://liubingxuan.xyz/dom-event-event-delegation/</guid>
    <description><![CDATA[<p>â€‹</p>
<h2 id="dom-äº‹ä»¶æµ">DOM äº‹ä»¶æµ</h2>
<blockquote>
<p>ä¸ºä»€ä¹ˆæœ‰ã€Œäº‹ä»¶æµã€ï¼Ÿ</p>
</blockquote>
<p>å‡å¦‚åœ¨ä¸€ä¸ªbuttonä¸Šæ³¨å†Œäº†ä¸€ä¸ªclickäº‹ä»¶ï¼Œåˆåœ¨å®ƒçš„ çˆ¶å…ƒç´  div ä¸Šæ³¨å†Œäº†ä¸€ä¸ª click äº‹ä»¶ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬ç‚¹å‡» buttonï¼Œæ˜¯å…ˆè§¦å‘çˆ¶å…ƒç´ ä¸Šçš„äº‹ä»¶ï¼Œè¿˜æ˜¯buttonä¸Šçš„äº‹ä»¶å‘¢ï¼Œè¿™å°±éœ€è¦ä¸€ç§çº¦å®šå»è§„èŒƒäº‹ä»¶çš„æ‰§è¡Œé¡ºåºï¼Œå°±æ˜¯äº‹ä»¶æ‰§è¡Œçš„æµç¨‹ã€‚</p>
<p>æµè§ˆå™¨åœ¨å‘å±•çš„è¿‡ç¨‹ä¸­å‡ºç°äº†ä¸¤ç§ä¸åŒçš„è§„èŒƒ</p>
<ul>
<li>IE 9ï¼ˆå¾®è½¯ï¼‰ ä»¥ä¸‹çš„ IE æµè§ˆå™¨ä½¿ç”¨çš„æ˜¯äº‹ä»¶å†’æ³¡ï¼Œå…ˆä»å…·ä½“çš„æ¥æ”¶å…ƒç´ ï¼Œç„¶åé€æ­¥å‘ä¸Šä¼ æ’­åˆ°ä¸å…·ä½“çš„å…ƒç´ ã€‚</li>
<li>Netscapeï¼ˆç½‘æ™¯ï¼‰ é‡‡ç”¨çš„æ˜¯äº‹ä»¶æ•è·ï¼Œå…ˆç”±ä¸å…·ä½“çš„å…ƒç´ æ¥æ”¶äº‹ä»¶ï¼Œæœ€å…·ä½“çš„èŠ‚ç‚¹æœ€åæ‰æ¥æ”¶åˆ°äº‹ä»¶ã€‚</li>
<li>è€Œ W3Cï¼ˆä¸‡ç»´ç½‘ï¼‰åˆ¶å®šçš„ Web æ ‡å‡†ä¸­ï¼Œæ˜¯åŒæ—¶é‡‡ç”¨äº†ä¸¤ç§æ–¹æ¡ˆï¼Œäº‹ä»¶æ•è·å’Œäº‹ä»¶å†’æ³¡éƒ½å¯ä»¥ã€‚</li>
</ul>
<p>â€‹</p>
<h2 id="äº‹ä»¶çš„ä¼ æ’­">äº‹ä»¶çš„ä¼ æ’­</h2>
<blockquote>
<p>åˆç§°ã€Œäº‹ä»¶æœºåˆ¶ã€ æˆ– ã€Œäº‹ä»¶æ¨¡å‹ã€</p>
</blockquote>
<p>ä¸€ä¸ªäº‹ä»¶å‘ç”Ÿåï¼Œä¼šåœ¨å­å…ƒç´ å’Œçˆ¶å…ƒç´ ä¹‹é—´ä¼ æ’­ï¼ˆpropagationï¼‰ã€‚è¿™ç§ä¼ æ’­åˆ†æˆä¸‰ä¸ªé˜¶æ®µã€‚</p>
<blockquote>
<ul>
<li>ç¬¬ä¸€é˜¶æ®µï¼šä»windowå¯¹è±¡ä¼ å¯¼åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼ˆä¸Šå±‚ä¼ åˆ°åº•å±‚ï¼‰ï¼Œç§°ä¸ºâ€œæ•è·é˜¶æ®µâ€ï¼ˆcapture phaseï¼‰ã€‚</li>
<li>ç¬¬äºŒé˜¶æ®µï¼šåœ¨ç›®æ ‡èŠ‚ç‚¹ä¸Šè§¦å‘ï¼Œç§°ä¸ºâ€œç›®æ ‡é˜¶æ®µâ€ï¼ˆtarget phaseï¼‰ã€‚</li>
<li>ç¬¬ä¸‰é˜¶æ®µï¼šä»ç›®æ ‡èŠ‚ç‚¹ä¼ å¯¼å›windowå¯¹è±¡ï¼ˆä»åº•å±‚ä¼ å›ä¸Šå±‚ï¼‰ï¼Œç§°ä¸ºâ€œå†’æ³¡é˜¶æ®µâ€ï¼ˆbubbling phaseï¼‰ã€‚</li>
</ul>
</blockquote>
<p>è¿™ç§ä¸‰é˜¶æ®µçš„ä¼ æ’­æ¨¡å‹ï¼Œä½¿å¾—åŒä¸€ä¸ªäº‹ä»¶ä¼šåœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šè§¦å‘ã€‚</p>
<h3 id="1äº‹ä»¶æ•è·">1.äº‹ä»¶æ•è·</h3>
<blockquote>
<p>æ•è·æ˜¯<strong>ä»ä¸Šåˆ°ä¸‹</strong>ã€‚</p>
</blockquote>
<p>äº‹ä»¶ä¼ æ’­çš„æœ€ä¸Šå±‚å¯¹è±¡æ˜¯ windowï¼Œæ¥ç€ä¾æ¬¡æ˜¯ documentï¼Œhtmlï¼ˆdocument.documentElementï¼‰å’Œbodyï¼ˆdocument.bodyï¼‰ï¼Œç„¶åæŒ‰ç…§æ™®é€šçš„ html ç»“æ„ä¸€å±‚ä¸€å±‚å¾€ä¸‹ä¼ ï¼Œæœ€ååˆ°è¾¾ç›®æ ‡å…ƒç´ ã€‚</p>
<p>æˆ‘ä»¬åªéœ€è¦å°† addEventListener çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ”¹ä¸º true ï¼Œå°±å¯ä»¥å®ç°äº‹ä»¶æ•è·ã€‚</p>
<h3 id="2äº‹ä»¶å†’æ³¡">2.äº‹ä»¶å†’æ³¡</h3>
<blockquote>
<p>å†’æ³¡æ˜¯<strong>ä»ä¸‹åˆ°ä¸Š</strong>ã€‚</p>
</blockquote>
<p>æ‰€è°“äº‹ä»¶å†’æ³¡å°±æ˜¯äº‹ä»¶åƒæ³¡æ³¡ä¸€æ ·ä»æœ€å¼€å§‹ç”Ÿæˆçš„åœ°æ–¹ä¸€å±‚ä¸€å±‚å¾€ä¸Šå†’ï¼Œè¶Šæ¥è¶Šå¤§ã€‚ä»ç›®æ ‡å…ƒç´ å¼€å§‹ï¼Œä¸€å±‚å±‚å¾€ä¸Šä¼ ï¼Œæœ€åç»è¿‡ bodyã€html åˆ°è¾¾ window ç»“æŸã€‚</p>
<p>addEventListener é»˜è®¤å°±æ˜¯æŠŠäº‹ä»¶ç»‘å®šåœ¨å†’æ³¡é˜¶æ®µï¼ˆç¬¬ä¸‰ä¸ªå‚æ•°ç©ºç€æˆ–è€…ä¼  falsy å€¼ ï¼‰ã€‚</p>
<p></p>
<h3 id="ç¤ºä¾‹">ç¤ºä¾‹</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>ç‚¹å‡»<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>&lt;div&gt;</code> èŠ‚ç‚¹ä¹‹ä¸­æœ‰ä¸€ä¸ª<code>&lt;p&gt;</code>èŠ‚ç‚¹ã€‚</p>
<p>å¦‚æœå¯¹è¿™ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œéƒ½è®¾ç½®clickäº‹ä»¶çš„ç›‘å¬å‡½æ•°ï¼ˆæ¯ä¸ªèŠ‚ç‚¹çš„æ•è·é˜¶æ®µå’Œç›‘å¬é˜¶æ®µï¼Œå„è®¾ç½®ä¸€ä¸ªç›‘å¬å‡½æ•°ï¼‰ï¼Œå…±è®¡è®¾ç½®å››ä¸ªç›‘å¬å‡½æ•°ã€‚ç„¶åï¼Œå¯¹<code>&lt;p&gt;</code>ç‚¹å‡»ï¼Œclickäº‹ä»¶ä¼šè§¦å‘å››æ¬¡ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">phases</span> <span class="o">=</span> <span class="p">{</span>
  <span class="mi">1</span><span class="o">:</span> <span class="s1">&#39;capture&#39;</span><span class="p">,</span>
  <span class="mi">2</span><span class="o">:</span> <span class="s1">&#39;target&#39;</span><span class="p">,</span>
  <span class="mi">3</span><span class="o">:</span> <span class="s1">&#39;bubble&#39;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">)</span>

<span class="nx">div</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
<span class="nx">p</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
<span class="nx">p</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>

<span class="kd">function</span> <span class="nx">callback</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">tag</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">currentTarget</span><span class="p">.</span><span class="nx">tagName</span>
  <span class="kd">var</span> <span class="nx">phase</span> <span class="o">=</span> <span class="nx">phases</span><span class="p">[</span><span class="nx">event</span><span class="p">.</span><span class="nx">eventPhase</span><span class="p">]</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;Tag: &#39;&#34;</span> <span class="o">+</span> <span class="nx">tag</span> <span class="o">+</span> <span class="s2">&#34;&#39;. EventPhase: &#39;&#34;</span> <span class="o">+</span> <span class="nx">phase</span> <span class="o">+</span> <span class="s2">&#34;&#39;&#34;</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// ç‚¹å‡»ä»¥åçš„ç»“æœ
</span><span class="c1">// Tag: &#39;DIV&#39;. EventPhase: &#39;capture&#39;
</span><span class="c1">// Tag: &#39;P&#39;. EventPhase: &#39;target&#39;
</span><span class="c1">// Tag: &#39;P&#39;. EventPhase: &#39;target&#39;
</span><span class="c1">// Tag: &#39;DIV&#39;. EventPhase: &#39;bubble&#39;
</span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œclickäº‹ä»¶è¢«è§¦å‘äº†å››æ¬¡ï¼š<code>&lt;div&gt;</code>èŠ‚ç‚¹çš„æ•è·é˜¶æ®µå’Œå†’æ³¡é˜¶æ®µå„1æ¬¡ï¼Œ<code>&lt;p&gt;</code>èŠ‚ç‚¹çš„ç›®æ ‡é˜¶æ®µè§¦å‘äº†2æ¬¡ã€‚</p>
<p>æ•è·é˜¶æ®µï¼šäº‹ä»¶ä»<code>&lt;div&gt;</code>å‘<code>&lt;p&gt;</code>ä¼ æ’­æ—¶ï¼Œè§¦å‘<code>&lt;div&gt;</code>çš„clickäº‹ä»¶ï¼›
ç›®æ ‡é˜¶æ®µï¼šäº‹ä»¶ä»<code>&lt;div</code>&gt;åˆ°è¾¾<code>&lt;p&gt;</code>æ—¶ï¼Œè§¦å‘<code>&lt;p&gt;</code>çš„clickäº‹ä»¶ï¼›
å†’æ³¡é˜¶æ®µï¼šäº‹ä»¶ä»<code>&lt;p&gt;</code>ä¼ å›<code>&lt;div&gt;</code>æ—¶ï¼Œå†æ¬¡è§¦å‘<code>&lt;div&gt;</code>çš„clickäº‹ä»¶ã€‚
å…¶ä¸­ï¼Œ<code>&lt;p&gt;</code>èŠ‚ç‚¹æœ‰ä¸¤ä¸ªç›‘å¬å‡½æ•°ï¼ˆaddEventListeneræ–¹æ³•ç¬¬ä¸‰ä¸ªå‚æ•°çš„ä¸åŒï¼Œä¼šå¯¼è‡´ç»‘å®šä¸¤ä¸ªç›‘å¬å‡½æ•°ï¼‰ï¼Œå› æ­¤å®ƒä»¬éƒ½ä¼šå› ä¸ºclickäº‹ä»¶è§¦å‘ä¸€æ¬¡ã€‚æ‰€ä»¥ï¼Œ<code>&lt;p&gt;</code>ä¼šåœ¨targeté˜¶æ®µæœ‰ä¸¤æ¬¡è¾“å‡ºã€‚</p>
<p>æ³¨æ„ï¼Œæµè§ˆå™¨æ€»æ˜¯å‡å®šclickäº‹ä»¶çš„ç›®æ ‡èŠ‚ç‚¹ï¼Œå°±æ˜¯ç‚¹å‡»ä½ç½®åµŒå¥—æœ€æ·±çš„é‚£ä¸ªèŠ‚ç‚¹ï¼ˆæœ¬ä¾‹æ˜¯<code>&lt;div&gt;</code>èŠ‚ç‚¹é‡Œé¢çš„<code>&lt;p&gt;</code>èŠ‚ç‚¹ï¼‰ã€‚æ‰€ä»¥ï¼Œ<code>&lt;p&gt;</code>èŠ‚ç‚¹çš„æ•è·é˜¶æ®µå’Œå†’æ³¡é˜¶æ®µï¼Œéƒ½ä¼šæ˜¾ç¤ºä¸ºtargeté˜¶æ®µã€‚</p>
<p>äº‹ä»¶ä¼ æ’­çš„æœ€ä¸Šå±‚å¯¹è±¡æ˜¯windowï¼Œæ¥ç€ä¾æ¬¡æ˜¯documentï¼Œhtmlï¼ˆdocument.documentElementï¼‰å’Œbodyï¼ˆdocument.bodyï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šä¾‹çš„äº‹ä»¶ä¼ æ’­é¡ºåºï¼Œåœ¨æ•è·é˜¶æ®µä¾æ¬¡ä¸ºwindowã€documentã€htmlã€bodyã€divã€pï¼Œåœ¨å†’æ³¡é˜¶æ®µä¾æ¬¡ä¸ºpã€divã€bodyã€htmlã€documentã€windowã€‚</p>
<h3 id="ä¸€ä¸ªç‰¹ä¾‹">ä¸€ä¸ªç‰¹ä¾‹</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">ele</span><span class="p">&gt;</span>ç‚¹æˆ‘<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// ğŸ‘‡å…ˆç›‘å¬å†’æ³¡é˜¶æ®µçš„ç‚¹å‡»äº‹ä»¶
</span><span class="c1"></span><span class="nx">ele</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">()=&gt;{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">)</span>
<span class="p">})</span>
<span class="c1">// ğŸ‘‡å†ç›‘å¬æ•è·é˜¶æ®µçš„ç‚¹å‡»äº‹ä»¶
</span><span class="c1"></span><span class="nx">ele</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">()=&gt;{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
<span class="p">},</span> <span class="kc">true</span><span class="p">)</span>

<span class="c1">// ç‚¹å‡»divä»¥åçš„ç»“æœ
</span><span class="c1">// 2  ï¼ˆå†’æ³¡ï¼‰
</span><span class="c1">// 1  ï¼ˆæ•è·ï¼‰
</span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// ğŸ‘‡å…ˆç›‘å¬æ•è·é˜¶æ®µçš„ç‚¹å‡»äº‹ä»¶
</span><span class="c1"></span><span class="nx">ele</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">()=&gt;{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
<span class="p">},</span> <span class="kc">true</span><span class="p">)</span>
<span class="c1">// ğŸ‘‡å†ç›‘å¬å†’æ³¡é˜¶æ®µçš„ç‚¹å‡»äº‹ä»¶
</span><span class="c1"></span><span class="nx">ele</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">()=&gt;{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">)</span>
<span class="p">})</span>

<span class="c1">// ç‚¹å‡»divä»¥åçš„ç»“æœ
</span><span class="c1">// 1   ï¼ˆæ•è·ï¼‰
</span><span class="c1">// 2   ï¼ˆå†’æ³¡ï¼‰
</span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ç‚¹å‡»è§¦å‘åçš„ç»“æœï¼šä¸ç‚¹å‡»äº‹ä»¶ç»‘å®šåœ¨å“ªä¸ªé˜¶æ®µå¹¶æ— ç›´æ¥å…³ç³»ï¼Œè€Œæ˜¯è°å†™åœ¨å‰ï¼Œè°å…ˆæ‰§è¡Œ</p>
</blockquote>
<p>å½“åªæœ‰ä¸€ä¸ªå•ä¸€çš„å…ƒç´ è¢«ç›‘å¬æ—¶ï¼ˆä¸å­˜åœ¨çˆ¶å­å…ƒç´ å…³ç³»ï¼‰ï¼Œåˆ†åˆ«åœ¨æ•è·å’Œå†’æ³¡ä¸¤ä¸ªé˜¶æ®µï¼Œç›‘å¬è¿™ä¸ªå…ƒç´ çš„ç‚¹å‡»äº‹ä»¶ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œç‚¹å‡»äº‹ä»¶è¢«è§¦å‘åï¼Œåˆ™ä¸å†éµå¾ªã€Œå…ˆæ•è·åå†’æ³¡ã€çš„æœºåˆ¶ï¼Œè€Œæ˜¯ã€Œè°å…ˆç›‘å¬ï¼Œè°å…ˆæ‰§è¡Œã€</p>
<h2 id="addeventlistener-">addEventListener ğŸ‘‚</h2>
<h3 id="äº‹ä»¶ç»‘å®š-api">äº‹ä»¶ç»‘å®š API</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">baba</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s1">&#39;onclick&#39;</span><span class="p">,</span> <span class="nx">fn</span><span class="p">)</span>  <span class="c1">// å¾®è½¯IE5å‘æ˜ï¼šé»˜è®¤è¿›å…¥å†’æ³¡é˜¶æ®µ
</span><span class="c1"></span><span class="nx">baba</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">fn</span><span class="p">)</span>  <span class="c1">// ç½‘æ™¯å‘æ˜ï¼šé»˜è®¤è¿›å…¥æ•è·é˜¶æ®µ
</span><span class="c1"></span><span class="nx">baba</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">fn</span><span class="p">,</span> <span class="nx">bool</span><span class="p">)</span><span class="err">Â·</span><span class="c1">// â¤ï¸W3Cæ ‡å‡†ï¼šåŠ äº†å‚æ•° boolï¼Œç”¨äºæŒ‡å®šè®©å‡½æ•°è¿è¡Œåœ¨å“ªä¸ªé˜¶æ®µ
</span></code></pre></td></tr></table>
</div>
</div><h4 id="å¦‚æœ-bool-ä¸ä¼ -æˆ–ä¸º-falsyhttpsdevelopermozillaorgzh-cndocsglossaryfalsy">å¦‚æœ bool ä¸ä¼  ï¼ˆæˆ–ä¸º <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy" target="_blank" rel="noopener noreffer">falsy</a>ï¼‰</h4>
<ul>
<li>é»˜è®¤æƒ…å†µ</li>
<li>å°±è®© fn èµ°<strong>å†’æ³¡</strong>ï¼Œå³å½“æµè§ˆå™¨åœ¨å†’æ³¡é˜¶æ®µå‘ç° baba æœ‰ fn ç›‘å¬å‡½æ•°ï¼Œå°±ä¼šè°ƒç”¨ fnï¼Œå¹¶æä¾›äº‹ä»¶ä¿¡æ¯</li>
<li>å¤§å¤šæ•°äººä¹ æƒ¯ä¸Šéƒ½ä¸ä¼šä¼ è¿™ä¸ªå‚æ•°ï¼ˆå¯è§ W3C å¯èƒ½æ›´å€¾å‘äº IE çš„æ–¹æ¡ˆï¼šé»˜è®¤æŠŠ fn æ”¾åœ¨å†’æ³¡é˜¶æ®µï¼‰</li>
</ul>
<h4 id="å¦‚æœ-bool-ä¸º-true">å¦‚æœ bool ä¸º true</h4>
<ul>
<li>å°±è®© fn èµ°<strong>æ•è·</strong>ï¼Œå³å½“æµè§ˆå™¨åœ¨æ•è·é˜¶æ®µå‘ç° baba æœ‰ fn ç›‘å¬å‡½æ•°ï¼Œå°±ä¼šè°ƒç”¨ fnï¼Œå¹¶æä¾›äº‹ä»¶ä¿¡æ¯</li>
</ul>
<p>â€‹</p>
<h3 id="è¡¥å……äº‹ä»¶ç§»é™¤">è¡¥å……ï¼šäº‹ä»¶ç§»é™¤</h3>
<blockquote>
<p>removeEventListener</p>
</blockquote>
<p>é€šè¿‡ addEventListener() æ·»åŠ çš„äº‹ä»¶åªèƒ½ç”¨ <strong>removeEventListener()</strong> æ¥ç§»é™¤</p>
<ul>
<li>ç§»é™¤æ—¶ï¼Œä¼ å…¥çš„å‚æ•°ä¸æ·»åŠ äº‹ä»¶ä½¿ç”¨çš„å‚æ•°ç›¸åŒ</li>
<li>é€šè¿‡ addEventListener() æ·»åŠ çš„åŒ¿åå‡½æ•°æ— æ³•åˆ é™¤</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">btn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;myBtn&#34;</span><span class="p">)</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&#34;click&#34;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span>
<span class="p">},</span> <span class="kc">false</span><span class="p">)</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">&#34;click&#34;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="c1">// åŒ¿åå‡½æ•°æ— æ³•ç§»é™¤
</span><span class="c1"></span>  <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span>
<span class="p">},</span> <span class="kc">false</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">btn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;myBtn&#34;</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">handler</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span>
<span class="p">}</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&#34;click&#34;</span><span class="p">,</span> <span class="nx">handler</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">&#34;click&#34;</span><span class="p">,</span> <span class="nx">handler</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>  <span class="c1">// æœ‰æ•ˆï¼
</span></code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<p>â€‹</p>
<h2 id="target--currenttarget">target ğŸ†š currentTarget</h2>
<blockquote>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Event/currentTarget" target="_blank" rel="noopener noreffer">Event.currentTarget</a> æ‰¾åˆ°äº‹ä»¶<strong>ç»‘å®š</strong>çš„å…ƒç´ ã€‚</p>
<p>åŒºåˆ«ä¸ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Event/target" target="_blank" rel="noopener noreffer">Event.target</a> ï¼Œæ˜¯äº‹ä»¶<strong>è§¦å‘</strong>çš„å…ƒç´ ã€‚</p>
</blockquote>
<h3 id="åŒºåˆ«">åŒºåˆ«</h3>
<blockquote>
<p>ä¸€ä¸ªæ˜¯ç”¨æˆ·ç‚¹å‡»çš„ï¼ˆè§¦å‘äº‹ä»¶çš„å…ƒç´ ï¼‰ï¼Œä¸€ä¸ªæ˜¯å¼€å‘è€…ç›‘å¬çš„ï¼ˆäº‹ä»¶ç»‘å®šçš„å…ƒç´ ï¼‰</p>
</blockquote>
<ul>
<li>e.target ï¼šç”¨æˆ·æ“ä½œçš„å…ƒç´ </li>
<li>e.currentTarget ï¼šç¨‹åºå‘˜ç›‘å¬çš„å…ƒç´ </li>
<li>this æ˜¯ e.currentTargetï¼Œéå¸¸ä¸æ¨èåœ¨ç›‘å¬ä»£ç é‡Œä½¿ç”¨ thisï¼ˆå› ä¸ºç»å¸¸ä¼šå¿˜è®°  this åˆ°åº•æŒ‡ä»£å“ªä¸€ä¸ªï¼‰</li>
</ul>
<h3 id="ä¸¾ä¾‹">ä¸¾ä¾‹</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>æ–‡å­—<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>ç»™ div ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œç”¨æˆ·ç‚¹å‡»â€œæ–‡å­—â€</li>
<li>e.target å°±æ˜¯ span</li>
<li>e.currentTarget å°±æ˜¯ div</li>
</ul>
<p>â€‹</p>
<p>â€‹</p>
<h2 id="é˜»æ­¢é»˜è®¤äº‹ä»¶">é˜»æ­¢é»˜è®¤äº‹ä»¶</h2>
<blockquote>
<p>é»˜è®¤äº‹ä»¶ï¼Œåˆç§°ã€Œé»˜è®¤åŠ¨ä½œã€ã€Œé»˜è®¤è¡Œä¸ºã€</p>
<p>ä¾‹å¦‚ï¼šè¡¨å•ä¸€ç‚¹å‡»æäº¤æŒ‰é’®(submit)å°±ä¼šåˆ·æ–°é¡µé¢ã€ç‚¹å‡»aæ ‡ç­¾é»˜è®¤æ‰§è¡Œé¡µé¢è·³è½¬æˆ–æ˜¯é”šç‚¹å®šä½ç­‰ã€‚</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p>å¦‚æœè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œé»˜è®¤äº‹ä»¶è¡Œä¸ºå°†ä¸å†è§¦å‘ã€‚</p>
<h3 id="ä½¿ç”¨åœºæ™¯1">ä½¿ç”¨åœºæ™¯1</h3>
<blockquote>
<p>ä½¿ç”¨aæ ‡ç­¾ä»…ä»…æ˜¯æƒ³å½“åšä¸€ä¸ªæ™®é€šçš„æŒ‰é’®ï¼Œç‚¹å‡»å®ç°ä¸€ä¸ªåŠŸèƒ½ï¼Œä¸æƒ³é¡µé¢è·³è½¬ï¼Œä¹Ÿä¸æƒ³é”šç‚¹å®šä½ã€‚</p>
</blockquote>
<h4 id="æ–¹æ³•ä¸€">æ–¹æ³•ä¸€</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;javascript:;&#34;</span><span class="p">&gt;</span>é“¾æ¥<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="æ–¹æ³•äºŒ">æ–¹æ³•äºŒ</h4>
<p>ä½¿ç”¨ JS æ–¹æ³•æ¥é˜»æ­¢ï¼šå½“æˆ‘ä»¬ç‚¹å‡»Aæ ‡ç­¾çš„æ—¶å€™ï¼Œä¼šå…ˆè§¦å‘clickäº‹ä»¶ï¼Œå…¶æ¬¡æ‰ä¼šæ‰§è¡Œè‡ªå·±çš„é»˜è®¤è¡Œä¸ºã€‚æ‰€ä»¥åªéœ€ç»™å…¶ click äº‹ä»¶ return false ï¼Œè®©æ‰§è¡Œä¸­æ–­</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;test&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;http://www.google.com&#34;</span><span class="p">&gt;</span>é“¾æ¥<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="nx">test</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
    <span class="nx">e</span> <span class="o">=</span> <span class="nx">e</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span>  <span class="c1">// å…¼å®¹ä¸åŒæµè§ˆå™¨
</span><span class="c1"></span>    <span class="k">return</span> <span class="kc">false</span>
  <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="æ–¹æ³•ä¸‰">æ–¹æ³•ä¸‰</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;test&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;http://www.google.com&#34;</span><span class="p">&gt;</span>é“¾æ¥<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="nx">test</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
    <span class="nx">e</span> <span class="o">=</span> <span class="nx">e</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()</span>
  <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="ä½¿ç”¨åœºæ™¯2">ä½¿ç”¨åœºæ™¯2</h3>
<blockquote>
<p>é™åˆ¶è¾“å…¥æ¡†æœ€å¤šåªèƒ½è¾“å…¥å…­ä¸ªå­—ç¬¦ï¼Œå¦‚ä½•å®ç°ï¼Ÿ</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">id</span><span class="o">=</span><span class="s">&#39;tempInp&#39;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="nx">tempInp</span><span class="p">.</span><span class="nx">onkeydown</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ev</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span>
    <span class="kd">let</span> <span class="nx">val</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">trim</span><span class="p">()</span> <span class="c1">// trimå»é™¤å­—ç¬¦ä¸²é¦–å°¾ç©ºæ ¼ï¼ˆä¸å…¼å®¹ï¼‰
</span><span class="c1"></span>    <span class="c1">// this.value = this.value.replace(/^ +| +$/g,&#39;&#39;) å…¼å®¹å†™æ³•
</span><span class="c1"></span>    <span class="kd">let</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">val</span><span class="p">.</span><span class="nx">length</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">len</span> <span class="o">&gt;=</span> <span class="mi">6</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">val</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
      <span class="c1">// é˜»æ­¢é»˜è®¤è¡Œä¸ºå»é™¤ç‰¹æ®ŠæŒ‰é”®ï¼ˆDELETE\BACK-SPACE\æ–¹å‘é”®...ï¼‰
</span><span class="c1"></span>      <span class="kd">let</span> <span class="nx">code</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">which</span> <span class="o">||</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">keyCode</span>  <span class="c1">// å½“å‰æŒ‰ä¸‹çš„æŒ‰é”®çš„codeç 
</span><span class="c1"></span>      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="sr">/^(46|8|37|38|39|40)$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">code</span><span class="p">))</span> <span class="p">{</span>  <span class="c1">// å¦‚æœæŒ‰ä¸‹çš„æ˜¯ç‰¹æ®ŠæŒ‰é”®ï¼Œåˆ™é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼ˆæŒ‰ä¸‹æ— æ•ˆï¼‰
</span><span class="c1"></span>        <span class="nx">ev</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h2 id="é˜»æ­¢äº‹ä»¶ä¼ æ’­">é˜»æ­¢äº‹ä»¶ä¼ æ’­</h2>
<blockquote>
<p>é˜»æ­¢äº‹ä»¶è¿›ä¸€æ­¥çš„ å†’æ³¡ / æ•è·</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">()</span> 
</code></pre></td></tr></table>
</div>
</div><h3 id="ç¤ºä¾‹-1">ç¤ºä¾‹</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;level1&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;level2&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;level3&#34;</span><span class="p">&gt;</span>
			ç‚¹æˆ‘
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">level1</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.level1&#39;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">level2</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.level2&#39;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">level3</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.level3&#39;</span><span class="p">)</span>

<span class="nx">level1</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)=&gt;{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;1&#34;</span><span class="p">)</span>
<span class="p">})</span> 
<span class="nx">level2</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)=&gt;{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;2&#34;</span><span class="p">)</span>
<span class="p">})</span> 
<span class="nx">level3</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)=&gt;{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;3&#34;</span><span class="p">)</span>
  <span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">()</span>  <span class="c1">// é˜»æ­¢å†’æ³¡ï¼Œè¾“å‡ºï¼š 3
</span><span class="c1"></span><span class="p">})</span>

<span class="c1">// ä¸é˜»æ­¢å†’æ³¡ï¼Œç‚¹å‡»æ–‡å­—ï¼Œè¾“å‡ºé¡ºåºï¼š 3  2  1
</span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">level1</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)=&gt;{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;1&#34;</span><span class="p">)</span>
<span class="p">},</span> <span class="kc">true</span><span class="p">)</span> 
<span class="nx">level2</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)=&gt;{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;2&#34;</span><span class="p">)</span>
  <span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">()</span>  <span class="c1">// é˜»æ­¢æ•è·ï¼Œè¾“å‡ºï¼š 1  2
</span><span class="c1"></span><span class="p">},</span> <span class="kc">true</span><span class="p">)</span> 
<span class="nx">level3</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)=&gt;{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;3&#34;</span><span class="p">)</span>
<span class="p">},</span> <span class="kc">true</span><span class="p">)</span>

<span class="c1">// ä¸é˜»æ­¢æ•è·ï¼Œç‚¹å‡»æ–‡å­—ï¼Œè¾“å‡ºé¡ºåºï¼š 1  2  3
</span></code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h2 id="æ’æ›²å¦‚ä½•é˜»æ­¢æ»šåŠ¨-">æ’æ›²ï¼šå¦‚ä½•é˜»æ­¢æ»šåŠ¨ ğŸ–±ï¸</h2>
<h3 id="scroll-ä¸æ”¯æŒé˜»æ­¢é»˜è®¤äº‹ä»¶">scroll ä¸æ”¯æŒé˜»æ­¢é»˜è®¤äº‹ä»¶</h3>
<blockquote>
<p>MDN æœç´¢ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/scroll_event" target="_blank" rel="noopener noreffer">scroll event</a></p>
<p>æ»šåŠ¨äº‹ä»¶ï¼Œä¸èƒ½é˜»æ­¢é»˜è®¤äº‹ä»¶ã€‚ é‚£æ€ä¹ˆè®©é¡µé¢æ— æ³•æ»šåŠ¨å‘¢ï¼Ÿ</p>
</blockquote>
<h3 id="è§£å†³åŠæ³•">è§£å†³åŠæ³•</h3>
<ul>
<li>è¦é˜»æ­¢æ»šåŠ¨ï¼Œå¯é˜»æ­¢ wheelï¼ˆé¼ æ ‡æ»šè½®ï¼‰ å’Œ touchstartï¼ˆç§»åŠ¨ç«¯è§¦å±ï¼‰ çš„é»˜è®¤åŠ¨ä½œ</li>
<li>æ‹–æ‹½æ»šåŠ¨æ¡ï¼Œè¿˜èƒ½å®ç°æ»šåŠ¨ï¼Œæ‰€ä»¥è¿˜éœ€è¦éšè—æ»šåŠ¨æ¡</li>
</ul>
<h3 id="ä»£ç ">ä»£ç </h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">x</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>1<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>2<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>3<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>4<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
  ...  
  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>100<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
  <span class="c">&lt;!-- pæ ‡ç­¾æ’‘èµ·é¡µé¢ï¼Œè¶…å‡ºä¸€å±é«˜åº¦ï¼Œå‡ºç°æ»šåŠ¨æ¡ --&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="c1">// PC ç«¯
</span><span class="c1"></span>  <span class="nx">x</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;wheel&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)=&gt;{</span>  <span class="c1">// ç»‘å®šæ»šè½®äº‹ä»¶ wheelï¼Œè§¦å‘æ»šè½®äº‹ä»¶ï¼Œå°±é˜»æ­¢æ‰§è¡Œ
</span><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()</span>
  <span class="p">})</span>
  <span class="c1">// ç§»åŠ¨ç«¯
</span><span class="c1"></span>  <span class="nx">x</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;touchstart&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)=&gt;{</span>  <span class="c1">// æ‰‹æœºç«¯æ˜¯è§¦å±æ‹–æ‹½æ»šåŠ¨ï¼Œé‚£å°±é˜»æ­¢touchstartè§¦å±äº‹ä»¶
</span><span class="c1"></span>    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()</span>
  <span class="p">})</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
  <span class="p">::</span><span class="nd">-webkit-scrollbar</span> <span class="p">{</span> <span class="k">width</span><span class="p">:</span> <span class="mi">0</span> <span class="cp">!important</span> <span class="p">}</span>   <span class="c">/* éšè—æ»šåŠ¨æ¡ */</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>æ³¨æ„ï¼šä½ éœ€è¦æ‰¾å‡†æ»šåŠ¨æ¡æ‰€åœ¨çš„å…ƒç´ ï¼ˆåœ¨ document ä¸Šï¼‰</li>
<li>ç”¨ overflow: hidden ä¹Ÿå¯ä»¥ç›´æ¥å–æ¶ˆæ»šåŠ¨æ¡ã€‚ä½†æ­¤æ—¶ JS ä¾ç„¶å¯ä»¥ä¿®æ”¹ scrollTop</li>
</ul>
<p>â€‹</p>
<h2 id="æµè§ˆå™¨è‡ªå¸¦äº‹ä»¶">æµè§ˆå™¨è‡ªå¸¦äº‹ä»¶</h2>
<ul>
<li>ä¸€å…± 100 å¤šç§äº‹ä»¶ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/Events" target="_blank" rel="noopener noreffer">åˆ—è¡¨</a> åœ¨MDNä¸Š</li>
<li>ç”¨æˆ·æ‰“å°ã€å†™å­—ã€å…¨å±ã€å¤åˆ¶ç²˜è´´ã€é”®ç›˜æŒ‰é”®ã€ç‚¹å‡»é¼ æ ‡ã€æ‹–æ”¾äº‹ä»¶ã€åª’ä½“äº‹ä»¶ï¼ˆæ¯”å¦‚ç›´æ’­ï¼šè¢«æ’­æ”¾ã€å…³é—­ã€æš‚åœã€åŠ é€Ÿï¼‰â€¦</li>
</ul>
<ul>
<li>éå¸¸å¤šçš„äº‹ä»¶ï¼Œéƒ½å¯ä»¥è¢«ç›‘å¬ã€‚</li>
<li>æƒ³ä¸€ä¸‹å…¨éƒ¨ç†è§£ï¼Œæ˜¯ä¸å¯èƒ½çš„ã€‚ç”¨åˆ°å†æŸ¥å°±å¯ä»¥</li>
</ul>
<table>
<thead>
<tr>
<th>äº‹ä»¶åç§°</th>
<th>åº”ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody>
<tr>
<td>error</td>
<td></td>
</tr>
<tr>
<td>abort</td>
<td>ä¸­æ­¢äº‹ä»¶</td>
</tr>
<tr>
<td>load</td>
<td>åŠ è½½æˆåŠŸäº‹ä»¶</td>
</tr>
<tr>
<td>beforeunload</td>
<td>å…³é—­é¡µé¢äº‹ä»¶</td>
</tr>
<tr>
<td>unload</td>
<td>å…³é—­é¡µé¢ä¹‹åçš„äº‹ä»¶</td>
</tr>
<tr>
<td>online</td>
<td>ç½‘ç»œè¿ä¸Šäº†ï¼Œè§¦å‘ online ï¼ˆä»æ²¡ç”¨è¿‡ï¼‰</td>
</tr>
<tr>
<td>offline</td>
<td>WiFi ç½‘ç»œçªç„¶æ–­äº†ï¼Œè§¦å‘ offlineï¼ˆä»æ²¡ç”¨è¿‡ï¼‰</td>
</tr>
<tr>
<td>focus</td>
<td>ä¸€ä¸ªå…ƒç´ è·å–ç„¦ç‚¹</td>
</tr>
<tr>
<td>blur</td>
<td>ä¸€ä¸ªå…ƒç´ å¤±å»ç„¦ç‚¹</td>
</tr>
<tr>
<td>pageshow</td>
<td>ä¸€ä¸ªé¡µé¢æ˜¾ç¤ºå‡ºæ¥ï¼Œä¼šè§¦å‘pageshow ï¼ˆä»æ²¡ç”¨è¿‡ï¼‰</td>
</tr>
<tr>
<td>submit</td>
<td>æäº¤</td>
</tr>
<tr>
<td>beforeprint</td>
<td>ç”¨æˆ·æ‰“å°</td>
</tr>
<tr>
<td>afterprint</td>
<td>ç”¨æˆ·æ‰“å°</td>
</tr>
<tr>
<td>â€¦</td>
<td>â€¦</td>
</tr>
</tbody>
</table>
<p>â€‹</p>
<h2 id="è‡ªå®šä¹‰äº‹ä»¶">è‡ªå®šä¹‰äº‹ä»¶</h2>
<blockquote>
<p>å¼€å‘è€…å¯ä»¥åœ¨ã€æµè§ˆå™¨è‡ªå¸¦äº‹ä»¶ã€‘ä¹‹å¤–ï¼Œè‡ªå®šä¹‰ä¸€ä¸ªäº‹ä»¶</p>
</blockquote>
<p>HTML</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;div1&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;btn&#34;</span><span class="p">&gt;</span>
	  ç‚¹å‡»è§¦å‘samäº‹ä»¶
	<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>JS</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">btn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="c1">// newå‡ºè‡ªå®šä¹‰äº‹ä»¶ï¼Œnew CustomEvent(&#39;äº‹ä»¶å&#39;, äº‹ä»¶ä¿¡æ¯)
</span><span class="c1"></span>  <span class="kr">const</span> <span class="nx">event</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CustomEvent</span><span class="p">(</span><span class="s1">&#39;sam&#39;</span><span class="p">,</span> <span class="p">{</span> 
    <span class="nx">detail</span><span class="o">:</span> <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;sam&#39;</span><span class="p">,</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">18</span> <span class="p">}</span>
  <span class="p">})</span>
  <span class="c1">// EventTarget.dispatchEvent(event) è§¦å‘äº‹ä»¶
</span><span class="c1"></span>  <span class="nx">btn</span><span class="p">.</span><span class="nx">dispatchEvent</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> 
<span class="p">})</span>
<span class="c1">// ç°åœ¨æ•ˆæœï¼šç‚¹å‡» btn ï¼Œè§¦å‘ sam äº‹ä»¶
</span><span class="c1"></span>
<span class="c1">// ç›‘å¬ sam äº‹ä»¶
</span><span class="c1"></span><span class="nx">btn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;sam&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> 
  <span class="nx">congsole</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;samäº‹ä»¶è§¦å‘äº†&#39;</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="è‡ªå®šä¹‰äº‹ä»¶ä¼šå†’æ³¡å—">è‡ªå®šä¹‰äº‹ä»¶ï¼Œä¼šå†’æ³¡å—ï¼Ÿ</h3>
<ul>
<li>æµ‹è¯•ï¼šåªç›‘å¬ div1 çš„ç‚¹å‡»äº‹ä»¶ã€‚çœ‹çœ‹ç‚¹å‡» btnï¼Œä¼šè§¦å‘åˆ° div1 çš„ç‚¹å‡»äº‹ä»¶å—ï¼Ÿ</li>
<li>ç»“æœï¼šä¸è¡Œï¼Œä¸å†’æ³¡ã€‚</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// ç›‘å¬ div1 çš„ sam äº‹ä»¶
</span><span class="c1"></span><span class="nx">div1</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;sam&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> 
  <span class="nx">congsole</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;samäº‹ä»¶è§¦å‘äº†&#39;</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>å¦‚æœæƒ³å®ç°è‡ªå®šä¹‰äº‹ä»¶çš„å†’æ³¡ï¼Œè¿˜éœ€é¢å¤–å†ç»™è‡ªå®šä¹‰äº‹ä»¶ <strong>å¼€å¯å†’æ³¡å±æ€§</strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">btn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">event</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CustomEvent</span><span class="p">(</span><span class="s1">&#39;sam&#39;</span><span class="p">,</span> <span class="p">{</span> 
    <span class="nx">detail</span><span class="o">:</span> <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;sam&#39;</span><span class="p">,</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">18</span> <span class="p">},</span>
    <span class="nx">bubbles</span><span class="o">:</span> <span class="kc">true</span>  <span class="c1">// &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; å¼€å¯å†’æ³¡ï¼Œæ·»åŠ è¿™å¥å°±å¯ä»¥äº†
</span><span class="c1"></span>    <span class="c1">// cancelable: false  // æ˜¯å¦å¯ä»¥é˜»æ­¢é»˜è®¤äº‹ä»¶
</span><span class="c1"></span>  <span class="p">})</span>
  <span class="nx">btn</span><span class="p">.</span><span class="nx">dispatchEvent</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> 
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="äº‹ä»¶å§”æ‰˜">äº‹ä»¶å§”æ‰˜</h2>
<blockquote>
<p>åˆç§°ã€Œäº‹ä»¶ä»£ç†ã€</p>
</blockquote>
<p>ç”±äºäº‹ä»¶ä¼šåœ¨å†’æ³¡é˜¶æ®µå‘ä¸Šä¼ æ’­åˆ°çˆ¶èŠ‚ç‚¹ï¼Œå› æ­¤å¯ä»¥æŠŠå­èŠ‚ç‚¹çš„ç›‘å¬å‡½æ•°å®šä¹‰åœ¨çˆ¶èŠ‚ç‚¹ä¸Šï¼Œç”±çˆ¶èŠ‚ç‚¹çš„ç›‘å¬å‡½æ•°ç»Ÿä¸€å¤„ç†å¤šä¸ªå­å…ƒç´ çš„äº‹ä»¶ã€‚è¿™ç§æ–¹æ³•å«åšäº‹ä»¶å§”æ‰˜ï¼ˆä»£ç†ï¼‰ã€‚</p>
<h3 id="ä½¿ç”¨åœºæ™¯-1">ä½¿ç”¨åœºæ™¯ 1</h3>
<p>å‡è®¾æœ‰ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨ä¹‹ä¸­æœ‰<strong>å¤§é‡çš„å­é¡¹</strong>ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç‚¹å‡»æ¯ä¸ªå­é¡¹çš„æ—¶å€™å“åº”ä¸€ä¸ªäº‹ä»¶</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">ul</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;list&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>item 1<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>item 2<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>item 3<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
  ......
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>item n<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">div1</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">tagName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;li&#39;</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;li è¢«ç‚¹å‡»äº†&#39;</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;li å†…å®¹æ˜¯ï¼š&#39;</span> <span class="o">+</span> <span class="nx">t</span><span class="p">.</span><span class="nx">textContent</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>å¦‚æœç»™æ¯ä¸ªå­é¡¹éƒ½ç»‘å®šä¸€ä¸ªå‡½æ•°ï¼Œé‚£å¯¹äºå†…å­˜æ¶ˆè€—æ˜¯éå¸¸å¤§çš„ï¼Œæ•ˆç‡ä¸Šéœ€è¦æ¶ˆè€—å¾ˆå¤šæ€§èƒ½ã€‚</li>
<li>å€ŸåŠ©äº‹ä»¶å§”æ‰˜ï¼Œæˆ‘ä»¬åªéœ€è¦ç»™çˆ¶å®¹å™¨ ul ç»‘å®šæ–¹æ³•å³å¯</li>
<li>è¿™æ ·ä¸ç®¡ç‚¹å‡»çš„æ˜¯å“ªä¸€ä¸ªåä»£å…ƒç´ ï¼Œéƒ½ä¼šæ ¹æ®å†’æ³¡ä¼ æ’­çš„ä¼ é€’æœºåˆ¶ï¼ŒæŠŠå®¹å™¨çš„ click è¡Œä¸ºè§¦å‘ï¼Œç„¶åæŠŠå¯¹åº”çš„æ–¹æ³•æ‰§è¡Œï¼Œæ ¹æ®äº‹ä»¶æºï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ç‚¹å‡»çš„æ˜¯è°ï¼Œä»è€Œå®Œæˆä¸åŒçš„äº‹ã€‚</li>
</ul>
<h3 id="ä½¿ç”¨åœºæ™¯-2">ä½¿ç”¨åœºæ™¯ 2</h3>
<ul>
<li>åœ¨å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ç”¨æˆ·æ“ä½œ<strong>åŠ¨æ€çš„æ–°å¢å­é¡¹å…ƒç´ </strong>ã€‚</li>
<li>åœ¨æœ€åˆå¹¶æ²¡æœ‰æ–°å¢å­é¡¹å…ƒç´ æ—¶ï¼Œå°±æ— æ³•ç»™è¿˜æœªåˆ›å»ºçš„å­é¡¹å…ƒç´ ç»‘å®šäº‹ä»¶</li>
<li>è¿™ç§æƒ…å†µå°±å¯ä»¥é‡‡ç”¨äº‹ä»¶å§”æ‰˜çš„å½¢å¼ï¼Œç»™çˆ¶çº§å…ƒç´ ç»‘å®šäº‹ä»¶ï¼Œç›‘å¬åˆ°å­é¡¹çš„åŠ¨æ€å˜åŒ–ã€‚</li>
</ul>
<p><a href="http://js.jirengu.com/wuwox/1/edit?html,js,output" target="_blank" rel="noopener noreffer">ç¤ºä¾‹</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">button</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;btn&#34;</span><span class="p">&gt;</span>æ–°å¢æŒ‰é’®<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">ul</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;div1&#34;</span><span class="p">&gt;</span>
  
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span>
  <span class="kr">const</span> <span class="nx">button</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;button&#39;</span><span class="p">)</span>
  <span class="nx">button</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="s1">&#39;æŒ‰é’®&#39;</span> <span class="o">+</span> <span class="nx">n</span>
  <span class="nx">div1</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">button</span><span class="p">)</span>
<span class="p">}</span>

<span class="nx">list</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">tagName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;button&#39;</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;å½“å‰ç‚¹å‡»çš„æ˜¯ï¼š&#39;</span> <span class="o">+</span> <span class="nx">t</span><span class="p">.</span><span class="nx">innerText</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h3 id="ä¼˜ç‚¹">ä¼˜ç‚¹</h3>
<ul>
<li>å‡å°‘å†…å­˜æ¶ˆè€—ï¼Œæé«˜æ€§èƒ½  ï¼ˆä¾‹1ï¼‰
<ul>
<li>å¦‚æœè¦ç›‘å¬100ä¸ªæŒ‰é’®ï¼Œéœ€è¦100ä¸ªç›‘å¬å™¨ï¼Œå°±æ˜¯100å€çš„å†…å­˜ã€‚å¦‚æœä¹‹é—´ä¸€ä¸ªç¥–å…ˆ divï¼Œå°±æ˜¯åªéœ€è¦ä¸€ä¸ªç›‘å¬å™¨ï¼ŒèŠ‚çº¦äº†99ä¸ª</li>
</ul>
</li>
<li>å¯ä»¥ç›‘å¬åŠ¨æ€çš„å…ƒç´   ï¼ˆä¾‹2ï¼‰
<ul>
<li>å¦‚æœå½“å‰å…ƒç´ è¿˜ä¸å­˜åœ¨ï¼Œè‚¯å®šæ²¡æ³•ç›´æ¥ç›‘å¬åˆ°ã€‚åªèƒ½ç›‘å¬ç¥–å…ˆ</li>
</ul>
</li>
</ul>
<h3 id="å°è£…äº‹ä»¶å§”æ‰˜">å°è£…äº‹ä»¶å§”æ‰˜</h3>
<blockquote>
<p>å°è£…ï¼Œéœ€è¦è€ƒè™‘æ›´å¤šè¾¹ç•Œæƒ…å†µ</p>
<ul>
<li>
<p>å†™å‡ºè¿™æ ·ä¸€ä¸ªå‡½æ•° <code>on('click', '#testDiv', 'li', fn)</code></p>
</li>
<li>
<p>å½“ç”¨æˆ·ç‚¹å‡» <code>#testDiv</code> é‡Œçš„ <code>li</code> å…ƒç´ æ—¶ï¼Œè°ƒç”¨ <code>fn</code> å‡½æ•°</p>
</li>
</ul>
</blockquote>
<p><a href="http://js.jirengu.com/kuxeg/3/edit?html,js,output" target="_blank" rel="noopener noreffer">ç¤ºä¾‹</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">button</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;btn&#34;</span><span class="p">&gt;</span>æ–°å¢æŒ‰é’®<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">ul</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;div1&#34;</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span>
  <span class="kr">const</span> <span class="nx">button</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;button&#39;</span><span class="p">)</span>
  <span class="kr">const</span> <span class="nx">span</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">)</span>
  <span class="nx">span</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="s1">&#39;æŒ‰é’®&#39;</span> <span class="o">+</span> <span class="nx">n</span>
  <span class="nx">button</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">span</span><span class="p">)</span>
  <span class="nx">div1</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">button</span><span class="p">)</span>
<span class="p">}</span>

<span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="s1">&#39;#div1&#39;</span><span class="p">,</span> <span class="s1">&#39;button&#39;</span><span class="p">,</span> <span class="nx">fm</span><span class="p">)</span>
<span class="kd">function</span> <span class="nx">fm</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">el</span><span class="p">){</span>  
  <span class="c1">// ä¸èƒ½ç”¨ç®­å¤´å‡½æ•°ï¼Œthis ä¼šè·å–ä¸åˆ° el
</span><span class="c1"></span>  <span class="c1">// ç®­å¤´å‡½æ•°ä¸­çš„ thisï¼Œåªèƒ½è·å–åˆ° window
</span><span class="c1"></span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">el</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">innerText</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">on</span><span class="p">(</span><span class="nx">eventType</span><span class="p">,</span> <span class="nx">element</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">fn</span><span class="p">){</span>
  <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">element</span> <span class="k">instanceof</span> <span class="nx">Element</span><span class="p">)){</span>
    <span class="nx">element</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="nx">element</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="nx">element</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">eventType</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">el</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span>
    <span class="c1">// åªè¦elä¸åŒ¹é…ï¼Œå°±ä¸æ–­è·å–elçš„çˆ¶å…ƒç´ æ¥åŒ¹é…ï¼Œç›´åˆ°elè·å–elementï¼Œè¯´æ˜å®¹å™¨ä¸­å‹æ ¹æ²¡æœ‰åŒ¹é…çš„elï¼Œç»“æŸå¾ªç¯
</span><span class="c1"></span>    <span class="c1">// el ä¸º nullï¼Œåˆ™ä¸æ‰§è¡Œ fn
</span><span class="c1"></span>    <span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="nx">el</span><span class="p">.</span><span class="nx">matches</span><span class="p">(</span><span class="nx">selector</span><span class="p">)){</span> 
      <span class="k">if</span><span class="p">(</span><span class="nx">el</span> <span class="o">===</span> <span class="nx">element</span><span class="p">){</span>  <span class="c1">// å¾ªç¯ç»“æŸæ¡ä»¶
</span><span class="c1"></span>        <span class="nx">el</span> <span class="o">=</span> <span class="kc">null</span>
        <span class="k">break</span>
      <span class="p">}</span>
      <span class="nx">el</span> <span class="o">=</span> <span class="nx">el</span><span class="p">.</span><span class="nx">parentNode</span>
    <span class="p">}</span>
    <span class="nx">el</span> <span class="o">&amp;&amp;</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">e</span><span class="p">,</span> <span class="nx">el</span><span class="p">)</span>
  <span class="p">})</span>
  <span class="k">return</span> <span class="nx">element</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="ç­”ç–‘">ç­”ç–‘</h2>
<h3 id="js-æ”¯æŒäº‹ä»¶å—">JS æ”¯æŒäº‹ä»¶å—</h3>
<h4 id="ç­”">ç­”</h4>
<blockquote>
<p>ä¸æ”¯æŒã€‚å› ä¸º JS æœ¬èº«æ²¡æœ‰ã€Œäº‹ä»¶ã€ï¼ˆåªæ˜¯è°ƒç”¨äº† DOM æä¾›çš„ addEventListenerï¼‰</p>
</blockquote>
<ul>
<li>æœ¬èŠ‚å†…å®¹çš„ DOM äº‹ä»¶ï¼Œä¸å±äºJS çš„åŠŸèƒ½ã€‚
<ul>
<li>æœ¯è¯­ï¼šæœ¬èŠ‚å†…å®¹æ˜¯åŸºäºæµè§ˆå™¨æä¾›çš„ DOM çš„åŠŸèƒ½</li>
<li>JS æ˜¯æµè§ˆå™¨çš„åŠŸèƒ½ä¹‹ä¸€ã€‚DOM äº‹ä»¶ä¹Ÿæ˜¯æµè§ˆå™¨çš„åŠŸèƒ½ä¹‹ä¸€ï¼ˆ<strong>äºŒè€…æ˜¯å¹³è¡Œçš„å…³ç³»ï¼Œæ²¡æœ‰ä»å±å…³ç³»</strong>ï¼‰</li>
<li>JS é‡Œé¢æ²¡æœ‰ DOM äº‹ä»¶ï¼Œ JS åªæ˜¯è°ƒç”¨äº† DOM æä¾›çš„ addEventListener è€Œå·²</li>
</ul>
</li>
</ul>
<blockquote>
<p>å› ä¸º DOM æä¾›äº† äº‹ä»¶çš„åŠŸèƒ½ï¼Œè¿˜æä¾›äº†ä¸€æ•´å¥—å®Œæ•´çš„äº‹ä»¶æœºåˆ¶ï¼ˆæ•è·å†’æ³¡ã€é»˜è®¤åŠ¨ä½œã€event å¯¹è±¡â€¦ï¼‰</p>
<p>æ‰€ä»¥ JS æ‰å¯ä»¥ç”¨</p>
</blockquote>
<h4 id="è¿½é—®">è¿½é—®</h4>
<blockquote>
<p>ç”±äº JS ä¸æ”¯æŒäº‹ä»¶ï¼Œé¢è¯•å®˜å¯èƒ½é—®ä½ ã€Œèƒ½ä¸èƒ½æ‰‹å†™å‡ºä¸€ä¸ª JS äº‹ä»¶ç³»ç»Ÿã€</p>
</blockquote>
<ul>
<li>å¦‚ä½•è®©JSæ”¯æŒäº‹ä»¶ï¼Ÿè¯·æ‰‹å†™ä¸€ä¸ªäº‹ä»¶ç³»ç»Ÿã€‚</li>
<li>ç›®å‰å¤§å®¶çš„æ°´å¹³è¿˜å†™ä¸å‡ºæ¥ï¼Œå¯ä»¥å…ˆæ€è€ƒä¸€æ®µæ—¶é—´ã€‚
ï¼ˆå¯ä»¥æœä¸€æœã€å®é™…ä¸Šä¹Ÿä¸éš¾ï¼Œç”¨ä¸€ä¸ªã€Œé˜Ÿåˆ—ã€å°±å¯ä»¥é­åˆ°äº†ï¼‰</li>
</ul>
<blockquote>
<p>ä»¥ä¸Šã€‚æœ¬èŠ‚å°±æ˜¯å¯¹ <strong>DOMäº‹ä»¶ï¼ˆä¸æ˜¯ JS äº‹ä»¶ï¼‰</strong> çš„ä¸€ä¸ªå®Œæ•´äº†è§£</p>
</blockquote>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<p><a href="https://javascript.ruanyifeng.com/dom/event.html#toc10" target="_blank" rel="noopener noreffer">é˜®ä¸€å³°ï¼šäº‹ä»¶æ¨¡å‹</a></p>
<p><a href="https://juejin.im/post/6844903781969166349#heading-19" target="_blank" rel="noopener noreffer">æ·±å…¥ç†è§£DOMäº‹ä»¶æœºåˆ¶</a></p>
<p><a href="https://www.jianshu.com/p/e8a6fad0f7bc" target="_blank" rel="noopener noreffer">e = e || window.event</a></p>]]></description>
</item><item>
    <title>Typora å¦‚ä½•ä¸Šä¼ å›¾ç‰‡ï¼Ÿï¼ˆæœ€æ–°è¶…è¯¦ç»†å›¾è§£ï¼‰</title>
    <link>https://liubingxuan.xyz/tools-upload-images-in-typora-new/</link>
    <pubDate>Tue, 27 Oct 2020 19:40:05 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://liubingxuan.xyz/tools-upload-images-in-typora-new/</guid>
    <description><![CDATA[<p>ğŸ“¢ é‡‡ç”¨é˜¿é‡Œäº‘ OSSï¼Œæ›´ç¨³å®šã€ä¸Šä¼ åŠ è½½é€Ÿåº¦æ›´å¿«</p>
<p>â€‹</p>
<h2 id="1-å®‰è£…-picgo-core">1. å®‰è£… PicGo-Core</h2>
<p>å› ä¸º Typora å·²ç»åŸç”Ÿæ”¯æŒ PicGo-Coreï¼Œæ‰€ä»¥åªéœ€è¦åœ¨è½¯ä»¶å†…ä¸‹è½½ä¸€ä¸‹å°±å¯ä»¥äº†ï¼ˆPS: ä¸‹é¢è¿™å¼ å›¾å°±æ˜¯ç”¨çš„è‡ªåŠ¨ä¸Šä¼ ï¼Œå¾ˆæ–¹ä¾¿ï¼‰</p>
<p></p>
<h2 id="2-å¼€é€šé˜¿é‡Œäº‘-oss">2. å¼€é€šé˜¿é‡Œäº‘ OSS</h2>
<blockquote>
<p>æ‰“å¼€<a href="https://www.aliyun.com/" target="_blank" rel="noopener noreffer">é˜¿é‡Œäº‘</a>å®˜ç½‘ï¼Œè¿›å…¥æ§åˆ¶å°ï¼Œæ‰“å¼€æœ€å·¦ä¾§èœå•ï¼Œæ‰¾åˆ°ã€Œå¯¹è±¡å­˜å‚¨ OSSã€</p>
</blockquote>
<p></p>
<p>ï¼ˆç¬¬ä¸€æ¬¡è¿›å…¥éƒ½ä¼šæç¤ºéœ€è¦å¼€é€š ğŸ‘‡ï¼‰</p>
<p></p>
<p>ï¼ˆç«‹å³å¼€é€šï¼‰</p>
<p></p>
<blockquote>
<p>è¿›å…¥æ§åˆ¶å°ï¼Œåˆ›å»º Bucket</p>
</blockquote>
<p></p>
<blockquote>
<p>èµ·ä¸ªåå­—ï¼Œé…ç½®åŸºæœ¬é‡‡ç”¨é»˜è®¤ï¼Œå¯å‚è€ƒä¸‹å›¾</p>
</blockquote>
<p></p>
<p></p>
<blockquote>
<p>åˆ›å»ºå®Œå°±æ˜¯ğŸ‘‡è¿™æ ·äº‹å„¿çš„ï¼Œç„¶åè¿›å…¥ã€Œèµ„æºåŒ…ç®¡ç†â€”â€”è´­ä¹°èµ„æºåŒ…ã€ï¼Œå‡†å¤‡æé“¶å­</p>
</blockquote>
<p></p>
<blockquote>
<p>ä¸€èˆ¬ä¹°ä¸ªæœ€ä¾¿å®œçš„é…ç½®å°±è¡Œ</p>
</blockquote>
<p></p>
<blockquote>
<p>è´­ä¹°å®Œæˆï¼Œæˆ‘ä»¬å»æ‰¾åˆ°è‡ªå·±çš„ AccessKeyï¼Œåé¢é…ç½®ä¼šç”¨åˆ°</p>
</blockquote>
<p></p>
<p></p>
<p></p>
<blockquote>
<p>è¿™é‡Œçš„ AccessKey ID å’Œ AccessKey Secret å¯ä»¥ä¿å­˜ä¸€ä¸‹ï¼ˆæ€»ä¹‹ä¸è¦å…³é—­ï¼‰</p>
<p>ç„¶åï¼Œæ‰“å¼€ OSS æ§åˆ¶å°ï¼Œå°±å¯ä»¥å¯¹ç…§æ§åˆ¶å°ä¿¡æ¯ï¼Œé…ç½® Typora å•¦</p>
</blockquote>
<p></p>
<h2 id="3-é…ç½®-picgo-core">3. é…ç½® PicGo-Core</h2>
<blockquote>
<p>ç‚¹å‡»çº¢æ¡† 1 â€”â€”ã€æ‰“å¼€é…ç½®æ–‡ä»¶ã€‘</p>
</blockquote>
<p></p>
<blockquote>
<p>ä»£ç æŒ‰ç…§ä¸‹é¢çš„æ ¼å¼æ— è„‘å…¨é€‰æ›¿æ¢å°±è¡Œ</p>
<ul>
<li>æˆ‘ä»¬éƒ½å¯ä»¥åœ¨å‰é¢çš„æ‰“å¼€çš„é¡µé¢ä¸ŠæŸ¥çœ‹åˆ°ï¼ˆoss æ§åˆ¶å°ä¸­ï¼Œæˆ‘åº”è¯¥éƒ½ç”¨çº¢æ¡†æ ‡æ³¨äº†ï¼‰</li>
</ul>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;picBed&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;uploader&#34;</span><span class="p">:</span> <span class="s2">&#34;aliyun&#34;</span><span class="p">,</span>
    <span class="nt">&#34;aliyun&#34;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&#34;accessKeyId&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
      <span class="nt">&#34;accessKeySecret&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
      <span class="nt">&#34;bucket&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>      <span class="err">//</span> <span class="err">å­˜å‚¨ç©ºé—´å</span>
      <span class="nt">&#34;area&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>        <span class="err">//</span> <span class="err">å­˜å‚¨åŒºåŸŸä»£å·</span>
      <span class="nt">&#34;path&#34;</span><span class="p">:</span> <span class="s2">&#34;img/&#34;</span><span class="p">,</span>    <span class="err">//</span> <span class="err">è‡ªå®šä¹‰å­˜å‚¨è·¯å¾„</span>
      <span class="nt">&#34;customUrl&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>   <span class="err">//</span> <span class="err">è‡ªå®šä¹‰åŸŸåï¼Œæ³¨æ„è¦åŠ </span> <span class="err">http://</span> <span class="err">æˆ–è€…</span> <span class="err">https://</span>
      <span class="nt">&#34;options&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>      <span class="err">//</span> <span class="err">é’ˆå¯¹å›¾ç‰‡çš„ä¸€äº›åç¼€å¤„ç†å‚æ•°</span> <span class="err">PicGo</span> <span class="mf">2.2</span><span class="err">.</span><span class="mi">0</span><span class="err">+</span> <span class="err">PicGo-Core</span> <span class="mf">1.4</span><span class="err">.</span><span class="mi">0</span><span class="err">+</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&#34;picgoPlugins&#34;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>ä¸‹é¢æ˜¯æˆ‘çš„é…ç½®</p>
<p></p>
<blockquote>
<p>å†™å®Œé…ç½®ï¼Œä¿å­˜å…³é—­ï¼Œæ¥éªŒè¯ä¸€ä¸‹</p>
<ul>
<li>ç‚¹å‡» Typora é…ç½®å›¾ä¸­æ ‡å‡ºçš„çº¢æ¡† 2 â€”â€” ã€éªŒè¯å›¾ç‰‡ä¸Šä¼ é€‰é¡¹ã€‘</li>
</ul>
</blockquote>
<p></p>
<p>â€‹</p>
<h2 id="4-ä½“éªŒæ•ˆæœ">4. ä½“éªŒæ•ˆæœ</h2>
<blockquote>
<p>ä¿å­˜é…ç½®ä¹‹åï¼Œæˆ‘ä»¬ç›´æ¥åœ¨ Typora å†…ç²˜è´´ä¸€å¼ å›¾ç‰‡ï¼Œå°±ä¼šè‡ªåŠ¨æç¤ºä¸Šä¼ ä¸­</p>
<p>æˆ–è€…åœ¨å·²æœ‰çš„æœ¬åœ°å›¾ç‰‡ä¸Šé¢æŒ‰å³é”®ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°ã€ä¸Šä¼ å›¾ç‰‡ã€‘çš„æŒ‰é’®ï¼Œæ•´ä¸ªæ“ä½œéå¸¸ä¾¿æ·ã€‚</p>
</blockquote>
<p>å¤åˆ¶å›¾ç‰‡ï¼Œç²˜è´´åˆ° Typoraï¼Œæ•ˆæœå¦‚ä¸‹</p>
<p>![typora upload pic](<a href="https://imgsubmit.oss-cn-beijing.aliyuncs.com/img/typora">https://imgsubmit.oss-cn-beijing.aliyuncs.com/img/typora</a> upload pic.gif)</p>]]></description>
</item><item>
    <title> jQuery å¿«é€Ÿä¸Šæ‰‹</title>
    <link>https://liubingxuan.xyz/dom-jquery-api/</link>
    <pubDate>Sun, 25 Oct 2020 14:20:02 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://liubingxuan.xyz/dom-jquery-api/</guid>
    <description><![CDATA[<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ul>
<li>
<p>ã€Š<a href="http://www.ruanyifeng.com/blog/2011/07/jquery_fundamentals.html" target="_blank" rel="noopener noreffer">é˜®ä¸€å³°ï¼šjQueryè®¾è®¡æ€æƒ³</a>ã€‹</p>
</li>
<li>
<p>ã€Š <a href="https://www.jquery123.com/" target="_blank" rel="noopener noreffer">jQuery ä¸­æ–‡æ–‡æ¡£</a>ã€‹</p>
</li>
</ul>
<p>â€‹</p>
<h2 id="å¦‚ä½•è·å–å’Œä½¿ç”¨--jquery">å¦‚ä½•è·å–å’Œä½¿ç”¨  jQuery</h2>
<ul>
<li>jQuery çš„å®˜æ–¹ç½‘å€æ˜¯ï¼šhttp://jQuery.com/ï¼Œä»è¿™é‡Œå¯ä»¥è·å–  jQuery  çš„æœ€æ–°ç‰ˆæœ¬ã€‚
<ul>
<li>jQueryä¸­æ–‡æ–‡æ¡£ï¼šhttps://www.bootcdn.cn/jquery/</li>
</ul>
</li>
<li>ä½¿ç”¨çš„è¯ï¼Œå°±æ˜¯å¯¼å…¥è¿™ä»½ js æ–‡ä»¶ã€‚</li>
<li>å¯¼å…¥æ–¹å¼æ˜¯åœ¨é¡µé¢ï¼Œé€šè¿‡<code>&lt;script&gt;</code>æ ‡ç­¾å¯¼å…¥</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;jQuery.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>å¯¼å…¥ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨  jQuery  çš„è¯­æ³•äº†ã€‚</p>
<p>â€‹</p>
<h2 id="jquery--ç‰ˆæœ¬">jQuery  ç‰ˆæœ¬</h2>
<p>1.xï¼šå…¼å®¹IE678,ä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„ï¼Œå®˜æ–¹åªåšBUGç»´æŠ¤ï¼ŒåŠŸèƒ½ä¸å†æ–°å¢ã€‚å› æ­¤ä¸€èˆ¬é¡¹ç›®æ¥è¯´ï¼Œä½¿ç”¨1.xç‰ˆæœ¬å°±å¯ä»¥äº†ï¼Œæœ€ç»ˆç‰ˆæœ¬ï¼š1.12.4 (2016å¹´5æœˆ20æ—¥)</p>
<p>2.xï¼šä¸å…¼å®¹IE678ï¼Œå¾ˆå°‘æœ‰äººä½¿ç”¨ï¼Œå®˜æ–¹åªåšBUGç»´æŠ¤ï¼ŒåŠŸèƒ½ä¸å†æ–°å¢ã€‚å¦‚æœä¸è€ƒè™‘å…¼å®¹ä½ç‰ˆæœ¬çš„æµè§ˆå™¨å¯ä»¥ä½¿ç”¨2.xï¼Œæœ€ç»ˆç‰ˆæœ¬ï¼š2.2.4 (2016å¹´5æœˆ20æ—¥)</p>
<p>3.xï¼šä¸å…¼å®¹IE678ï¼Œåªæ”¯æŒæœ€æ–°çš„æµè§ˆå™¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯å¾ˆå¤šè€çš„ jQuery æ’ä»¶ä¸æ”¯æŒ3.xç‰ˆã€‚ç›®å‰è¯¥ç‰ˆæœ¬æ˜¯å®˜æ–¹ä¸»è¦æ›´æ–°ç»´æŠ¤çš„ç‰ˆæœ¬ã€‚</p>
<blockquote>
<p>ç»´æŠ¤IE678æ˜¯ä¸€ä»¶è®©äººå¤´ç–¼çš„äº‹æƒ…ï¼Œä¸€èˆ¬æˆ‘ä»¬éƒ½ä¼šé¢å¤–åŠ è½½ä¸€ä¸ªCSSå’ŒJSå•ç‹¬å¤„ç†ã€‚å€¼å¾—åº†å¹¸çš„æ˜¯ä½¿ç”¨è¿™äº›æµè§ˆå™¨çš„äººä¹Ÿé€æ­¥å‡å°‘ï¼ŒPCç«¯ç”¨æˆ·å·²ç»é€æ­¥è¢«ç§»åŠ¨ç«¯ç”¨æˆ·æ‰€å–ä»£ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šè¦æ±‚çš„è¯ï¼Œä¸€èˆ¬éƒ½ä¼šé€‰æ‹©æ”¾å¼ƒå¯¹678çš„æ”¯æŒã€‚</p>
</blockquote>
<p>â€‹</p>
<h2 id="jquery-å¯¹è±¡">jQuery å¯¹è±¡</h2>
<ul>
<li>jQuery å¯¹è±¡å°±æ˜¯é€šè¿‡ jQuery åŒ…è£…DOMå¯¹è±¡åäº§ç”Ÿçš„å¯¹è±¡ã€‚</li>
<li>jQuery å¯¹è±¡æ˜¯  jQuery ç‹¬æœ‰çš„ã€‚</li>
<li>å¦‚æœä¸€ä¸ªå¯¹è±¡æ˜¯  jQuery å¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥ä½¿ç”¨  jQuery é‡Œçš„æ–¹æ³•ï¼šä¾‹å¦‚ <code>$('#i1').html()</code>  ã€‚</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s2">&#34;#i1&#34;</span><span class="p">).</span><span class="nx">html</span><span class="p">()</span>  <span class="c1">// æ„æ€æ˜¯: è·å–idå€¼ä¸º i1 çš„å…ƒç´ çš„ html ä»£ç ã€‚å…¶ä¸­ html() æ˜¯  jQuery  é‡Œçš„æ–¹æ³•ã€‚ 
</span><span class="c1">// ç›¸å½“äºï¼š 
</span><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;i1&#34;</span><span class="p">).</span><span class="nx">innerHTML</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>è™½ç„¶  jQuery å¯¹è±¡æ˜¯åŒ…è£… DOM å¯¹è±¡åäº§ç”Ÿçš„ï¼Œä½†æ˜¯  jQuery å¯¹è±¡æ— æ³•ä½¿ç”¨ DOM å¯¹è±¡çš„ä»»ä½•æ–¹æ³•ï¼ŒåŒç† DOMå¯¹è±¡ä¹Ÿæ²¡ä¸èƒ½ä½¿ç”¨  jQuery é‡Œçš„æ–¹æ³•ã€‚</li>
</ul>
<blockquote>
<p>ä¸€ä¸ªçº¦å®šï¼Œæˆ‘ä»¬åœ¨å£°æ˜ä¸€ä¸ª jQuery å¯¹è±¡å˜é‡çš„æ—¶å€™åœ¨å˜é‡åå‰é¢åŠ ä¸Š$ï¼š</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">$variable</span> <span class="o">=</span>  <span class="nx">jQuery</span> <span class="nx">å¯¹åƒ</span>
<span class="kd">let</span> <span class="nx">variable</span> <span class="o">=</span> <span class="nx">DOMå¯¹è±¡</span>
<span class="nx">$variable</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1">//  jQuery å¯¹è±¡è½¬æˆDOMå¯¹è±¡
</span></code></pre></td></tr></table>
</div>
</div><p>æ‹¿ä¸Šé¢é‚£ä¸ªä¾‹å­ä¸¾ä¾‹ï¼Œ jQuery å¯¹è±¡å’Œ DOM å¯¹è±¡çš„ä½¿ç”¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s2">&#34;#i1&#34;</span><span class="p">).</span><span class="nx">html</span><span class="p">();</span>       <span class="c1">//  jQuery å¯¹è±¡å¯ä»¥ä½¿ç”¨ jQuery çš„æ–¹æ³•
</span><span class="c1"></span><span class="nx">$</span><span class="p">(</span><span class="s2">&#34;#i1&#34;</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">innerHTML</span>  <span class="c1">// DOMå¯¹è±¡ä½¿ç”¨DOMçš„æ–¹æ³•
</span></code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<p>â€‹</p>
<h2 id="ä¸€é€‰æ‹©ç½‘é¡µå…ƒç´ ">ä¸€ã€é€‰æ‹©ç½‘é¡µå…ƒç´ </h2>
<blockquote>
<p>jQuery çš„åŸºæœ¬è®¾è®¡æ€æƒ³å’Œä¸»è¦ç”¨æ³•ï¼Œå°±æ˜¯&quot;é€‰æ‹©æŸä¸ªç½‘é¡µå…ƒç´ ï¼Œç„¶åå¯¹å…¶è¿›è¡ŒæŸç§æ“ä½œ&rdquo;ã€‚è¿™æ˜¯å®ƒåŒºåˆ«äºå…¶ä»–Javascriptåº“çš„æ ¹æœ¬ç‰¹ç‚¹ã€‚</p>
</blockquote>
<blockquote>
<p>ä½¿ç”¨ jQuery çš„ç¬¬ä¸€æ­¥ï¼Œå¾€å¾€å°±æ˜¯å°†ä¸€ä¸ªé€‰æ‹©è¡¨è¾¾å¼ï¼Œæ”¾è¿›æ„é€ å‡½æ•° jQuery ()ï¼ˆç®€å†™ä¸º$ï¼‰ï¼Œç„¶åå¾—åˆ°è¢«é€‰ä¸­çš„å…ƒç´ ã€‚</p>
</blockquote>
<p>é€‰æ‹©è¡¨è¾¾å¼å¯ä»¥æ˜¯CSSé€‰æ‹©å™¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">)</span> <span class="c1">//é€‰æ‹©æ•´ä¸ªæ–‡æ¡£å¯¹è±¡
</span><span class="c1"></span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#myId&#39;</span><span class="p">)</span> <span class="c1">//é€‰æ‹©IDä¸ºmyIdçš„ç½‘é¡µå…ƒç´ 
</span><span class="c1"></span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div.myClass&#39;</span><span class="p">)</span> <span class="c1">// é€‰æ‹©classä¸ºmyClassçš„divå…ƒç´ 
</span><span class="c1"></span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;input[name=first]&#39;</span><span class="p">)</span> <span class="c1">// é€‰æ‹©nameå±æ€§ç­‰äºfirstçš„inputå…ƒç´ 
</span></code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<p>ä¹Ÿå¯ä»¥æ˜¯ jQuery ç‰¹æœ‰çš„è¡¨è¾¾å¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;a:first&#39;</span><span class="p">)</span> <span class="c1">//é€‰æ‹©ç½‘é¡µä¸­ç¬¬ä¸€ä¸ªaå…ƒç´ 
</span><span class="c1"></span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;tr:odd&#39;</span><span class="p">)</span> <span class="c1">//é€‰æ‹©è¡¨æ ¼çš„å¥‡æ•°è¡Œ
</span><span class="c1"></span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#myForm :input&#39;</span><span class="p">)</span> <span class="c1">// é€‰æ‹©è¡¨å•ä¸­çš„inputå…ƒç´ 
</span><span class="c1"></span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div:visible&#39;</span><span class="p">)</span> <span class="c1">//é€‰æ‹©å¯è§çš„divå…ƒç´ 
</span><span class="c1"></span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div:gt(2)&#39;</span><span class="p">)</span> <span class="c1">// é€‰æ‹©æ‰€æœ‰çš„divå…ƒç´ ï¼Œé™¤äº†å‰ä¸‰ä¸ª
</span><span class="c1"></span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div:animated&#39;</span><span class="p">)</span> <span class="c1">// é€‰æ‹©å½“å‰å¤„äºåŠ¨ç”»çŠ¶æ€çš„divå…ƒç´ 
</span></code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h2 id="äºŒæ”¹å˜ç»“æœé›†">äºŒã€æ”¹å˜ç»“æœé›†</h2>
<p>jQuery è®¾è®¡æ€æƒ³ä¹‹äºŒï¼Œå°±æ˜¯æä¾›å„ç§å¼ºå¤§çš„è¿‡æ»¤å™¨ï¼Œå¯¹ç»“æœé›†è¿›è¡Œç­›é€‰ï¼Œç¼©å°é€‰æ‹©ç»“æœã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">).</span><span class="nx">has</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">);</span> <span class="c1">// é€‰æ‹©åŒ…å«på…ƒç´ çš„divå…ƒç´ 
</span><span class="c1"></span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">).</span><span class="nx">not</span><span class="p">(</span><span class="s1">&#39;.myClass&#39;</span><span class="p">);</span> <span class="c1">//é€‰æ‹©classä¸ç­‰äºmyClassçš„divå…ƒç´ 
</span><span class="c1"></span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">).</span><span class="nx">filter</span><span class="p">(</span><span class="s1">&#39;.myClass&#39;</span><span class="p">);</span> <span class="c1">//é€‰æ‹©classç­‰äºmyClassçš„divå…ƒç´ 
</span><span class="c1"></span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">).</span><span class="nx">first</span><span class="p">();</span> <span class="c1">//é€‰æ‹©ç¬¬1ä¸ªdivå…ƒç´ 
</span><span class="c1"></span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">).</span><span class="nx">eq</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span> <span class="c1">//é€‰æ‹©ç¬¬6ä¸ªdivå…ƒç´ 
</span></code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ä»ç»“æœé›†å‡ºå‘ï¼Œç§»åŠ¨åˆ°é™„è¿‘çš„ç›¸å…³å…ƒç´ ï¼Œ jQuery ä¹Ÿæä¾›äº†åœ¨DOMæ ‘ä¸Šçš„ç§»åŠ¨æ–¹æ³•ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">).</span><span class="nx">next</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">);</span> <span class="c1">//é€‰æ‹©divå…ƒç´ åé¢çš„ç¬¬ä¸€ä¸ªpå…ƒç´ 
</span><span class="c1"></span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">).</span><span class="nx">parent</span><span class="p">();</span> <span class="c1">//é€‰æ‹©divå…ƒç´ çš„çˆ¶å…ƒç´ 
</span><span class="c1"></span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">&#39;form&#39;</span><span class="p">);</span> <span class="c1">//é€‰æ‹©ç¦»divæœ€è¿‘çš„é‚£ä¸ªformçˆ¶å…ƒç´ 
</span><span class="c1"></span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">).</span><span class="nx">children</span><span class="p">();</span> <span class="c1">//é€‰æ‹©divçš„æ‰€æœ‰å­å…ƒç´ 
</span><span class="c1"></span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">).</span><span class="nx">siblings</span><span class="p">();</span> <span class="c1">//é€‰æ‹©divçš„åŒçº§å…ƒç´ 
</span></code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h2 id="ä¸‰é“¾å¼æ“ä½œ">ä¸‰ã€é“¾å¼æ“ä½œ</h2>
<p>jQuery è®¾è®¡æ€æƒ³ä¹‹ä¸‰ï¼Œå°±æ˜¯æœ€ç»ˆé€‰ä¸­ç½‘é¡µå…ƒç´ ä»¥åï¼Œå¯ä»¥å¯¹å®ƒè¿›è¡Œä¸€ç³»åˆ—æ“ä½œï¼Œå¹¶ä¸”æ‰€æœ‰æ“ä½œå¯ä»¥è¿æ¥åœ¨ä¸€èµ·ï¼Œä»¥é“¾æ¡çš„å½¢å¼å†™å‡ºæ¥ï¼Œæ¯”å¦‚ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;h3&#39;</span><span class="p">).</span><span class="nx">eq</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<p>åˆ†è§£å¼€æ¥ï¼Œå°±æ˜¯ä¸‹é¢è¿™æ ·ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">)</span> <span class="c1">//æ‰¾åˆ°divå…ƒç´ 
</span><span class="c1"></span>
  <span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;h3&#39;</span><span class="p">)</span> <span class="c1">//é€‰æ‹©å…¶ä¸­çš„h3å…ƒç´ 
</span><span class="c1"></span>
  <span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1">//é€‰æ‹©ç¬¬3ä¸ªh3å…ƒç´ 
</span><span class="c1"></span>
  <span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">);</span> <span class="c1">//å°†å®ƒçš„å†…å®¹æ”¹ä¸ºHello
</span></code></pre></td></tr></table>
</div>
</div><p>è¿™æ˜¯ jQuery æœ€ä»¤äººç§°é“ã€æœ€æ–¹ä¾¿çš„ç‰¹ç‚¹ã€‚å®ƒçš„åŸç†åœ¨äºæ¯ä¸€æ­¥çš„ jQuery æ“ä½œï¼Œè¿”å›çš„éƒ½æ˜¯ä¸€ä¸ª jQuery å¯¹è±¡ï¼Œæ‰€ä»¥ä¸åŒæ“ä½œå¯ä»¥è¿åœ¨ä¸€èµ·ã€‚</p>
<p>jQuery è¿˜æä¾›äº†.end()æ–¹æ³•ï¼Œä½¿å¾—ç»“æœé›†å¯ä»¥åé€€ä¸€æ­¥ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">)</span>

  <span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;h3&#39;</span><span class="p">)</span>

  <span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

  <span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">)</span>

  <span class="p">.</span><span class="nx">end</span><span class="p">()</span> <span class="c1">//é€€å›åˆ°é€‰ä¸­æ‰€æœ‰çš„h3å…ƒç´ çš„é‚£ä¸€æ­¥
</span><span class="c1"></span>
  <span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c1">//é€‰ä¸­ç¬¬ä¸€ä¸ªh3å…ƒç´ 
</span><span class="c1"></span>
  <span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s1">&#39;World&#39;</span><span class="p">);</span> <span class="c1">//å°†å®ƒçš„å†…å®¹æ”¹ä¸ºWorld
</span></code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h2 id="å››å…ƒç´ çš„æ“ä½œå–å€¼å’Œèµ‹å€¼">å››ã€å…ƒç´ çš„æ“ä½œï¼šå–å€¼å’Œèµ‹å€¼</h2>
<blockquote>
<p>æ“ä½œç½‘é¡µå…ƒç´ ï¼Œæœ€å¸¸è§çš„éœ€æ±‚æ˜¯å–å¾—å®ƒä»¬çš„å€¼ï¼Œæˆ–è€…å¯¹å®ƒä»¬è¿›è¡Œèµ‹å€¼ã€‚</p>
</blockquote>
<blockquote>
<p>jQuery è®¾è®¡æ€æƒ³ä¹‹å››ï¼Œå°±æ˜¯ä½¿ç”¨åŒä¸€ä¸ªå‡½æ•°ï¼Œæ¥å®Œæˆå–å€¼ï¼ˆgetterï¼‰å’Œèµ‹å€¼ï¼ˆsetterï¼‰ï¼Œå³&quot;å–å€¼å™¨&quot;ä¸&quot;èµ‹å€¼å™¨&quot;åˆä¸€ã€‚åˆ°åº•æ˜¯å–å€¼è¿˜æ˜¯èµ‹å€¼ï¼Œç”±å‡½æ•°çš„å‚æ•°å†³å®šã€‚</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">).</span><span class="nx">html</span><span class="p">();</span> <span class="c1">//html()æ²¡æœ‰å‚æ•°ï¼Œè¡¨ç¤ºå–å‡ºh1çš„å€¼
</span><span class="c1"></span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">);</span> <span class="c1">//html()æœ‰å‚æ•°Helloï¼Œè¡¨ç¤ºå¯¹h1è¿›è¡Œèµ‹å€¼
</span></code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<p>å¸¸è§çš„å–å€¼å’Œèµ‹å€¼å‡½æ•°å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="p">.</span><span class="nx">html</span><span class="p">()</span> <span class="c1">// å–å‡ºæˆ–è®¾ç½®htmlå†…å®¹
</span><span class="c1"></span>
<span class="p">.</span><span class="nx">text</span><span class="p">()</span> <span class="c1">// å–å‡ºæˆ–è®¾ç½®textå†…å®¹
</span><span class="c1"></span>
<span class="p">.</span><span class="nx">attr</span><span class="p">()</span> <span class="c1">// å–å‡ºæˆ–è®¾ç½®æŸä¸ªå±æ€§çš„å€¼
</span><span class="c1"></span>
<span class="p">.</span><span class="nx">width</span><span class="p">()</span> <span class="c1">// å–å‡ºæˆ–è®¾ç½®æŸä¸ªå…ƒç´ çš„å®½åº¦
</span><span class="c1"></span>
<span class="p">.</span><span class="nx">height</span><span class="p">()</span> <span class="c1">// å–å‡ºæˆ–è®¾ç½®æŸä¸ªå…ƒç´ çš„é«˜åº¦
</span><span class="c1"></span>
<span class="p">.</span><span class="nx">val</span><span class="p">()</span> <span class="c1">// å–å‡ºæŸä¸ªè¡¨å•å…ƒç´ çš„å€¼
</span></code></pre></td></tr></table>
</div>
</div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœç»“æœé›†åŒ…å«å¤šä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆèµ‹å€¼çš„æ—¶å€™ï¼Œå°†å¯¹å…¶ä¸­æ‰€æœ‰çš„å…ƒç´ èµ‹å€¼ï¼›å–å€¼çš„æ—¶å€™ï¼Œåˆ™æ˜¯åªå–å‡ºç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ï¼ˆ.text()ä¾‹å¤–ï¼Œå®ƒå–å‡ºæ‰€æœ‰å…ƒç´ çš„textå†…å®¹ï¼‰ã€‚</p>
<p>â€‹</p>
<h2 id="äº”å…ƒç´ çš„æ“ä½œç§»åŠ¨">äº”ã€å…ƒç´ çš„æ“ä½œï¼šç§»åŠ¨</h2>
<blockquote>
<p>jQuery è®¾è®¡æ€æƒ³ä¹‹äº”ï¼Œå°±æ˜¯æä¾›ä¸¤ç»„æ–¹æ³•ï¼Œæ¥æ“ä½œå…ƒç´ åœ¨ç½‘é¡µä¸­çš„ä½ç½®ç§»åŠ¨ã€‚ä¸€ç»„æ–¹æ³•æ˜¯ç›´æ¥ç§»åŠ¨è¯¥å…ƒç´ ï¼Œå¦ä¸€ç»„æ–¹æ³•æ˜¯ç§»åŠ¨å…¶ä»–å…ƒç´ ï¼Œä½¿å¾—ç›®æ ‡å…ƒç´ è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„ä½ç½®ã€‚</p>
<p>å‡å®šæˆ‘ä»¬é€‰ä¸­äº†ä¸€ä¸ªdivå…ƒç´ ï¼Œéœ€è¦æŠŠå®ƒç§»åŠ¨åˆ°på…ƒç´ åé¢ã€‚</p>
</blockquote>
<p>ç¬¬ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ .insertAfter()ï¼ŒæŠŠdivå…ƒç´ ç§»åŠ¨på…ƒç´ åé¢ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">).</span><span class="nx">insertAfter</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">));</span>
</code></pre></td></tr></table>
</div>
</div><p>ç¬¬äºŒç§æ–¹æ³•æ˜¯ä½¿ç”¨.after()ï¼ŒæŠŠpå…ƒç´ åŠ åˆ°divå…ƒç´ å‰é¢ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">).</span><span class="nx">after</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">));</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<p>è¡¨é¢ä¸Šçœ‹ï¼Œè¿™ä¸¤ç§æ–¹æ³•çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œå”¯ä¸€çš„ä¸åŒä¼¼ä¹åªæ˜¯æ“ä½œè§†è§’çš„ä¸åŒã€‚ä½†æ˜¯å®é™…ä¸Šï¼Œå®ƒä»¬æœ‰ä¸€ä¸ªé‡å¤§å·®åˆ«ï¼Œé‚£å°±æ˜¯è¿”å›çš„å…ƒç´ ä¸ä¸€æ ·ã€‚ç¬¬ä¸€ç§æ–¹æ³•è¿”å›divå…ƒç´ ï¼Œç¬¬äºŒç§æ–¹æ³•è¿”å›på…ƒç´ ã€‚ä½ å¯ä»¥æ ¹æ®éœ€è¦ï¼Œé€‰æ‹©åˆ°åº•ä½¿ç”¨å“ªä¸€ç§æ–¹æ³•ã€‚</p>
<p>ä½¿ç”¨è¿™ç§æ¨¡å¼çš„æ“ä½œæ–¹æ³•ï¼Œä¸€å…±æœ‰å››å¯¹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="p">.</span><span class="nx">insertAfter</span><span class="p">()</span>  <span class="nx">å’Œ</span> <span class="p">.</span><span class="nx">after</span><span class="p">()</span>   <span class="err">ï¼š</span><span class="nx">åœ¨ç°å­˜å…ƒç´ çš„å¤–éƒ¨</span><span class="err">ï¼Œ</span><span class="nx">ä»åé¢æ’å…¥å…ƒç´ </span>

<span class="p">.</span><span class="nx">insertBefore</span><span class="p">()</span> <span class="nx">å’Œ</span> <span class="p">.</span><span class="nx">before</span><span class="p">()</span>  <span class="err">ï¼š</span><span class="nx">åœ¨ç°å­˜å…ƒç´ çš„å¤–éƒ¨</span><span class="err">ï¼Œ</span><span class="nx">ä»å‰é¢æ’å…¥å…ƒç´ </span>

<span class="p">.</span><span class="nx">appendTo</span><span class="p">()</span>     <span class="nx">å’Œ</span> <span class="p">.</span><span class="nx">append</span><span class="p">()</span>  <span class="err">ï¼š</span><span class="nx">åœ¨ç°å­˜å…ƒç´ çš„å†…éƒ¨</span><span class="err">ï¼Œ</span><span class="nx">ä»åé¢æ’å…¥å…ƒç´ </span>

<span class="p">.</span><span class="nx">prependTo</span><span class="p">()</span>    <span class="nx">å’Œ</span> <span class="p">.</span><span class="nx">prepend</span><span class="p">()</span> <span class="err">ï¼š</span><span class="nx">åœ¨ç°å­˜å…ƒç´ çš„å†…éƒ¨</span><span class="err">ï¼Œ</span><span class="nx">ä»å‰é¢æ’å…¥å…ƒç´ </span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h2 id="å…­å…ƒç´ çš„æ“ä½œå¤åˆ¶åˆ é™¤å’Œåˆ›å»º">å…­ã€å…ƒç´ çš„æ“ä½œï¼šå¤åˆ¶ã€åˆ é™¤å’Œåˆ›å»º</h2>
<p>é™¤äº†å…ƒç´ çš„ä½ç½®ç§»åŠ¨ä¹‹å¤–ï¼Œ jQuery è¿˜æä¾›å…¶ä»–å‡ ç§æ“ä½œå…ƒç´ çš„é‡è¦æ–¹æ³•ã€‚</p>
<p>å¤åˆ¶å…ƒç´ ä½¿ç”¨ .clone()ã€‚</p>
<p>åˆ é™¤å…ƒç´ ä½¿ç”¨.remove()å’Œ.detach()ã€‚ä¸¤è€…çš„åŒºåˆ«åœ¨äºï¼Œå‰è€…ä¸ä¿ç•™è¢«åˆ é™¤å…ƒç´ çš„äº‹ä»¶ï¼Œåè€…ä¿ç•™ï¼Œæœ‰åˆ©äºé‡æ–°æ’å…¥æ–‡æ¡£æ—¶ä½¿ç”¨ã€‚</p>
<p>æ¸…ç©ºå…ƒç´ å†…å®¹ï¼ˆä½†æ˜¯ä¸åˆ é™¤è¯¥å…ƒç´ ï¼‰ä½¿ç”¨.empty()ã€‚</p>
<p>åˆ›å»ºæ–°å…ƒç´ çš„æ–¹æ³•éå¸¸ç®€å•ï¼Œåªè¦æŠŠæ–°å…ƒç´ ç›´æ¥ä¼ å…¥ jQuery çš„æ„é€ å‡½æ•°å°±è¡Œäº†ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;p&gt;Hello&lt;/p&gt;&#39;</span><span class="p">);</span>

<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;li class=&#34;new&#34;&gt;new list item&lt;/li&gt;&#39;</span><span class="p">);</span>

<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;ul&#39;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;&lt;li&gt;list item&lt;/li&gt;&#39;</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<p>â€‹</p>
<h2 id="æ±‡æ€»">æ±‡æ€»</h2>
<h3 id="jquery--é€‰æ‹©å™¨-">jQuery  é€‰æ‹©å™¨ â€”â€”â€”</h3>
<blockquote>
<p>é€‰æ‹©å™¨é€šè¿‡æ ‡ç­¾åã€å±æ€§åæˆ–å†…å®¹å¯¹DOMå…ƒç´ è¿›è¡Œå¿«é€Ÿã€å‡†ç¡®çš„å®šä½ã€‚æ ¹æ®æ‰€è·å–é¡µé¢ä¸­å…ƒç´ çš„ä¸åŒï¼Œå¯ä»¥å°†é€‰æ‹©å™¨åˆ†ä¸ºï¼šåŸºæœ¬é€‰æ‹©å™¨ã€å±‚æ¬¡é€‰æ‹©å™¨ã€è¿‡æ»¤é€‰æ‹©å™¨å’Œè¡¨å•é€‰æ‹©å™¨ã€‚</p>
</blockquote>
<h3 id="1åŸºæœ¬é€‰æ‹©å™¨">1ã€åŸºæœ¬é€‰æ‹©å™¨</h3>
<blockquote>
<p>ä½¿ç”¨æœ€é¢‘ç¹çš„é€‰æ‹©å™¨ï¼ŒåŒ…æ‹¬å…ƒç´  IDã€Class åã€å…ƒç´ åç­‰ã€‚</p>
</blockquote>
<p>idé€‰æ‹©å™¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#element-id&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>classé€‰æ‹©å™¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.class-name&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>å…ƒç´ é€‰æ‹©å™¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element-name&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h3 id="2å±‚æ¬¡é€‰æ‹©å™¨">2ã€å±‚æ¬¡é€‰æ‹©å™¨</h3>
<blockquote>
<p>é€šè¿‡DOMå…ƒç´ é—´çš„å±‚æ¬¡å…³ç³»è·å–å…ƒç´ ï¼Œä¸»è¦å±‚æ¬¡å…³ç³»åŒ…æ‹¬åä»£ã€çˆ¶å­ã€ç›¸é‚»ã€å…„å¼Ÿå…³ç³»ç­‰ã€‚</p>
</blockquote>
<p>æ ¹æ®ç¥–å…ˆå…ƒç´ åŒ¹é…æ‰€æœ‰åä»£å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;ancestor descendant&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>æ ¹æ®çˆ¶å…ƒç´ åŒ¹é…æ‰€æœ‰çš„å­å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;parent &gt; child&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>åŒ¹é…æ‰€æœ‰ç´§æ¥åœ¨prevå…ƒç´ åçš„ç›¸é‚»å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;prev + next&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>åŒ¹é…prevå…ƒç´ ä¹‹åçš„æ‰€æœ‰å…„å¼Ÿå…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;prev ~ siblings&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h3 id="3è¿‡æ»¤é€‰æ‹©å™¨">3ã€è¿‡æ»¤é€‰æ‹©å™¨</h3>
<blockquote>
<p>è¿‡æ»¤é€‰æ‹©å™¨æ ¹æ®æŸç±»è¿‡æ»¤è§„åˆ™è¿›è¡Œå…ƒç´ çš„åŒ¹é…ï¼Œä»¥:å¼€å¤´ã€‚è¿‡æ»¤é€‰æ‹©å™¨åˆåˆ†ä¸ºï¼šç®€å•è¿‡æ»¤é€‰æ‹©å™¨ã€å†…å®¹è¿‡æ»¤é€‰æ‹©å™¨ã€å¯è§æ€§è¿‡æ»¤é€‰æ‹©å™¨ã€å±æ€§è¿‡æ»¤é€‰æ‹©å™¨ã€å­å…ƒç´ è¿‡æ»¤é€‰æ‹©å™¨å’Œè¡¨å•å¯¹è±¡å±æ€§è¿‡æ»¤é€‰æ‹©å™¨ã€‚</p>
</blockquote>
<h4 id="31-ç®€å•è¿‡æ»¤é€‰æ‹©å™¨">3.1 ç®€å•è¿‡æ»¤é€‰æ‹©å™¨</h4>
<p>è·å–é¡µé¢ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªXå…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:first&#39;</span><span class="p">)</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:last&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–æ‰€æœ‰ç´¢å¼•å€¼ä¸ºå¶æ•°å’Œå¥‡æ•°çš„å…ƒç´ ï¼Œç´¢å¼•å€¼ä»0å¼€å§‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:even&#39;</span><span class="p">)</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:odd&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–ç­‰äºã€å¤§äºå’Œå°äºç´¢å¼•å€¼çš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:eq(index)&#39;</span><span class="p">)</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:gt(index)&#39;</span><span class="p">)</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:lt(index)&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–é™¤ç»™å®šçš„é€‰æ‹©å™¨å¤–çš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:not(selector)&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="32-å†…å®¹è¿‡æ»¤é€‰æ‹©å™¨">3.2 å†…å®¹è¿‡æ»¤é€‰æ‹©å™¨</h4>
<p>è·å–åŒ…å«ç»™å®šæ–‡æœ¬çš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:contains(text)&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–æ‰€æœ‰ä¸åŒ…å«å­å…ƒç´ æˆ–è€…æ–‡æœ¬çš„ç©ºå…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:empty&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–å«æœ‰é€‰æ‹©å™¨æ‰€åŒ¹é…çš„å…ƒç´ çš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:has(selector)&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–å«æœ‰å­å…ƒç´ æˆ–æ–‡æœ¬çš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:parent&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="33-å¯è§æ€§è¿‡æ»¤é€‰æ‹©å™¨">3.3 å¯è§æ€§è¿‡æ»¤é€‰æ‹©å™¨</h4>
<p>è·å–æ‰€æœ‰ä¸å¯è§çš„å…ƒç´ ï¼Œæˆ–è€…typeä¸ºhiddençš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:hidden&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–æ‰€æœ‰å¯è§çš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:visible&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="34-å±æ€§è¿‡æ»¤é€‰æ‹©å™¨">3.4 å±æ€§è¿‡æ»¤é€‰æ‹©å™¨</h4>
<p>è·å–åŒ…å«ç»™å®šå±æ€§çš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element[attribute]&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–å±æ€§æ˜¯ç»™å®šå€¼çš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element[attribute=value]&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–å±æ€§ä¸æ˜¯ç»™å®šå€¼çš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element[attribute!=value]&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–å±æ€§æ˜¯ä»¥ç»™å®šå€¼å¼€å§‹çš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element[attribute^=value]&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–å±æ€§æ˜¯ä»¥ç»™å®šå€¼ç»“æŸçš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element[attribute$=value]&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–å±æ€§æ˜¯åŒ…å«ç»™å®šå€¼çš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element[attribute*=value]&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="35-å­å…ƒç´ è¿‡æ»¤é€‰æ‹©å™¨">3.5 å­å…ƒç´ è¿‡æ»¤é€‰æ‹©å™¨</h4>
<p>è·å–çˆ¶å…ƒç´ ä¸‹çš„ç¬¬ä¸€ä¸ªã€æœ€åä¸€ä¸ªã€å”¯ä¸€ä¸€ä¸ªå­å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;parent:first-child&#39;</span><span class="p">)</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;parent:last-child&#39;</span><span class="p">)</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;parent:only-child&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–çˆ¶å…ƒç´ ä¸‹çš„ç‰¹å®šä½ç½®çš„å…ƒç´ ï¼Œç´¢å¼•å€¼ä»1å¼€å§‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;parent:nth-child(eq|even|odd|index)&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="36-è¡¨å•å¯¹è±¡å±æ€§è¿‡æ»¤é€‰æ‹©å™¨">3.6 è¡¨å•å¯¹è±¡å±æ€§è¿‡æ»¤é€‰æ‹©å™¨</h4>
<p>è·å–è¡¨å•ä¸­æ‰€æœ‰å±æ€§ä¸ºå¯ç”¨çš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:enabled&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–è¡¨å•ä¸­æ‰€æœ‰å±æ€§ä¸ºä¸å¯ç”¨çš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:disabled&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–è¡¨å•ä¸­æ‰€æœ‰è¢«é€‰ä¸­çš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:checked&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–è¡¨å•ä¸­æ‰€æœ‰è¢«é€‰ä¸­optionçš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;element:selected&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h3 id="4è¡¨å•é€‰æ‹©å™¨">4ã€è¡¨å•é€‰æ‹©å™¨</h3>
<blockquote>
<p>é€šè¿‡å®ƒå¯ä»¥åœ¨é¡µé¢ä¸­å¿«é€Ÿå®šä½æŸè¡¨å•å¯¹è±¡ã€‚</p>
</blockquote>
<p>è·å–æ‰€æœ‰inputã€textareaã€selectç­‰inputå…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;form:input&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–æ‰€æœ‰å•è¡Œæ–‡æœ¬æ¡†ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;form:text&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–æ‰€æœ‰å¯†ç æ¡†ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;form:password&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–æ‰€æœ‰å•é¡¹æŒ‰é’®ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;form:radio&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–æ‰€æœ‰å¤é€‰æ¡†ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;form:checkbox&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–æ‰€æœ‰æäº¤æŒ‰é’®ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;form:submit&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–æ‰€æœ‰å›¾åƒåŸŸï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;form:image&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–æ‰€æœ‰é‡ç½®æŒ‰é’®ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;form:reset&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–æ‰€æœ‰æŒ‰é’®ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;form:button&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è·å–æ‰€æœ‰æ–‡ä»¶åŸŸï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;form:file&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<p>â€‹</p>
<h3 id="dom-æ“ä½œ-">DOM æ“ä½œ â€”â€”â€”</h3>
<blockquote>
<p>åœ¨ä¸é¡µé¢ä¸­çš„å…ƒç´ è¿›è¡Œäº¤äº’å¼çš„æ“ä½œä¸­ï¼Œä¸»è¦åŒ…æ‹¬å¯¹å…ƒç´ å±æ€§ã€å†…å®¹ã€å€¼ã€CSSç­‰çš„æ“ä½œã€‚åŒæ—¶ï¼Œè¿˜æœ‰å¯¹é¡µé¢èŠ‚ç‚¹çš„æ“ä½œï¼ŒåŒ…æ‹¬èŠ‚ç‚¹å…ƒç´ çš„åˆ›å»ºã€æ’å…¥ã€å¤åˆ¶ã€æ›¿æ¢ã€åˆ é™¤ç­‰æ“ä½œã€‚</p>
</blockquote>
<h3 id="1å…ƒç´ å±æ€§æ“ä½œ">1ã€å…ƒç´ å±æ€§æ“ä½œ</h3>
<p>åœ¨  jQuery  ä¸­ï¼Œå¯ä»¥å¯¹å…ƒç´ å±æ€§è¿›è¡Œè·å–ã€è®¾ç½®ã€åˆ é™¤ç­‰æ“ä½œã€‚</p>
<p>è·å–æŒ‡å®šå±æ€§åçš„å…ƒç´ å±æ€§ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è®¾ç½®å…ƒç´ å±æ€§å€¼ï¼Œkeyä¸ºå±æ€§åç§°ï¼Œvalueä¸ºå±æ€§å€¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è®¾ç½®å¤šä¸ªå±æ€§å€¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">attr</span><span class="p">({</span><span class="nx">keyN</span><span class="o">:</span><span class="nx">valueN</span><span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><p>åˆ é™¤æŒ‡å®šå±æ€§åçš„å…ƒç´ å±æ€§ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">removeAttr</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h3 id="2å…ƒç´ å†…å®¹æ“ä½œ">2ã€å…ƒç´ å†…å®¹æ“ä½œ</h3>
<blockquote>
<p>åœ¨ jQuery ä¸­ï¼Œå¯ä»¥è·å–å’Œè®¾ç½®å…ƒç´ çš„HTMLæˆ–æ–‡æœ¬å†…å®¹ã€‚</p>
</blockquote>
<p>è·å–å…ƒç´ çš„HTML/æ–‡æœ¬å†…å®¹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">html</span><span class="p">()</span>
<span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">text</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p>è®¾ç½®å…ƒç´ çš„HTML/æ–‡æœ¬å†…å®¹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
<span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ä¸¤è€…çš„åŒºåˆ«æ˜¯ï¼Œhtml() æ–¹æ³•ä»…æ”¯æŒ HTML ç±»å‹çš„æ–‡æ¡£ï¼Œä¸æ”¯æŒ XMLã€‚è€Œ text() æ–¹æ³•ä¸ä»…æ”¯æŒ HTML ç±»å‹ï¼Œä¹Ÿæ”¯æŒ XML ç±»å‹ã€‚</p>
</blockquote>
<p>â€‹</p>
<h3 id="3å…ƒç´ å€¼æ“ä½œ">3ã€å…ƒç´ å€¼æ“ä½œ</h3>
<blockquote>
<p>åœ¨ jQuery ä¸­ï¼Œå¯ä»¥è·å–å’Œè®¾ç½®å…ƒç´ çš„å€¼ã€‚</p>
</blockquote>
<p>è·å–å…ƒç´ çš„å€¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p>è®¾ç½®å…ƒç´ çš„å€¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Tipsï¼šé€šè¿‡ val().join(&rdquo;,&quot;) è·å– select æ ‡ç­¾ä¸­çš„å¤šä¸ªé€‰é¡¹å€¼ã€‚</p>
</blockquote>
<p>â€‹</p>
<h3 id="4å…ƒç´ æ ·å¼æ“ä½œ">4ã€å…ƒç´ æ ·å¼æ“ä½œ</h3>
<blockquote>
<p>åœ¨ jQuery ä¸­ï¼Œå¯ä»¥ç›´æ¥è®¾ç½®æ ·å¼ã€å¢åŠ CSSç±»åˆ«ã€ç±»åˆ«åˆ‡æ¢ã€åˆ é™¤ç±»åˆ«ç­‰æ“ä½œã€‚</p>
</blockquote>
<p>ä¸ºæŒ‡å®šnameçš„æ ·å¼è®¾ç½®å€¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>ä¸ºå…ƒç´ å¢åŠ æ ·å¼ç±»ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="kr">class</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>åˆ‡æ¢ä¸åŒçš„æ ·å¼ç±»ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">toggleClass</span><span class="p">(</span><span class="kr">class</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>åˆ é™¤å…ƒç´ çš„æ ·å¼ç±»ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="kr">class</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h3 id="5åˆ›å»ºèŠ‚ç‚¹å…ƒç´ ">5ã€åˆ›å»ºèŠ‚ç‚¹å…ƒç´ </h3>
<blockquote>
<p>å¦‚æœè¦åœ¨é¡µé¢ä¸­æ·»åŠ æŸä¸ªå…ƒç´ ï¼Œéœ€è¦å…ˆé€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºèŠ‚ç‚¹å…ƒç´ ï¼š</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">html</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h3 id="6æ’å…¥èŠ‚ç‚¹å…ƒç´ ">6ã€æ’å…¥èŠ‚ç‚¹å…ƒç´ </h3>
<blockquote>
<p>æŒ‰ç…§æ’å…¥å…ƒç´ çš„ä½ç½®åŒºåˆ†ï¼Œå¯ä»¥åˆ†ä¸ºå†…éƒ¨å’Œå¤–éƒ¨ä¸¤ç§æ’å…¥æ–¹æ³•ã€‚</p>
</blockquote>
<h4 id="61-å†…éƒ¨æ’å…¥èŠ‚ç‚¹">6.1 å†…éƒ¨æ’å…¥èŠ‚ç‚¹</h4>
<p>å‘æ‰€é€‰æ‹©çš„å…ƒç´ å†…éƒ¨è¿½åŠ /å‰ç½®å†…å®¹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">content</span><span class="p">)</span>
<span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">prepend</span><span class="p">(</span><span class="nx">content</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>å‘æ‰€é€‰æ‹©çš„å…ƒç´ å†…éƒ¨è¿½åŠ /å‰ç½®functionæ–¹æ³•æ‰€è¿”å›çš„å†…å®¹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="kd">function</span><span class="p">())</span>
<span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">prepend</span><span class="p">(</span><span class="kd">function</span><span class="p">())</span>
</code></pre></td></tr></table>
</div>
</div><p>æŠŠæ‰€é€‰æ‹©çš„å…ƒç´ è¿½åŠ /å‰ç½®åˆ°å¦ä¸€ä¸ªæŒ‡å®šçš„å…ƒç´ é›†åˆä¸­ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">content</span><span class="p">)</span>
<span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">prependTo</span><span class="p">(</span><span class="nx">content</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="62-å¤–éƒ¨æ’å…¥èŠ‚ç‚¹">6.2 å¤–éƒ¨æ’å…¥èŠ‚ç‚¹</h4>
<p>å‘æ‰€é€‰æ‹©çš„å…ƒç´ å¤–éƒ¨è¿½åŠ /å‰ç½®å†…å®¹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">after</span><span class="p">(</span><span class="nx">content</span><span class="p">)</span>
<span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">before</span><span class="p">(</span><span class="nx">content</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>å‘æ‰€é€‰æ‹©çš„å…ƒç´ å¤–éƒ¨è¿½åŠ /å‰ç½®functionæ–¹æ³•æ‰€è¿”å›çš„å†…å®¹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">after</span><span class="p">(</span><span class="kd">function</span><span class="p">())</span>
<span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">before</span><span class="p">(</span><span class="kd">function</span><span class="p">())</span>
</code></pre></td></tr></table>
</div>
</div><p>æŠŠæ‰€é€‰æ‹©çš„å…ƒç´ è¿½åŠ /å‰ç½®åˆ°å¦ä¸€ä¸ªæŒ‡å®šçš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">insertAfter</span><span class="p">(</span><span class="nx">content</span><span class="p">)</span>
<span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">content</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h3 id="7å¤åˆ¶èŠ‚ç‚¹å…ƒç´ ">7ã€å¤åˆ¶èŠ‚ç‚¹å…ƒç´ </h3>
<blockquote>
<p>å°†æŸä¸ªå…ƒç´ èŠ‚ç‚¹å¤åˆ¶åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ä¹‹åã€‚</p>
</blockquote>
<p>å¤åˆ¶åŒ¹é…çš„DOMå…ƒç´ å¹¶ä¸”é€‰ä¸­å¤åˆ¶æˆåŠŸçš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">clone</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p>åœ¨å¤åˆ¶æ—¶å°†è¯¥å…ƒç´ çš„æ‰€æœ‰è¡Œä¸ºä¹Ÿè¿›è¡Œå¤åˆ¶ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">clone</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h3 id="8æ›¿æ¢èŠ‚ç‚¹å…ƒç´ ">8ã€æ›¿æ¢èŠ‚ç‚¹å…ƒç´ </h3>
<p>å°†æ‰€æœ‰é€‰æ‹©çš„å…ƒç´ æ›¿æ¢æˆæŒ‡å®šçš„HTMLæˆ–DOMå…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">replaceWith</span><span class="p">(</span><span class="nx">content</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>å°†æ‰€æœ‰é€‰æ‹©çš„å…ƒç´ æ›¿æ¢æˆæŒ‡å®šselectorçš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">replaceAll</span><span class="p">(</span><span class="nx">selector</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>ä¸€æ—¦å®Œæˆæ›¿æ¢ï¼Œè¢«æ›¿æ¢å…ƒç´ ä¸­çš„å…¨éƒ¨äº‹ä»¶å°†ä¼šæ¶ˆå¤±ã€‚</p>
<p>â€‹</p>
<h3 id="9åˆ é™¤èŠ‚ç‚¹å…ƒç´ ">9ã€åˆ é™¤èŠ‚ç‚¹å…ƒç´ </h3>
<p>åˆ é™¤æŒ‡å®šçš„å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p>åˆ é™¤æŒ‡å®šçš„å…ƒç´ ï¼Œä½†ä¿ç•™è¢«ç§»é™¤å…ƒç´ çš„äº‹ä»¶ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">detach</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p>æ¸…ç©ºæ‰€é€‰æ‹©çš„é¡µé¢å…ƒç´ çš„å†…å®¹ï¼Œä½†ä¸ç§»é™¤è¯¥å…ƒç´ ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">empty</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h3 id="10é€šç”¨æ“ä½œ">10ã€é€šç”¨æ“ä½œ</h3>
<blockquote>
<p>è¿™ç±»æ“ä½œä¸éœ€è¦é€‰æ‹©å…ƒç´ å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">.</span><span class="nx">trim</span><span class="p">()</span>           <span class="c1">// å»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºæ ¼ã€‚
</span><span class="c1"></span><span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">()</span>           <span class="c1">// éå†ä¸€ä¸ªæ•°ç»„æˆ–å¯¹è±¡ã€‚
</span><span class="c1"></span><span class="nx">$</span><span class="p">.</span><span class="nx">inArray</span><span class="p">()</span>        <span class="c1">// è¿”å›ä¸€ä¸ªå€¼åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®ã€‚å¦‚æœè¯¥å€¼ä¸åœ¨æ•°ç»„ä¸­ï¼Œåˆ™è¿”å›-1ã€‚
</span><span class="c1"></span><span class="nx">$</span><span class="p">.</span><span class="nx">grep</span><span class="p">()</span>           <span class="c1">// è¿”å›æ•°ç»„ä¸­ç¬¦åˆæŸç§æ ‡å‡†çš„å…ƒç´ ã€‚
</span><span class="c1"></span><span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">()</span>         <span class="c1">// å°†å¤šä¸ªå¯¹è±¡ï¼Œåˆå¹¶åˆ°ç¬¬ä¸€ä¸ªå¯¹è±¡ã€‚
</span><span class="c1"></span><span class="nx">$</span><span class="p">.</span><span class="nx">makeArray</span><span class="p">()</span>      <span class="c1">// å°†å¯¹è±¡è½¬åŒ–ä¸ºæ•°ç»„ã€‚
</span><span class="c1"></span><span class="nx">$</span><span class="p">.</span><span class="nx">type</span><span class="p">()</span>           <span class="c1">// åˆ¤æ–­å¯¹è±¡çš„ç±»åˆ«ï¼ˆå‡½æ•°å¯¹è±¡ã€æ—¥æœŸå¯¹è±¡ã€æ•°ç»„å¯¹è±¡ã€æ­£åˆ™å¯¹è±¡ç­‰ç­‰ï¼‰ã€‚
</span><span class="c1"></span><span class="nx">$</span><span class="p">.</span><span class="nx">isArray</span><span class="p">()</span>        <span class="c1">// åˆ¤æ–­æŸä¸ªå‚æ•°æ˜¯å¦ä¸ºæ•°ç»„ã€‚
</span><span class="c1"></span><span class="nx">$</span><span class="p">.</span><span class="nx">isEmptyObject</span><span class="p">()</span>  <span class="c1">// åˆ¤æ–­æŸä¸ªå¯¹è±¡æ˜¯å¦ä¸ºç©ºï¼ˆä¸å«æœ‰ä»»ä½•å±æ€§ï¼‰ã€‚
</span><span class="c1"></span><span class="nx">$</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">()</span>     <span class="c1">// åˆ¤æ–­æŸä¸ªå‚æ•°æ˜¯å¦ä¸ºå‡½æ•°ã€‚
</span><span class="c1"></span><span class="nx">$</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">()</span>  <span class="c1">// åˆ¤æ–­æŸä¸ªå‚æ•°æ˜¯å¦ä¸ºç”¨&#34;{}&#34;æˆ–&#34;new Object&#34;å»ºç«‹çš„å¯¹è±¡ã€‚
</span><span class="c1"></span><span class="nx">$</span><span class="p">.</span><span class="nx">support</span><span class="p">()</span>        <span class="c1">// åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒæŸä¸ªç‰¹æ€§ã€‚
</span></code></pre></td></tr></table>
</div>
</div>]]></description>
</item><item>
    <title>jQuery çš„è®¾è®¡æ€æƒ³ï¼ˆä¸‹ï¼‰</title>
    <link>https://liubingxuan.xyz/dom-jquery-prototype/</link>
    <pubDate>Sun, 25 Oct 2020 14:20:02 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://liubingxuan.xyz/dom-jquery-prototype/</guid>
    <description><![CDATA[<p>â€‹</p>
<h2 id="å‘½åé£æ ¼">å‘½åé£æ ¼</h2>
<blockquote>
<p>å‘½åé£æ ¼ï¼šæˆ‘ä»¬åœ¨å†™ä»£ç æ—¶éƒ½ä¼šæœ‰ä¸€äº›é£æ ¼ï¼Œè¿™äº›é£æ ¼å¯èƒ½æ˜¯ä¸šç•Œå…±è¯†ã€ä¹Ÿå¯èƒ½æ˜¯è‡ªå·±çš„å°æŠ€å·§</p>
<ul>
<li>ä¸‹é¢ä»‹ç»ä¸€ä¸ªå‘½åé£æ ¼ï¼ˆä»¥å‰å¯èƒ½æ˜¯ä¸šç•Œå…±è¯†ï¼Œä½†ç°åœ¨å·²ç»ä¸å¤ªå¸¸ç”¨äº†ï¼Œå› ä¸º jQuery å¾ˆå°‘äººç”¨äº†ï¼‰</li>
</ul>
</blockquote>
<h3 id="ä¸‹é¢çš„ä»£ç ä»¤äººè¯¯è§£">ä¸‹é¢çš„ä»£ç ä»¤äººè¯¯è§£</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">div1</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.test&#39;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">div2</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.test&#39;</span><span class="p">)</span>
<span class="c1">// div2 åˆ°åº•æ˜¯ DOM å¯¹è±¡ï¼Œè¿˜æ˜¯ jQuery å¯¹è±¡? 
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ã€ŒDOM å¯¹è±¡ã€åªèƒ½ä½¿ç”¨ DOM APIï¼Œå¦‚ querySelectorã€appendChild â€¦</li>
<li>ã€ŒjQuery å¯¹è±¡ã€åªèƒ½ä½¿ç”¨ jQuery çš„ APIï¼Œå¦‚ findã€ addClass â€¦</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">div</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div#test&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>æˆ‘ä»¬ä¼šè¯¯ä»¥ä¸º div æ˜¯ä¸€ä¸ª DOM</li>
<li>å®é™…ä¸Š div æ˜¯ jQuery æ„é€ çš„ api å¯¹è±¡</li>
<li>æ€ä¹ˆé¿å…è¿™ç§è¯¯è§£å‘¢ï¼Ÿ</li>
</ul>
<h3 id="æ”¹æˆè¿™æ ·">æ”¹æˆè¿™æ ·</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">elDiv1</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.test&#39;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">$div2</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.test&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<ul>
<li>
<p>å£°æ˜å˜é‡ç”¨æ¥è¡¨ç¤º DOM å¯¹è±¡ï¼Œå¯ä»¥å˜é‡åå¯ä»¥å‰ç½®ï¼š el  ï¼ˆå¯é€‰ï¼‰</p>
</li>
<li>
<p>å£°æ˜å˜é‡ç”¨æ¥è¡¨ç¤º jQuery äº§ç”Ÿçš„ api å¯¹è±¡ï¼Œå˜é‡åå‰ + $</p>
</li>
</ul>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">$div</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div#test&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>$div.appendChild ä¸å­˜åœ¨ï¼Œå› ä¸ºå®ƒä¸æ˜¯ DOM å¯¹è±¡</li>
<li>$div.find å­˜åœ¨ï¼Œå› ä¸ºå®ƒæ˜¯ jQuery å¯¹è±¡</li>
</ul>
<blockquote>
<p>ä»£ç ä¸­ï¼Œæ‰€æœ‰ $ å¼€å¤´çš„å˜é‡ï¼Œéƒ½æ˜¯ jQuery å¯¹è±¡</p>
<ul>
<li>è¿™æ˜¯çº¦å®šï¼Œé™¤éç‰¹æ®Šè¯´æ˜</li>
</ul>
</blockquote>
<p>â€‹</p>
<p>â€‹</p>
<p>â€‹</p>
<h2 id="jquery-ä»£ç ">jQuery ä»£ç </h2>
<blockquote>
<p>å½“å‰å·²ç»å®ç°çš„ä»£ç </p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">$</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">selectorOrArray</span><span class="p">)</span> <span class="p">{</span>
  <span class="cm">/*
</span><span class="cm">  * elements è¡¨ç¤ºé€šè¿‡é€‰æ‹©å™¨æ‰¾åˆ°çš„ç›®æ ‡å…ƒç´ ç»„æˆçš„ä¼ªæ•°ç»„
</span><span class="cm">  * */</span>
  <span class="kd">let</span> <span class="nx">elements</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">selectorOrArray</span> <span class="o">===</span> <span class="s2">&#34;string&#34;</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// é‡è½½
</span><span class="c1"></span>    <span class="nx">elements</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">selectorOrArray</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">selectorOrArray</span> <span class="k">instanceof</span> <span class="nb">Array</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">elements</span> <span class="o">=</span> <span class="nx">selectorOrArray</span>
  <span class="p">}</span>
  <span class="c1">// â†“ api å¯ä»¥æ“ä½œ elementsï¼ˆthis å°±æ˜¯ jQuery è¿”å›çš„ apiï¼‰
</span><span class="c1"></span>  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="k">this</span>
    <span class="p">},</span>
    <span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`elements`</span><span class="p">,</span> <span class="nx">elements</span><span class="p">)</span>
      <span class="kd">let</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">array</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">selector</span><span class="p">)))</span>
      <span class="p">}</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`array`</span><span class="p">,</span> <span class="nx">array</span><span class="p">)</span>
      <span class="nx">array</span><span class="p">.</span><span class="nx">oldApi</span> <span class="o">=</span> <span class="k">this</span>
      <span class="k">return</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nx">oldApi</span><span class="o">:</span> <span class="nx">selectorOrArray</span><span class="p">.</span><span class="nx">oldApi</span><span class="p">,</span>  <span class="c1">// åœ¨ find ä¸­ï¼Œé€šè¿‡ array ä¿å­˜ä¸‹æ¥çš„æ—§çš„ api
</span><span class="c1"></span>    <span class="nx">end</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">oldApi</span>
    <span class="p">},</span>
    <span class="nx">each</span><span class="p">(</span><span class="nx">fn</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">fn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">elements</span><span class="p">)</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="k">this</span> <span class="c1">// this å°±æ˜¯ api !!!
</span><span class="c1"></span>    <span class="p">},</span>
    <span class="nx">print</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">elements</span><span class="p">)</span>
      <span class="k">return</span> <span class="k">this</span>
    <span class="p">},</span>
    <span class="nx">parent</span><span class="p">()</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="c1">// éå†çˆ¶å…ƒç´  â†“
</span><span class="c1"></span>      <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">node</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">array</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// å»é‡
</span><span class="c1"></span>          <span class="nx">array</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">)</span>
        <span class="p">}</span>
      <span class="p">})</span>
      <span class="nx">array</span><span class="p">.</span><span class="nx">oldApi</span> <span class="o">=</span> <span class="k">this</span>
      <span class="k">return</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nx">children</span><span class="p">()</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">node</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">children</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">array</span><span class="p">.</span><span class="nx">push</span><span class="p">(...</span><span class="nx">node</span><span class="p">.</span><span class="nx">children</span><span class="p">)</span>
        <span class="p">}</span>
      <span class="p">})</span>
      <span class="nx">array</span><span class="p">.</span><span class="nx">oldApi</span> <span class="o">=</span> <span class="k">this</span>
      <span class="k">return</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="cm">/******************************************/</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="è°ƒç”¨">è°ƒç”¨</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">api1</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.red&#39;</span><span class="p">)</span>  <span class="c1">// api1 ç”¨æ¥æ“ä½œ red å…ƒç´ 
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">api2</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.blue&#39;</span><span class="p">)</span>  <span class="c1">// api2 ç”¨æ¥æ“ä½œ blue å…ƒç´ 
</span><span class="c1"></span><span class="cm">/*
</span><span class="cm">* ç”±ä¸Šï¼Œå¯ä»¥å‘ç° api1 å’Œ api2 é‡å¤äº† ï¼ˆ?!! ä»€ä¹ˆæ„æ€ï¼‰
</span><span class="cm">* */</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="å‘ç°é—®é¢˜--api1-å’Œ-api2-é‡å¤äº†">å‘ç°é—®é¢˜ ğŸƒ api1 å’Œ api2 é‡å¤äº†</h2>
<h3 id="åˆ†æ-">åˆ†æ ğŸƒ</h3>
<blockquote>
<p>api1 å’Œ api2 é‡å¤äº† ï¼ˆ?!! ä»€ä¹ˆæ„æ€ï¼‰</p>
</blockquote>
<p></p>
<ul>
<li>api1 å¯¹åº”ä¸€å—å†…å­˜ #101
<ul>
<li>åœ¨ #101 ä¸­ï¼Œæœ‰ find ï¼ˆ#201ï¼‰ã€eachï¼ˆ#209ï¼‰</li>
<li>å†…å­˜ #201 å¯¹åº”ä¸€ä¸ªfindå‡½æ•°ã€å†…å­˜ #209 å¯¹åº”ä¸€ä¸ªeachå‡½æ•°</li>
</ul>
</li>
<li>api2 å¯¹åº”å†…å­˜ #409
<ul>
<li>åœ¨ #409 ä¸­ï¼Œæœ‰ find ï¼ˆ#509ï¼‰ã€eachï¼ˆ#519ï¼‰</li>
<li>å†…å­˜ #509 å¯¹åº”ä¸€ä¸ªfindå‡½æ•°ã€å†…å­˜ #519 å¯¹åº”ä¸€ä¸ªeachå‡½æ•°</li>
</ul>
</li>
<li>å¯ä»¥æ¯”è¾ƒæ¸…æ¥šçš„å‘ç°ï¼š
<ul>
<li>ä¸¤ä¸ª find ã€ä¸¤ä¸ª each å®é™…ä¸Šåº”è¯¥æ˜¯åŒä¸€ä¸ªå‡½æ•°çš„å®ç°</li>
<li>ä½† jQuery æ¯åˆ›å»ºä¸€ä¸ª api ï¼Œè¿™äº›å‡½æ•°ä¹Ÿéƒ½è¢«å†æ¬¡åˆ›å»ºäº†ä¸€é</li>
<li>201å’Œ509ï¼ˆ209å’Œ519ï¼‰æ˜¯å®Œå…¨ä¸€æ ·çš„ä¸¤å—å†…å­˜</li>
</ul>
</li>
<li>è¿™å°±æ˜¯å‰é¢æåˆ°çš„ã€Œ api1 å’Œ api2 é‡å¤äº†ã€</li>
</ul>
<h3 id="è§£å†³æ–¹æ³•-">è§£å†³æ–¹æ³• ğŸƒ</h3>
<ul>
<li>
<p>find å’Œ each åº”è¯¥ä½œä¸ºã€Œå…±ç”¨å±æ€§ã€</p>
</li>
<li>
<p>é‚£ä¸ºä»€ä¹ˆä¸æŠŠå…±ç”¨çš„å±æ€§å†™åˆ°ä¸€ä¸ªå¯¹è±¡ä¸Šå»å‘¢ï¼Ÿ</p>
<ul>
<li>ç”¨ä¸€ä¸ª __proto__ å±æ€§ä¿å­˜ä¸‹å…±æœ‰å±æ€§çš„åœ°å€ï¼Œå³å¯</li>
<li>æŠŠè¿™ä¸ªåŒ…å«å…±æœ‰å±æ€§çš„å¯¹è±¡ï¼Œæ”¾åˆ° jQuery ä¸Šï¼Œè®© jQuery.prototype ç­‰äºè¿™ä¸ªå¯¹è±¡</li>
</ul>
<p></p>
</li>
</ul>
<h4 id="å¥—ç”¨åŸå‹å…¬å¼">å¥—ç”¨åŸå‹å…¬å¼</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">å¯¹è±¡</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">å…¶æ„é€ å‡½æ•°</span><span class="p">.</span><span class="nx">prototype</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">api1</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.red&#39;</span><span class="p">)</span>
<span class="nx">api1</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">prototype</span>   <span class="c1">// åŸå‹å…¬å¼
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">api2</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.blue&#39;</span><span class="p">)</span>
<span class="nx">api2</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">prototype</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<p>â€‹</p>
<h2 id="ä½¿ç”¨åŸå‹-æ”¹é€ -jquery-">ä½¿ç”¨åŸå‹ æ”¹é€  jQuery â­•ï¸</h2>
<h3 id="ç¬¬ä¸€ç‰ˆ-jquery-ä»£ç ">ç¬¬ä¸€ç‰ˆ jQuery ä»£ç </h3>
<blockquote>
<p>å…ˆçœ‹çœ‹ä¹‹å‰çš„ç‰ˆæœ¬</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">$</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">selectorOrArray</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">elements</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">selectorOrArray</span> <span class="o">===</span> <span class="s2">&#34;string&#34;</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// é‡è½½
</span><span class="c1"></span>    <span class="nx">elements</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">selectorOrArray</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">selectorOrArray</span> <span class="k">instanceof</span> <span class="nb">Array</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">elements</span> <span class="o">=</span> <span class="nx">selectorOrArray</span>
  <span class="p">}</span>
  <span class="c1">// â†“ api å¯ä»¥æ“ä½œ elementsï¼ˆthis å°±æ˜¯ jQuery è¿”å›çš„ apiï¼‰
</span><span class="c1"></span>  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">jquery</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">oldApi</span><span class="o">:</span> <span class="nx">selectorOrArray</span><span class="p">.</span><span class="nx">oldApi</span><span class="p">,</span>  <span class="c1">// é€šè¿‡ array ä¿å­˜ä¸‹ä¸Šä¸€æ¬¡çš„api
</span><span class="c1"></span>    <span class="c1">// ä¸‹é¢æ˜¯å„ç§åŠŸèƒ½å‡½æ•°
</span><span class="c1"></span>    <span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span> <span class="p">{...},</span>
    <span class="nx">find</span><span class="p">()</span> <span class="p">{...},</span>
    <span class="nx">each</span><span class="p">(</span><span class="nx">fn</span><span class="p">)</span> <span class="p">{...},</span>
    <span class="nx">appendTo</span><span class="p">()</span> <span class="p">{...},</span>
    <span class="p">...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="ä½¿ç”¨åŸå‹è¿›è¡Œæ”¹é€ -">ä½¿ç”¨åŸå‹è¿›è¡Œæ”¹é€  â­•ï¸</h3>
<h4 id="-å…±æœ‰å±æ€§å‡½æ•°è½¬ç§»åˆ°åŸå‹ä¸Š">â‘  å…±æœ‰å±æ€§ï¼ˆå‡½æ•°ï¼‰è½¬ç§»åˆ°åŸå‹ä¸Š</h4>
<blockquote>
<p>æŠŠæ‰€æœ‰å…±æœ‰å±æ€§ï¼Œéƒ½ç§»åˆ° jQuery çš„åŸå‹ prototype ä¸Š</p>
<p>åˆ«å¿˜äº† constructor</p>
</blockquote>
<ul>
<li>è¿™é‡Œæ˜¯ç›´æ¥ç»™ jQuery.prototype èµ‹æ–°å€¼ï¼Œè¿™æ ·å†™å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯ä¼šå¯¼è‡´åŸæœ¬åŸå‹ä¸Šçš„ <a href="" rel="">constructor</a> è¢«è¦†ç›–ä¸¢å¤±ï¼Œæ‰€ä»¥è¦æ‰‹åŠ¨åŠ å›å» <a href="" rel="">constructor</a></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">jQuery</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="o">:</span> <span class="nx">jQuery</span><span class="p">,</span>
  <span class="nx">jquery</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="c1">// ä¸‹é¢æ˜¯å„ç§åŠŸèƒ½å‡½æ•°
</span><span class="c1"></span>  <span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span> <span class="p">{...},</span>
  <span class="nx">find</span><span class="p">()</span> <span class="p">{...},</span>
  <span class="nx">each</span><span class="p">(</span><span class="nx">fn</span><span class="p">)</span> <span class="p">{...},</span>
  <span class="nx">appendTo</span><span class="p">()</span> <span class="p">{...},</span>
  <span class="p">...</span>
<span class="p">}</span>
  
</code></pre></td></tr></table>
</div>
</div><h4 id="-æŠŠ-prototype-èµ‹äºˆ-jquery-åˆ›å»ºçš„å¯¹è±¡">â‘¡ æŠŠ prototype èµ‹äºˆ jQuery åˆ›å»ºçš„å¯¹è±¡</h4>
<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/create" target="_blank" rel="noopener noreffer">Object.create()</a> ï¼šåˆ›å»ºå¯¹è±¡ï¼Œå¹¶ç»™å¯¹è±¡æŒ‡å®šåŸå‹ __proto__</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">$</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">selectorOrArray</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">elements</span>
  <span class="c1">// ...
</span><span class="c1"></span>  
  <span class="kr">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span>  <span class="c1">// &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
</span><span class="c1"></span>  <span class="c1">// åˆ›å»º apiå¯¹è±¡ï¼Œå¹¶æŒ‡å®šå…¶åŸå‹æ˜¯ jQuery.prototype
</span><span class="c1"></span>  <span class="c1">// ç›¸å½“äº const api = {__proto__: jQuery.prototype}
</span><span class="c1"></span>  <span class="p">...</span>
  
  <span class="k">return</span> <span class="nx">api</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="-å¾€-api-ä¸Šæ·»åŠ -elements-oldapi">â‘¢ å¾€ api ä¸Šæ·»åŠ  elements ã€oldApi</h4>
<blockquote>
<p>é—®é¢˜åˆ†æï¼š</p>
<p>å½“æˆ‘ä»¬æŠŠæ‰€æœ‰åŠŸèƒ½å‡½æ•°éƒ½ä» apiï¼ˆç‹¬ç«‹å‡½æ•°ï¼‰ ä¸Šæ‹¿èµ°ï¼Œæ”¾åˆ°åŸå‹ï¼ˆç‹¬ç«‹å¯¹è±¡ï¼‰ä¸Šä¹‹å
åŸå‹ä¸Šçš„å‡½æ•°å°±è·å–ä¸åˆ° jQuery é‡Œçš„ elements ï¼Œelements ä»…ä½œç”¨åœ¨åœ¨ window.jQuery å‡½æ•°ä¸­</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">p1</span><span class="p">){</span> 
  <span class="kd">let</span> <span class="nx">elements</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">p1</span><span class="p">)</span>
  <span class="k">return</span> <span class="nx">api</span>
<span class="p">};</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span> 
  <span class="nx">get</span><span class="p">(</span><span class="nx">index</span><span class="p">){</span> <span class="k">return</span> <span class="nx">elements</span><span class="p">[</span><span class="nx">index</span><span class="p">]</span> <span class="p">},</span>    <span class="c1">// è¿™é‡Œçš„elementsè·å–ä¸åˆ°ä¸Šé¢çš„ elements
</span><span class="c1"></span>  <span class="nx">end</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">oldApi</span><span class="p">},</span>
  <span class="nx">find</span><span class="p">(){</span> <span class="p">},</span> 
  <span class="c1">// ...
</span><span class="c1"></span><span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>é‚£ findã€get â€¦ æ€ä¹ˆæ“ä½œ elements å‘¢ï¼Ÿ</p>
<ul>
<li>
<p>æ¯ç”Ÿæˆæ–°çš„ elementsï¼Œéƒ½ä¼šåˆ›å»ºã€è¿”å›æ–°çš„ apiï¼ˆapi çš„åŸå‹ä¸Šå°±æ˜¯è¿™äº›åŠŸèƒ½å‡½æ•°ï¼‰</p>
</li>
<li>
<p><strong>éœ€è¦æ‰¾åˆ°å®ƒä»¬ä¹‹é—´çš„è”ç³»</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.test&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>  
<span class="c1">// addClass å‡½æ•°ä¸­çš„ this æŒ‡å‘å‡½æ•°è°ƒç”¨è€… $(&#39;.test&#39;)
</span><span class="c1">// è€Œ $(&#39;.test&#39;) === api ï¼Œæ‰€ä»¥å‡½æ•°ä¸­çš„ this æŒ‡å‘çš„å°±æ˜¯ api
</span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>æ‰€ä»¥è¦æƒ³åœ¨å‡½æ•°å†…éƒ¨ï¼Œè·å–åˆ° elementsï¼Œå¯ä»¥æŠŠ elements æ”¾åˆ° api ä¸Š</p>
</li>
</ul>
</li>
<li>
<p>é‚£å°±åœ¨ api ä¸Šæ·»åŠ ä¸€ä¸ªå±æ€§ elementsï¼Œç”¨æ¥ä¿å­˜  jQuery åˆ›å»ºçš„ elements</p>
</li>
<li>
<p>åœ¨åŸå‹é‡Œçš„å‡½æ•°ä¸­ï¼Œé€šè¿‡ <a href="" rel="">this.elements</a>ï¼Œå°±å¯ä»¥è®¿é—®åˆ°è¿™ä¸ªã€ç›®æ ‡å…ƒç´ çš„æ•°ç»„ã€‘ï¼ŒåŠ ä»¥æ“ä½œ</p>
</li>
</ul>
<blockquote>
<p>ç»¼ä¸Šï¼š</p>
<ul>
<li>åœ¨åŸå‹é‡Œçš„å‡½æ•°ï¼Œè¦è·å–åˆ° jQuery é‡Œçš„å˜é‡ã€‚å¿…é¡»é€šè¿‡æ¡¥æ¢ã€ api ã€this ã€‘
<ul>
<li><strong>æ¡¥æ¢ï¼šåªè¦ api ä¸Šæœ‰ jQuery é‡Œçš„å˜é‡ï¼Œå‡½æ•°å°±èƒ½é€šè¿‡ this å…³é”®å­—è·å–åˆ°è¿™ä¸ªå˜é‡</strong></li>
</ul>
</li>
</ul>
</blockquote>
<p>æ³¨ï¼šoldApi ä»£ç å¦‚ä¸‹</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">end</span><span class="p">(){</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">oldApi</span>  
  <span class="c1">// end åŸæœ¬å°±æ˜¯è¦æ“ä½œã€è°ƒç”¨è€…apiã€‘ä¸­çš„ oldApi
</span><span class="c1"></span>  <span class="c1">// æ‰€ä»¥ this(api) ä¸Šå¿…é¡»æœ‰ oldApiï¼Œendæ‰èƒ½æ“ä½œåˆ°ï¼Œæ‰€ä»¥åŒæ ·ä¹Ÿéœ€è¦å¾€ api ä¸Šæ·»åŠ  oldApi
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><a href="D:%5cJirengu%5c%e7%ac%ac1%e9%98%b6%e6%ae%b5%5c7-JS%e7%bc%96%e7%a8%8b%e6%8e%a5%e5%8f%a3%5c4-jQuery%e4%b8%ad%e7%9a%84%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%9e%8b%ef%bc%88%e4%b8%8b%ef%bc%89%5cdom-2-github-prototype%5csrc" rel="">å®Œæ•´ä»£ç </a></p>
<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" rel="noopener noreffer">Object.assign</a>ï¼šæŠŠåé¢å¯¹è±¡çš„å±æ€§ï¼Œå¤åˆ¶åˆ°å‰é¢çš„å¯¹è±¡ä¸Šï¼ˆæ³¨æ„æ˜¯æµ…å¤åˆ¶ï¼ŒJS æœ¬èº«æ²¡æœ‰æ·±å¤åˆ¶ï¼‰</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">$</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">selectorOrArray</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">elements</span>
  <span class="c1">// ...  elements = document.querySelectorAll(selectorOrArray)
</span><span class="c1"></span> 
  <span class="kr">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span>
  <span class="c1">// æŠŠæ‰€éœ€å˜é‡æ”¾åˆ° api ä¸Šï¼ˆä¸¤ç§æ–¹å¼ï¼‰
</span><span class="c1"></span>  <span class="c1">// ï¼ˆæ–¹å¼ä¸€ ğŸ‘‡ï¼‰
</span><span class="c1"></span>  <span class="c1">// api.elements = elements 
</span><span class="c1"></span>  <span class="c1">// api.oldApi = selectorOrArray.oldApi // ç­‰åŒäº â†“
</span><span class="c1"></span>  <span class="c1">// ï¼ˆæ–¹å¼äºŒ ğŸ‘‡ï¼‰
</span><span class="c1"></span>  <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">api</span><span class="p">,</span> <span class="p">{</span>  <span class="c1">// Object.assignï¼ˆä¸¤ä¸ªå‚æ•°ï¼‰æŠŠåé¢å¯¹è±¡çš„å±æ€§ï¼Œå¤åˆ¶åˆ°å‰é¢çš„å¯¹è±¡ä¸Š
</span><span class="c1"></span>    <span class="nx">elements</span><span class="o">:</span> <span class="nx">elements</span><span class="p">,</span>
    <span class="nx">oldApi</span><span class="o">:</span> <span class="nx">selectorOrArray</span><span class="p">.</span><span class="nx">oldApi</span>
  <span class="p">})</span>
  
  <span class="k">return</span> <span class="nx">api</span>
<span class="p">}</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>  <span class="c1">// &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; å‡½æ•°åœ¨è¿™é‡Œ
</span><span class="c1"></span>  <span class="nx">constructor</span><span class="o">:</span> <span class="nx">jQuery</span><span class="p">,</span>
  <span class="nx">jquery</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>

  <span class="c1">// æ‰€æœ‰å¯¹ elements çš„è°ƒç”¨ï¼Œéƒ½æ”¹æˆ this.elements
</span><span class="c1"></span>  <span class="nx">get</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">[</span><span class="nx">index</span><span class="p">]</span>
  <span class="p">},</span>
  <span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
      <span class="nx">element</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="k">this</span>
  <span class="p">},</span>
  <span class="nx">end</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">oldApi</span> <span class="c1">// this å°±æ˜¯æ–° api
</span><span class="c1"></span>  <span class="p">}</span>
  <span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">elements2</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">selector</span><span class="p">))</span>
      <span class="nx">array</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">elements2</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">array</span><span class="p">.</span><span class="nx">oldApi</span> <span class="o">=</span> <span class="k">this</span> <span class="c1">// find è¿”å›å€¼ä¼šè¦†ç›–åŸæœ¬çš„ apiï¼Œæ‰€ä»¥æå–ä¿å­˜ä¸‹æ—§çš„ apiï¼ˆthisï¼‰
</span><span class="c1"></span>    <span class="k">return</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="nx">each</span><span class="p">(</span><span class="nx">fn</span><span class="p">)</span> <span class="p">{...},</span>
  <span class="nx">appendTo</span><span class="p">()</span> <span class="p">{...},</span>
  <span class="p">...</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li><a href="D:%5cJirengu%5c%e7%ac%ac1%e9%98%b6%e6%ae%b5%5c7-JS%e7%bc%96%e7%a8%8b%e6%8e%a5%e5%8f%a3%5c4-jQuery%e4%b8%ad%e7%9a%84%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%9e%8b%ef%bc%88%e4%b8%8b%ef%bc%89%5cdom-2-github-prototype%5csrc" rel="">å®Œæ•´ä»£ç </a></li>
</ul>
<h3 id="è¡¥å……-jqueryfn">è¡¥å……ï¼š jQuery.fn</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{...}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>åœ¨ jQuery çš„æºç ä¸­ï¼Œä½ ä¼šå‘ç°è¿˜å¤šèµ‹å€¼äº†ä¸€ä¸ª jQuery.fn ï¼ˆå¦‚ä¸Šï¼‰ã€‚ç”¨ fn æ¥è¡¨ç¤º prototype åŸå‹
<ul>
<li>å¯èƒ½æ˜¯å«Œå¼ƒ prototype è¿™ä¸ªå•è¯å¤ªé•¿äº†ï¼Œæ‰€ä»¥æƒ³ç”¨ fn æ¥è¡¨ç¤º</li>
<li>ä¹Ÿå¯èƒ½æ˜¯æƒ³å…¼å®¹ä¸€äº›ä¸å¤ªç†è§£ prototype çš„å¼€å‘è€…ï¼Œæ‰€ä»¥å¹²è„†æ¢ä¸€ä¸ªæ›´çŸ­çš„å•è¯ fn</li>
<li>æ€»ä¹‹ï¼Œå°±æ˜¯ jQuery çš„æºç ä¸­ï¼Œå¯¹ jQuery çš„ prototype åŸå‹å–äº†ä¸€ä¸ªåˆ«åå«ï¼š fn</li>
</ul>
</li>
</ul>
<h3 id="æ€»ç»“">æ€»ç»“</h3>
<blockquote>
<p>$  æŒ‡ä»£ jQuery</p>
</blockquote>
<ul>
<li>
<p>æŠŠå…±ç”¨å±æ€§ï¼ˆå‡½æ•°ï¼‰å…¨éƒ½æ”¾åˆ°  $.prototype</p>
</li>
<li>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">.</span><span class="nx">fn</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">prototype</span>  <span class="c1">// åå­—å¤ªé•¿ä¸çˆ½ï¼Œå†èµ·ä¸ªåˆ«å fn
</span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ç„¶åè®© api.__proto__ æŒ‡å‘ $.fn ï¼ˆä¹Ÿå°±æ˜¯è®© api.__proto__ æŒ‡å‘äº† $.prototypeï¼‰</p>
</li>
</ul>
<h3 id="å®Œæ•´ä»£ç ">å®Œæ•´ä»£ç </h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">$</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">selectorOrArrayOrTemplate</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">elements</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">selectorOrArrayOrTemplate</span> <span class="o">===</span> <span class="s2">&#34;string&#34;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">selectorOrArrayOrTemplate</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">===</span> <span class="s2">&#34;&lt;&#34;</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// åˆ›å»º div
</span><span class="c1"></span>      <span class="nx">elements</span> <span class="o">=</span> <span class="p">[</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">selectorOrArrayOrTemplate</span><span class="p">)]</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="c1">// æŸ¥æ‰¾ div
</span><span class="c1"></span>      <span class="nx">elements</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">selectorOrArrayOrTemplate</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">selectorOrArrayOrTemplate</span> <span class="k">instanceof</span> <span class="nb">Array</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">elements</span> <span class="o">=</span> <span class="nx">selectorOrArrayOrTemplate</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">createElement</span><span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">container</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&#34;template&#34;</span><span class="p">)</span>
    <span class="nx">container</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">trim</span><span class="p">()</span>
    <span class="k">return</span> <span class="nx">container</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">firstChild</span>
  <span class="p">}</span>

  <span class="c1">// api å¯ä»¥æ“ä½œelements
</span><span class="c1"></span>  <span class="kr">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span> <span class="c1">// åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡çš„ __proto__ ä¸ºæ‹¬å·é‡Œé¢çš„ä¸œè¥¿
</span><span class="c1"></span>  <span class="c1">// const api = {__proto__: jQuery.prototype}
</span><span class="c1"></span>  <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">api</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">elements</span><span class="o">:</span> <span class="nx">elements</span><span class="p">,</span>
    <span class="nx">oldApi</span><span class="o">:</span> <span class="nx">selectorOrArrayOrTemplate</span><span class="p">.</span><span class="nx">oldApi</span>
  <span class="p">})</span>
  <span class="c1">// api.elements = elements
</span><span class="c1"></span>  <span class="c1">// api.oldApi = selectorOrArrayOrTemplate.oldApi
</span><span class="c1"></span>  <span class="k">return</span> <span class="nx">api</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="åŸå‹">åŸå‹</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="o">:</span> <span class="nx">jQuery</span><span class="p">,</span>
  <span class="nx">jquery</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">get</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">[</span><span class="nx">index</span><span class="p">]</span>
  <span class="p">},</span>
  <span class="nx">appendTo</span><span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">node</span> <span class="k">instanceof</span> <span class="nx">Element</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">el</span> <span class="p">=&gt;</span> <span class="nx">node</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">el</span><span class="p">))</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">jquery</span> <span class="o">===</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">el</span> <span class="p">=&gt;</span> <span class="nx">node</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">el</span><span class="p">))</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">append</span><span class="p">(</span><span class="nx">children</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">children</span> <span class="k">instanceof</span> <span class="nx">Element</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">children</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">children</span> <span class="k">instanceof</span> <span class="nx">HTMLCollection</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">children</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">children</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">children</span><span class="p">.</span><span class="nx">jquery</span> <span class="o">===</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">children</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">node</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">node</span><span class="p">))</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">elements2</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">selector</span><span class="p">))</span>
      <span class="nx">array</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">elements2</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">array</span><span class="p">.</span><span class="nx">oldApi</span> <span class="o">=</span> <span class="k">this</span> <span class="c1">// this å°±æ˜¯ æ—§ api
</span><span class="c1"></span>    <span class="k">return</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="nx">each</span><span class="p">(</span><span class="nx">fn</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">fn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">i</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="k">this</span>
  <span class="p">},</span>
  <span class="nx">parent</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">node</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">array</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">array</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">)</span>
      <span class="p">}</span>
    <span class="p">})</span>
    <span class="k">return</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="nx">children</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">node</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">array</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">array</span><span class="p">.</span><span class="nx">push</span><span class="p">(...</span><span class="nx">node</span><span class="p">.</span><span class="nx">children</span><span class="p">)</span>
      <span class="p">}</span>
    <span class="p">})</span>
    <span class="k">return</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="nx">print</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="c1">// é—­åŒ…ï¼šå‡½æ•°è®¿é—®å¤–éƒ¨çš„å˜é‡
</span><span class="c1"></span>  <span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
      <span class="nx">element</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="k">this</span>
  <span class="p">},</span>
  <span class="nx">end</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">oldApi</span> <span class="c1">// this å°±æ˜¯æ–° api
</span><span class="c1"></span>  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="åº“å°è£…å®Œæˆ">åº“å°è£…å®Œæˆ</h2>
<blockquote>
<p>å¯ä»¥æŠŠä»£ç å…¬å¼€äº†</p>
</blockquote>
<ul>
<li>
<p>å‘å¸ƒåˆ° GitHub</p>
</li>
<li>
<p>æ·»åŠ æ–‡æ¡£ï¼Œå‘Šè¯‰åˆ«äººæ€ä¹ˆç”¨</p>
</li>
<li>
<p>è·å¾—ç§°èµ â¤ï¸ ğŸ§¡ ğŸ’› ğŸ’š ğŸ’™ ğŸ’œ ğŸ–¤ ğŸ¤ ğŸ¤</p>
<ul>
<li>å®ç°ä¸€ä¸ªå°è£…çš„åº“ï¼Œæä¾›ç»™åˆ«äººä½¿ç”¨ï¼Œå¥½ç”¨çš„è¯ï¼Œåˆ«äººå°±ä¼šç»™ä½ ç‚¹èµ</li>
</ul>
<ul>
<li>jQuery å°±æ˜¯æ—©æœŸä¸€ä¸ªç¨‹åºå‘˜å†™çš„åº“ï¼Œå¹¶æä¾›ç»™æ‰€æœ‰å¼€å‘è€…ä½¿ç”¨ ğŸ‘ğŸ‘</li>
</ul>
</li>
<li>
<p>è¿™å°±æ˜¯ç¨‹åºå‘˜çš„ç¤¾åŒºã€‚äººäººä¸ºæˆ‘ï¼Œæˆ‘ä¸ºäººäºº</p>
</li>
</ul>
<blockquote>
<p>å½“ç„¶ç°åœ¨çš„æ°´å¹³ï¼Œè‚¯å®šä¸å¤ŸæŒ‡å¯¼åˆ«äººã€‚</p>
<p>å°±å…ˆæŠŠä»£ç å†™å®Œæ•´ï¼Œè‡ªå·±ç”¨æˆåŠŸä¸€æ¬¡å³å¯</p>
<p>ä»¥åä¼šå­¦ä¹ ã€Œå¦‚ä½•åšå•å…ƒæµ‹è¯•ã€ï¼ˆå½“ç„¶ã€Œå•å…ƒæµ‹è¯•ã€å¯èƒ½æ¯”ã€Œå°è£…jQueryã€çš„ä»£ç è¿˜éš¾ï¼‰</p>
</blockquote>
<blockquote>
<p>ç°åœ¨éœ€è¦åšçš„å°±æ˜¯ï¼šè‡ªå·±èƒ½åŠ¨æ‰‹å†™æˆè‡³å°‘ 10% çš„è¿™ä¹ˆä¸€ä¸ªè½®å­</p>
<ul>
<li>åªè¦ä½ èƒ½å®Œæˆï¼Œé‚£ä»£ç æ°´å¹³è‚¯å®šä¼šæ˜¾è‘—æé«˜</li>
</ul>
</blockquote>
<p>â€‹</p>
<p>â€‹</p>
<p>â€‹</p>
<h2 id="jquery-æœ‰å¤šç‰›-x">jQuery æœ‰å¤šç‰› X</h2>
<blockquote>
<p>å®ƒæ˜¯ç›®å‰å‰ç«¯<strong>æœ€é•¿å¯¿</strong>çš„åº“ï¼Œ2006å¹´å‘å¸ƒ ï¼ˆå·²ç»14å²äº†ï¼‰</p>
<ul>
<li>vue ã€react ä¹Ÿæ‰å››äº”å²</li>
<li>åœ¨å‰ç«¯å†å²ä¸Šï¼Œæœ‰æ•°ä»¥ä¸‡è®¡çš„åº“ï¼Œæœ€ç»ˆèƒ½å¤Ÿæ´»ä¸‹æ¥å¹¶ä¸€ç›´è¢«ä½¿ç”¨çš„åº“ï¼Œå¾ˆå°‘å¾ˆå°‘ã€‚</li>
<li>jQuery æ˜¯ç›®å‰æœ€é•¿å¯¿çš„ä¸€ä¸ª</li>
</ul>
</blockquote>
<blockquote>
<p>å®ƒæ˜¯ä¸–ç•Œä¸Šä½¿ç”¨<strong>æœ€å¹¿æ³›</strong>çš„åº“ï¼Œ<a href="https://trends.builtwith.com/javascript/jQuery" target="_blank" rel="noopener noreffer">å…¨çƒ80%çš„ç½‘ç«™</a>åœ¨ç”¨</p>
<ul>
<li>å¯èƒ½ç°åœ¨æ–°çš„ç§‘æŠ€å…¬å¸ä¸ä¼šå†ç”¨ jQuery</li>
<li>ä½†æ˜¯è€ç‰Œå¤§å…¬å¸ï¼Œåƒæ˜¯é˜¿é‡Œå·´å·´ã€æ·˜å®ï¼Œä¸€ç›´éƒ½åœ¨ç”¨ jQuery</li>
</ul>
</blockquote>
<h3 id="è®¾è®¡æ¨¡å¼">è®¾è®¡æ¨¡å¼ï¼Ÿ</h3>
<blockquote>
<p>ä¸ºä»€ä¹ˆ jQuery è¿™ä¹ˆç‰› X   ï¼Ÿ</p>
<ul>
<li>å› ä¸º jquery çš„ä»£ç è®¾è®¡ï¼Œåšçš„ ç‰¹ ~ åˆ« ~ çš„ å¥½ã€‚</li>
<li>å¥½åˆ°æ²¡åŠæ³•æ”¹è¿›</li>
<li>æˆ‘ä»¬ä»Šå¤©å­¦ä¹ çš„ã€å¾ˆå¤šå†™ä»£ç çš„å¥—è·¯ï¼Œéƒ½æ˜¯ä» jQuery çš„æºç ä¸­å­¦æ¥çš„ï¼ˆå·¥ä½œä¸ªå››äº”å¹´å†å»çœ‹ jQuery æºç å­¦ä¹ ï¼Œå°ç™½ç›´æ¥çœ‹æ— å¼‚äºè‡ªæ€ï¼‰</li>
</ul>
</blockquote>
<h3 id="jquery-ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼">jQuery ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼</h3>
<ul>
<li>
<p><strong>ä¸ç”¨ new çš„æ„é€ å‡½æ•°</strong>ï¼ˆjQueryåšåˆ°äº†ï¼‰ï¼Œè¿™ä¸ªæ¨¡å¼æ²¡æœ‰ä¸“é—¨çš„åå­—</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">JQuery</span><span class="p">(</span><span class="s1">&#39;.test&#39;</span><span class="p">)</span>   <span class="p">=&gt;</span>   <span class="kr">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.test&#39;</span><span class="p">)</span>  <span class="c1">//åœ¨jQueryä¹‹å‰æ²¡äººæƒ³åˆ°å¯ä»¥è¿™æ ·
</span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>$(<strong>æ”¯æŒå¤šç§å‚æ•°</strong>)ï¼Œè¿™ä¸ªæ¨¡å¼å«åš<strong>é‡è½½</strong></p>
<ul>
<li>å¯ä»¥ä¼ é€‰æ‹©å™¨ã€ä¼ æ•°ç»„ã€ä¼  html ç»“æ„</li>
</ul>
</li>
<li>
<p><strong>ç”¨é—­åŒ…éšè—ç»†èŠ‚</strong>ï¼Œè¿™ä¸ªæ¨¡å¼æ²¡æœ‰ä¸“é—¨çš„åå­—</p>
<ul>
<li>é—­åŒ…ï¼šåœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œè°ƒç”¨äº†å‡½æ•°å¤–éƒ¨çš„å˜é‡</li>
<li><u>ç”¨æˆ·æ°¸è¿œæ— æ³•ç›´æ¥æ“ä½œ elements ï¼ˆéšè—ç»†èŠ‚ï¼‰ï¼Œå¿…é¡»é€šè¿‡ api ä¸­çš„å‡½æ•°æ‰èƒ½æ“ä½œåˆ° elements</u></li>
<li>jQuery æ¯æ¬¡ç”Ÿæˆ elements åï¼Œè¿™ä¸ª elements å¯ä»¥ä¸€ç›´å­˜æ´»ã€‚å› ä¸º jQuery å‡½æ•°è¿”å›çš„ api ã€api ä¸­çš„å‡½æ•°é‡Œä»ç„¶åœ¨è·å– elements ä¸”å‡½æ•°è¿”å›å€¼æ˜¯ apiã€‚ç»†æƒ³ï¼Œè¿™å°±å¯¼è‡´ elements ä¸€ç›´åœ¨è¢«è®¿é—®ï¼Œä¸æ–­åœ¨å‡½æ•°çš„è¿”å›å€¼ä¸­è¢«è°ƒç”¨ã€‚ç›´åˆ° api æ¶ˆå¤±ï¼Œelements æ‰ä¼šæ¶ˆå¤±</li>
</ul>
</li>
<li>
<p>$div.text() å³å¯è¯»ä¹Ÿå¯å†™ï¼Œè¿™ä¸ªæ¨¡å¼å« <strong>getter/setter</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">getText</span><span class="p">()</span>
<span class="nx">setText</span><span class="p">(</span><span class="s1">&#39;newValue&#39;</span><span class="p">)</span>  <span class="c1">// ä»¥å‰éƒ½æ˜¯ä¸¤ä¸ªå‡½æ•°æ¥å®ç°è¯»ã€å†™
</span><span class="c1">// è€ŒjQueryä¸­åªç”¨ä¸€ä¸ªå‡½æ•°ï¼Œæ ¹æ®å‚æ•°ä¸ªæ•°ï¼ŒåŒºåˆ†è¯»å†™
</span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>$.fn æ˜¯ $.prototype çš„åˆ«åï¼Œè¿™å«<strong>åˆ«å</strong></p>
<ul>
<li>è¿™çš„ç¡®æ˜¯è®¾è®¡æ¨¡å¼ï¼Œå› ä¸ºåœ¨ jQuery å‰å¹¶æ²¡æœ‰äººè¿™ä¹ˆå¹²è¿‡</li>
</ul>
</li>
<li>
<p>jQuery <strong>é’ˆå¯¹ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒä»£ç </strong>ï¼Œè¿™å«<strong>é€‚é…å™¨</strong></p>
<ul>
<li>ç”µæºé€‚é…å™¨ï¼šä½ åœ¨æ—¥æœ¬ï¼Œå°±è°ƒæ•´æˆ 110vï¼Œåœ¨ä¸­å›½ï¼Œå°±è°ƒæ•´æˆ220v</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="k">if</span><span class="p">(){</span>
    
<span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(){</span>
    
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p>â€‹</p>
<p>â€‹</p>
<h3 id="è®¾è®¡æ¨¡å¼åˆ°åº•æ˜¯å•¥">è®¾è®¡æ¨¡å¼åˆ°åº•æ˜¯å•¥</h3>
<ul>
<li>è€å­è¿™ä¸ªä»£ç å†™å¾—å¤ªæ¼‚äº®äº†ï¼Œåˆ«äººè‚¯å®šä¹Ÿç”¨å¾—åˆ°ï¼ˆå»æ‰ newã€é‡è½½ã€é—­åŒ…ã€getter/setterã€åˆ«åã€é€‚é…å™¨â€¦ï¼‰</li>
<li>é‚£å°±ç»™è¿™ç§å†™æ³•å–ä¸ªåå­—å§ï¼Œæ¯”å¦‚ï¼šé€‚é…å™¨æ¨¡å¼ï¼ˆif elseï¼‰</li>
<li>è®¾è®¡æ¨¡å¼ï¼Œå°±æ˜¯å¯¹é€šç”¨ä»£ç å–ä¸ªåå­—è€Œå·²
<ul>
<li>å®é™…ä¸Šå°±æ˜¯ç¨‹åºå‘˜çš„é»‘è¯ã€è¡Œè¯</li>
</ul>
</li>
</ul>
<p>â€‹</p>
<blockquote>
<ul>
<li><strong>é€‚é…å™¨</strong>ï¼šå°±æ˜¯é’ˆå¯¹ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒä»£ç </li>
<li><strong>åˆ«å</strong>ï¼šè®©ä¸€ä¸ªåå­—ç­‰äºå¦å¤–ä¸€ä¸ªåå­—ã€</li>
<li><strong>getter/setter</strong>ï¼šä¸€ä¸ªå‡½æ•°ï¼Œæ—¢å¯ä»¥get ã€ä¹Ÿå¯ä»¥ set ï¼ˆå¯è¯»å¯å†™ï¼‰</li>
<li><strong>é—­åŒ…éšè—ç»†èŠ‚</strong>ï¼šç”Ÿæˆä¸€ä¸ªå˜é‡ï¼ˆelementsï¼‰ï¼Œä¸€ä¸ªå‡½æ•°ï¼ˆaddClassï¼‰å»è¯»è¿™ä¸ªå˜é‡</li>
<li><strong>é‡è½½</strong>ï¼šä¸€ä¸ªå‡½æ•°æ”¯æŒå¤šç§å½¢å¼çš„å‚æ•°</li>
<li><strong>ä¸ç”¨ new çš„æ„é€ å‡½æ•°</strong>ï¼šè¦çŸ¥é“æ˜¯æ€ä¹ˆä¸€å›äº‹   <code>const api = new JQuery('.test')   =&gt;   const api = $('.test')</code></li>
</ul>
</blockquote>
<p>â€‹</p>
<p>â€‹</p>
<h3 id="æˆ‘åº”è¯¥å­¦ä¹ è®¾è®¡æ¨¡å¼å—">æˆ‘åº”è¯¥å­¦ä¹ è®¾è®¡æ¨¡å¼å—ï¼Ÿ</h3>
<h4 id="è®¾è®¡æ¨¡å¼ä¸æ˜¯ç”¨æ¥å­¦çš„">è®¾è®¡æ¨¡å¼ä¸æ˜¯ç”¨æ¥å­¦çš„</h4>
<ul>
<li>ä½ çœ‹äº†è¿™äº›ä»£ç </li>
<li>ä½†ä½ å¹¶ä¸çŸ¥é“è¿™ä»£ç ç”¨æ¥è§£å†³ä»€ä¹ˆé—®é¢˜</li>
<li>çœ‹äº†ç™½çœ‹</li>
</ul>
<h4 id="è®¾è®¡æ¨¡å¼æ˜¯ç”¨æ¥æ€»ç»“çš„">è®¾è®¡æ¨¡å¼æ˜¯ç”¨æ¥æ€»ç»“çš„</h4>
<ul>
<li>
<p>ä½ åªç®¡å»å†™ä»£ç </p>
</li>
<li>
<p>æŠŠä½ çš„ä»£ç å°½é‡å†™å¥½ï¼Œä¸æ–­é‡å†™</p>
</li>
<li>
<p>æ€»ç»“ä½ çš„ä»£ç ï¼ŒæŠŠå†™å¾—å¥½çš„åœ°æ–¹æŠ½è±¡å‡ºæ¥</p>
<ul>
<li>
<p>çœ‹çœ‹ç¬¦åˆå“ªä¸ªè®¾è®¡æ¨¡å¼</p>
<p>ï¼ˆå¹¶ä¸æ˜¯çŸ¥é“è®¾è®¡æ¨¡å¼æ‰è¿™ä¹ˆå†™çš„ï¼Œè€Œæ˜¯å†™å®Œåå‘ç°ï¼Œå±…ç„¶ç”¨åˆ°äº†è®¾è®¡æ¨¡å¼ï¼‰</p>
</li>
<li>
<p>ä½ å°±å¯ä»¥å‘Šè¯‰åˆ«äººä½ ç”¨åˆ°äº†è¿™å‡ ä¸ªè®¾è®¡æ¨¡å¼</p>
</li>
<li>
<p>æ˜¾å¾—ä½ ç‰¹åˆ«é«˜ç«¯</p>
</li>
</ul>
</li>
</ul>
<p>â€‹</p>
<p>â€‹</p>
<h3 id="æœ‰äººè¯´ä¸ç”¨å­¦-jquery">æœ‰äººè¯´ä¸ç”¨å­¦ jQuery</h3>
<h4 id="çœŸç›¸">çœŸç›¸</h4>
<ul>
<li>jQuery è¿™ä¹ˆç®€å•ã€ç»å…¸çš„åº“ï¼Œä¸ºä»€ä¹ˆä¸å­¦ï¼Ÿ</li>
<li>é€šè¿‡ jQuery å¯ä»¥å­¦ä¼šå¾ˆå¤šå°è£…æŠ€å·§ï¼Œä¸ºä»€ä¹ˆä¸å­¦ï¼Ÿ
<ul>
<li>æŠŠä¸€ä¸ªå˜é‡æ”¾åˆ°å‡½æ•°é‡Œé¢ã€æš´éœ²å‡º apiï¼Œapi å¯ä»¥æ“ä½œå˜é‡ï¼Œè¿™å°±æ˜¯ å°è£…</li>
</ul>
</li>
<li>è¿ jQuery éƒ½ç†è§£ä¸äº†ï¼ŒVue / React è‚¯å®šå­¦ä¸å¥½</li>
</ul>
<h4 id="æ¨èæ–‡ç« ">æ¨èæ–‡ç« </h4>
<ul>
<li>ã€Š<a href="https://fangyinghang.com/why-still-jquery/" target="_blank" rel="noopener noreffer">jQueryéƒ½è¿‡æ—¶äº†ï¼Œé‚£æˆ‘è¿˜å­¦å®ƒå¹²å˜›ï¼Ÿ</a>ã€‹</li>
</ul>]]></description>
</item><item>
    <title>jQuery çš„è®¾è®¡æ€æƒ³ï¼ˆä¸Šï¼‰</title>
    <link>https://liubingxuan.xyz/dom-jquery-handwritten/</link>
    <pubDate>Sat, 24 Oct 2020 01:23:34 &#43;0800</pubDate>
    <author>ä½œè€…</author>
    <guid>https://liubingxuan.xyz/dom-jquery-handwritten/</guid>
    <description><![CDATA[<p>â€‹</p>
<h2 id="å‰è¨€">å‰è¨€</h2>
<ul>
<li>æœ¬èŠ‚å†…å®¹ï¼ŒæŠŠä¸ŠèŠ‚å°è£…çš„ dom ä»£ç ï¼Œæ”¹ç”¨ jQuery é£æ ¼å†æ¬¡é‡æ–°å°è£…</li>
<li>jQuery éå¸¸ç®€å•</li>
</ul>
<p>â€‹</p>
<h2 id="ç”¨-jquery-é£æ ¼é‡æ–°å°è£…">ç”¨ jQuery é£æ ¼é‡æ–°å°è£…</h2>
<blockquote>
<p>è¿™èŠ‚è¯¾ä½ å¯èƒ½ç»å¸¸å¯¹è‡ªå·±è¯´ï¼šæˆ‘æ€ä¹ˆæ²¡æƒ³åˆ°ï¼Ÿï¼</p>
</blockquote>
<h2 id="å‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ</h2>
<blockquote>
<p>æ¯èŠ‚çš„å‡†å¤‡å·¥ä½œéƒ½å·®ä¸å¤šï¼Œæºœæºœçš„ç”¨èµ·æ¥</p>
</blockquote>
<p>æ–°å»ºé¡¹ç›®ç›®å½• <a href="D:%5cJirengu%5c%e7%ac%ac1%e9%98%b6%e6%ae%b5%5c7-JS%e7%bc%96%e7%a8%8b%e6%8e%a5%e5%8f%a3%5c3-jQuery%e4%b8%ad%e7%9a%84%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%9e%8b%ef%bc%88%e4%b8%8a%ef%bc%89" rel="">dom-2</a>   &gt;    src    &gt;    index.html ã€ main.js ã€ jquery.js</p>
<h3 id="indexhtml">index.html</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;zh-CN&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span>
        <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;X-UA-Compatible&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;ie=edge&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>æ‰‹å†™jQuery<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  ä½ å¥½
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;jquery.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;main.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="jqueryjs">jquery.js</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// ç¬¬ä¸€æ­¥ï¼Œå£°æ˜  window.jQuery æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ˆï¼Ÿï¼å…ˆä¸ç”¨ç®¡ä¸ºä»€ä¹ˆæ˜¯å‡½æ•°ï¼‰
</span><span class="c1"></span><span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`æˆ‘æ˜¯jQuery`</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="mainjs">main.js</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">jQuery</span><span class="p">()</span> <span class="c1">// window.jQuery()    // outputï¼šæˆ‘æ˜¯jQuery
</span></code></pre></td></tr></table>
</div>
</div><h3 id="å¼€å¯æœ¬åœ°æœåŠ¡">å¼€å¯æœ¬åœ°æœåŠ¡</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">yarn</span> <span class="nx">global</span> <span class="nx">add</span> <span class="nx">parcel</span>
<span class="nx">parcel</span> <span class="nx">src</span><span class="o">/</span><span class="nx">index</span><span class="p">.</span><span class="nx">html</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<p>â€‹</p>
<h2 id="é“¾å¼é£æ ¼-">é“¾å¼é£æ ¼ â¤ï¸</h2>
<blockquote>
<p>çœ‹ä¸€ä¸‹æˆ‘ä»¬å°±è¦å®ç°ä¸€ä¸ªä»€ä¹ˆçš„ä»£ç  ğŸ‘‡</p>
</blockquote>
<h3 id="ä¹Ÿå«-jquery-é£æ ¼">ä¹Ÿå« jQuery é£æ ¼</h3>
<ul>
<li>window.jQuery() æ˜¯æˆ‘ä»¬æä¾›çš„å…¨å±€å‡½æ•°</li>
</ul>
<h3 id="ç‰¹æ®Šå‡½æ•°-jquery">ç‰¹æ®Šå‡½æ•° jQuery</h3>
<ul>
<li><code>jQuery(é€‰æ‹©å™¨) </code> ç”¨äºè·å–å¯¹åº”çš„å…ƒç´ </li>
<li>ä½†å®ƒå´ä¸è¿”å›è¿™äº›å…ƒç´ </li>
<li>ç›¸åï¼Œå®ƒè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œç§°ä¸º <strong>jQuery æ„é€ å‡ºæ¥çš„å¯¹è±¡</strong>    <a href="" rel="">ï¼ˆ ä¹Ÿå°±æ˜¯æœ€åˆä»£ç ä¸­çš„é‚£ä¸ª api ï¼‰</a></li>
<li>è¿™ä¸ªå¯¹è±¡å¯ä»¥æ“ä½œå¯¹åº”çš„å…ƒç´ </li>
<li>å¬ä¸æ‡‚ï¼Ÿç›´æ¥å†™ä»£ç ï¼</li>
<li><a href="D:%5cJirengu%5c%e7%ac%ac1%e9%98%b6%e6%ae%b5%5c7-JS%e7%bc%96%e7%a8%8b%e6%8e%a5%e5%8f%a3%5c3-jQuery%e4%b8%ad%e7%9a%84%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%9e%8b%ef%bc%88%e4%b8%8a%ef%bc%89" rel="">æœ¬åœ°é¡¹ç›®dom-2</a></li>
</ul>
<p>â€‹</p>
<h3 id="ä»£ç -">ä»£ç  â­•ï¸</h3>
<h4 id="indexhtml-1">index.html</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;test&#34;</span><span class="p">&gt;</span>ä½ å¥½1<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;test&#34;</span><span class="p">&gt;</span>ä½ å¥½2<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;test&#34;</span><span class="p">&gt;</span>ä½ å¥½3<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;jquery.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;main.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="jqueryjs-1">jquery.js</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// ç¬¬ä¸€æ­¥ï¼Œå£°æ˜  window.jQuery æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ˆï¼Ÿï¼ï¼‰ï¼ˆå…ˆä¸ç”¨ç®¡ä¸ºä»€ä¹ˆæ˜¯å‡½æ•°ï¼‰
</span><span class="c1"></span><span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">selector</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">elements</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">selector</span><span class="p">)</span>  <span class="c1">// è·å– selector çš„å…¨éƒ¨å…ƒç´ ï¼ˆå¾—åˆ°ä¸€ä¸ªæ•°ç»„ï¼‰
</span><span class="c1"></span>  <span class="c1">// return elements
</span><span class="c1"></span>  <span class="c1">// å¸¸è§„æ“ä½œï¼šå°±ç›´æ¥è¿”å›è¿™ä¸ªé€šè¿‡é€‰æ‹©å™¨æ‰¾åˆ°çš„å…ƒç´ ã€‚
</span><span class="c1"></span>  <span class="c1">// ä½†jQueryåšäº†åå¸¸è§„çš„æ“ä½œï¼šè·å–åˆ°å…ƒç´ åï¼Œæ²¡æœ‰è¿”å›è¿™ä¸ªå…ƒç´ ï¼Œè€Œæ˜¯è¿”å›äº†å¯ä»¥æ“ä½œè¿™ä¸ªå…ƒç´ çš„ api
</span><span class="c1"></span>  <span class="c1">// å¦‚ä¸‹ï¼š
</span><span class="c1"></span>  <span class="c1">// api å¯ä»¥æ“ä½œ elements
</span><span class="c1"></span>  <span class="c1">// api æ˜¯ä¸ªå¯¹è±¡ï¼Œé‡Œé¢åŒ…å«å„ç§å¯ä»¥æ“ä½œ elements çš„å‡½æ•°ã€‚
</span><span class="c1"></span>  <span class="c1">// å¦‚ï¼ŒaddClass å°±æ˜¯ç»™ elements æ·»åŠ ç±»åçš„å‡½æ•°
</span><span class="c1"></span>  <span class="kr">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// å‡½æ•°å†…è®¿é—®äº†å‡½æ•°å¤–éƒ¨çš„å˜é‡ï¼Œè¿™å°±æ˜¯ã€Œé—­åŒ…ã€
</span><span class="c1"></span>    <span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// elements æ˜¯ addClass è¿™ä¸ªå‡½æ•°å¤–éƒ¨çš„å˜é‡
</span><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// éå†æ‰€æœ‰è·å–åˆ°çš„å…ƒç´ ï¼Œæ·»åŠ ç±»å
</span><span class="c1"></span>        <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span>
        
      <span class="p">}</span>
      <span class="c1">// return null
</span><span class="c1"></span>      <span class="k">return</span> <span class="nx">api</span>  <span class="c1">// è¿”å›å€¼æ˜¯ apiï¼Œè€Œ api é‡Œæœ‰å¾ˆå¤šæ–¹æ³•ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡è¿”å›å€¼ç»§ç»­è°ƒç”¨.addClass å½¢æˆä¸€ä¸ªé“¾æ¡
</span><span class="c1"></span>    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">api</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="mainjs-1">main.js</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="s2">&#34;.test&#34;</span><span class="p">)</span> <span class="c1">// é€šè¿‡é€‰æ‹©å™¨è·å–åˆ°å…ƒç´ ï¼Œä½†ä¸è¿”å›è¯¥å…ƒç´ ï¼Œè¿”å› api å¯¹è±¡ (apiå¯¹è±¡é‡Œæœ‰å¾ˆå¤šæ–¹æ³•)
</span><span class="c1">// console.log(api.addClass)
</span><span class="c1">// éå†æ‰€æœ‰è·å–åˆ°çš„å…ƒç´ ï¼Œæ·»åŠ  .red ç±»å
</span><span class="c1"></span><span class="nx">api</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">&#34;red&#34;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="c1">// api.addClass è¿”å›å€¼æ˜¯ apiï¼Œè€Œ api é‡Œæœ‰å¾ˆå¤šæ–¹æ³•ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡è¿”å›å€¼ç»§ç»­è°ƒç”¨.addClass å½¢æˆä¸€ä¸ªé“¾æ¡
</span></code></pre></td></tr></table>
</div>
</div><p></p>
<p>â€‹</p>
<h3 id="jquery-ä»£ç å˜å‹-1">jQuery ä»£ç å˜å‹ 1ï¸âƒ£</h3>
<blockquote>
<p>ä¸‹é¢çš„ return çš„å˜åŒ–ï¼Œå¿…é¡»ç†è§£</p>
</blockquote>
<h4 id="return-çš„éªšæ“ä½œ--1">return çš„éªšæ“ä½œ  1ï¸âƒ£</h4>
<blockquote>
<p>ç”¨ this ä»£æ›¿ api</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">selector</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">elements</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">selector</span><span class="p">)</span>  <span class="c1">// è·å– selector çš„å…¨éƒ¨å…ƒç´ ï¼ˆå¾—åˆ°ä¸€ä¸ªæ•°ç»„ï¼‰
</span><span class="c1"></span>  <span class="kr">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span> 
        <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span>
        
      <span class="p">}</span>
      <span class="c1">// return api
</span><span class="c1"></span>      <span class="k">return</span> <span class="k">this</span>  
      <span class="cm">/*
</span><span class="cm">      * å¦‚æœç”¨ä¸€ä¸ªå¯¹è±¡æ¥è°ƒç”¨å‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°ä¸­çš„thisï¼Œå°±æ˜¯å‰é¢çš„å¯¹è±¡
</span><span class="cm">      * obj.fn(p1) ç­‰ä»·äº â†“
</span><span class="cm">      * obj.fn.call(obj, p1)   // åœ¨fnä¸­ï¼Œthiså°±æ˜¯obj
</span><span class="cm">      * è°ƒç”¨æ—¶ api.addClass(&#34;red&#34;) =&gt; åŒç†ï¼Œåœ¨ addClass ä¸­ this å°±æ˜¯ apiï¼ŒäºŒè€…ç­‰ä»·
</span><span class="cm">      * é‚£ addClass å‡½æ•°ä¸­ï¼ŒåŸæœ¬æ˜¯ return apiï¼Œå°±å¯ä»¥æ¢æˆ return this
</span><span class="cm">      * æ³¨ï¼šthis çš„å€¼ï¼Œä¸è°ƒç”¨æ—¶å‰é¢å†™äº†ä»€ä¹ˆæœ‰å…³ï¼Œåªåœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶æ‰èƒ½ç¡®å®šthisæŒ‡ä»£ä»€ä¹ˆ
</span><span class="cm">      * */</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">api</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="return-çš„éªšæ“ä½œ--2">return çš„éªšæ“ä½œ  2ï¸âƒ£</h4>
<blockquote>
<p>å®Œå…¨å»æ‰ jQuery ä¸­çš„ <code>api</code></p>
<ul>
<li>æ—¢ç„¶å…ˆåˆ›å»ºäº† api å¯¹è±¡ï¼Œç„¶åè¿”å› api å¯¹è±¡ï¼Œé‚£æ˜¯ä¸æ˜¯å¯ä»¥ç›´æ¥è¿”å›å¯¹è±¡ï¼Œçœç•¥ api çš„èµ‹å€¼ç¯èŠ‚ å‘¢ï¼Ÿ</li>
<li>å²‚ä¸æ˜¯ã€Œå¤šæ­¤ä¸€ä¸¾ã€</li>
</ul>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">selector</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">elements</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">selector</span><span class="p">)</span> 
  <span class="kr">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="p">{</span>  <span class="c1">// &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
</span><span class="c1"></span>    <span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span>
        
      <span class="p">}</span>
      <span class="k">return</span> <span class="k">this</span> 
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">api</span>    <span class="c1">// &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
</span><span class="c1"></span><span class="p">}</span>

<span class="c1">// çœç•¥ api çš„èµ‹å€¼ç¯èŠ‚ ğŸ‘‡ 
</span><span class="c1"></span><span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">selector</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">elements</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">selector</span><span class="p">)</span>  <span class="c1">// è·å– selector çš„å…¨éƒ¨å…ƒç´ ï¼ˆå¾—åˆ°ä¸€ä¸ªæ•°ç»„ï¼‰
</span><span class="c1"></span>  <span class="c1">// const api = {
</span><span class="c1"></span>  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span>
        
      <span class="p">}</span>
      <span class="k">return</span> <span class="k">this</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// return api 
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<p>â€‹</p>
<h3 id="jquery-çš„æ ¸å¿ƒæ€æƒ³">jQuery çš„æ ¸å¿ƒæ€æƒ³</h3>
<blockquote>
<p>ç¬¬ä¸€ä¸ªæ ¸å¿ƒç‚¹ï¼šé—­åŒ…</p>
</blockquote>
<ol>
<li>jQuery å‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ª css é€‰æ‹©å™¨</li>
<li>é€šè¿‡é€‰æ‹©å™¨ï¼Œè·å–åˆ°è¿™ä¸ªå…ƒç´  elementsï¼ˆä½†ä¸ä¼šè¿”å›è¿™ä¸ªå…ƒç´ ï¼‰ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡</li>
<li>è¿”å›çš„å¯¹è±¡ä¸­ï¼ŒåŒ…å«å¾ˆå¤šå‡½æ•°ã€‚è¿™äº›å‡½æ•°éƒ½å¯ä»¥æ“ä½œè¿™ä¸ªå…ƒç´  elements</li>
</ol>
<p>åŸç†ï¼š</p>
<ul>
<li>ç”¨ã€Œé—­åŒ…ã€å»ç»´æŒè¿™ä¸ª elements
<ul>
<li>å› ä¸º addClass å‡½æ•°åœ¨è®¿é—® elementsã€‚è¢«è®¿é—®çš„å˜é‡ï¼Œæ˜¯ä¸ä¼šéšä¾¿å°±è¢«æµè§ˆå™¨å›æ”¶æ‰çš„</li>
<li>è¿™å°±æ˜¯ jQuery çš„æ ¸å¿ƒæ€æƒ³ä¹‹ä¸€</li>
</ul>
</li>
</ul>
<blockquote>
<p>ç¬¬äºŒä¸ªæ ¸å¿ƒç‚¹ï¼šé“¾å¼æ“ä½œ</p>
</blockquote>
<ul>
<li>addClass å‡½æ•°ï¼Œè‚¯å®šèƒ½çŒœåˆ°ï¼šç”¨æˆ·åœ¨è°ƒç”¨ addClass æ—¶ï¼Œè‚¯å®šæ˜¯é€šè¿‡<code> jQuery(é€‰æ‹©å™¨)</code> å¾—åˆ°çš„ api æ¥è°ƒç”¨çš„</li>
<li>æ‰€ä»¥æ‰ä¼šå¤§èƒ†çš„ return thisã€‚</li>
<li>addClass å‡½æ•°ï¼Œå¸Œæœ›æŠŠ ã€Œç‚¹ . ã€å‰é¢çš„ä¸œè¥¿ï¼Œä½œä¸º addClass çš„è¿”å›å€¼  <code>api.addClass(&quot;red&quot;)</code></li>
<li>è¿™æ ·å°±ç›¸å½“äºï¼Œapi ä» addClass å‡½æ•°å‰é¢ï¼Œä¼ é€’åˆ°äº†å‡½æ•°åé¢ï¼Œè¿™æ ·å°±å¯ä»¥æ¥ç€è°ƒç”¨ addClass
<code>ğŸ‘‡api.addClass(&quot;red&quot;)ğŸ‘‡.addClass(&quot;blue&quot;)</code></li>
<li>è¿™å°±æ˜¯ ã€Œé“¾å¼æ“ä½œã€</li>
</ul>
<p>â€‹</p>
<h3 id="jquery-ä»£ç å˜å‹-2">jQuery ä»£ç å˜å‹ 2ï¸âƒ£</h3>
<h4 id="mainjs-ç®€åŒ–è°ƒç”¨">main.js ç®€åŒ–è°ƒç”¨</h4>
<blockquote>
<p>å»æ‰å˜é‡ x</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="s2">&#34;.test&#34;</span><span class="p">)</span>  <span class="c1">// å£°æ˜å‡ºæ¥ x ï¼Œæ¥ç€ç›´æ¥ä½¿ç”¨ã€‚é‚£èµ‹å€¼æ“ä½œï¼Œæ˜¾å¾—å¤šæ­¤ä¸€ä¸¾
</span><span class="c1"></span><span class="nx">x</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">&#34;red&#34;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>

<span class="c1">// ğŸ‘‡ æœ€ç»ˆå†™æˆ ğŸ‘‡
</span><span class="c1"></span><span class="nx">jQuery</span><span class="p">(</span><span class="s2">&#34;.test&#34;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">&#34;red&#34;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h3 id="å°æ€»ç»“">å°æ€»ç»“</h3>
<ul>
<li>æ‰€è°“é«˜çº§çš„å‰ç«¯ä»£ç ï¼Œå°±æ˜¯æŠŠä¸­é—´è¿‡ç¨‹å…¨éƒ¨çœæ‰äº†</li>
<li>æŠŠæ‰€æœ‰å¤šæ¬¡ä¸€ä¸¾ã€æ— å…³ç´§è¦çš„ä¸œè¥¿ï¼Œéƒ½å°½é‡åˆ æ‰ã€‚</li>
<li>æœ€ååªç•™ä¸‹ä¸€ä¸ªæœ€å°‘ä¿¡æ¯çš„ã€æœ€ç²¾ç‚¼çš„ä»£ç ã€‚</li>
<li>è™½ç„¶ä»£ç ç‰¹åˆ«ç®€æ´ã€ä¼˜é›…ï¼Œä½†å¯¹äºå­¦ä¹ è€…æ¥è¯´ï¼Œå°±æ˜¯çœ‹ä¸æ‡‚ã€‚ï¼ˆè¯´æ˜ã€Œæºç ã€çœŸçš„ä¸é€‚åˆå­¦ä¹ è€…ï¼‰</li>
</ul>
<p>â€‹</p>
<p>â€‹</p>
<h2 id="jquery-æ˜¯æ„é€ å‡½æ•°å—">jQuery æ˜¯æ„é€ å‡½æ•°å—ï¼Ÿ</h2>
<blockquote>
<p>è®²åˆ°è¿™é‡Œå¯èƒ½ä¼šæœ‰è¿™ä¸ªç–‘é—® ğŸ‘†</p>
</blockquote>
<blockquote>
<p>æ„é€ å‡½æ•°çš„ç‰¹ç‚¹ï¼šâ‘  å‰é¢æœ‰ new      â‘¡ æ„é€ å‡ºå¯¹è±¡</p>
<ul>
<li>ç»“åˆè¿™ä¸¤ä¸ªç‰¹ç‚¹ï¼Œå¯ä»¥è®¤ä¸º  jQuery æ˜¯æ„é€ å‡½æ•°ï¼Œä¹Ÿå¯ä»¥è®¤ä¸ºä¸æ˜¯æ„é€ å‡½æ•°</li>
</ul>
</blockquote>
<h3 id="æ˜¯">æ˜¯</h3>
<ul>
<li>å› ä¸º jQuery å‡½æ•°ç¡®å®æ„é€ å‡ºäº†ä¸€ä¸ªå¯¹è±¡</li>
</ul>
<h3 id="ä¸æ˜¯">ä¸æ˜¯</h3>
<ul>
<li>å› ä¸ºä¸éœ€è¦å†™ new jQuery() å°±èƒ½æ„é€ ä¸€ä¸ªå¯¹è±¡</li>
<li>ä»¥å‰è®²çš„æ„é€ å‡½æ•°éƒ½è¦ç»“åˆ new æ‰è¡Œ</li>
</ul>
<h3 id="ç»“è®º">ç»“è®º</h3>
<ul>
<li>jQuery æ˜¯ä¸€ä¸ªä¸éœ€è¦åŠ  new ï¼ˆå°±å¯ä»¥æ„é€ å‡ºå¯¹è±¡ï¼‰çš„æ„é€ å‡½æ•°</li>
<li>jQuery ä¸æ˜¯å¸¸è§„æ„ä¹‰ï¼ˆä¸¥æ ¼æ„ä¹‰ï¼‰ä¸Šçš„æ„é€ å‡½æ•°</li>
<li>è¿™æ˜¯å› ä¸º jQuery ç”¨äº†ä¸€äº›æŠ€å·§ï¼ˆç›®å‰æ²¡å¿…è¦è®²ï¼Œè®²äº†æ–°æ‰‹å°±æ›´è¿·æƒ‘äº†ï¼‰</li>
</ul>
<p>â€‹</p>
<p>â€‹</p>
<h2 id="æœ¯è¯­">æœ¯è¯­</h2>
<h3 id="å£å¤´çº¦å®š-">å£å¤´çº¦å®š ğŸ‘„</h3>
<blockquote>
<p>[å‰é¢](# ç‰¹æ®Šå‡½æ•° jQuery)æåˆ°ï¼šjQuery å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œç§°ä¸º **jQuery æ„é€ å‡ºæ¥çš„å¯¹è±¡ ** <a href="" rel="">ï¼ˆ ä¹Ÿå°±æ˜¯æœ€åˆä»£ç ä¸­çš„é‚£ä¸ª api ï¼‰</a></p>
</blockquote>
<p>å£å¤´çº¦å®šï¼š</p>
<ul>
<li>ä»¥åè¯´åˆ° <strong>jQueryå¯¹è±¡</strong> å°±ä»£æŒ‡ <a href="" rel="">jQueryå‡½æ•° æ„é€ å‡ºæ¥çš„å¯¹è±¡</a>   ï¼ˆä¸ºäº†çœäº‹ï¼Œå°‘è¯´å‡ ä¸ªå­—ï¼‰</li>
<li>ä¸æ˜¯è¯´ ã€Œ jQuery è¿™ä¸ªå¯¹è±¡ ã€</li>
<li>ä¸€å®šè¦è®°æ¸…æ¥š</li>
</ul>
<p>â€‹</p>
<h3 id="å…¶ä»–ä¸¾ä¾‹">å…¶ä»–ä¸¾ä¾‹</h3>
<ul>
<li>Object æ˜¯ä¸ªå‡½æ•°</li>
<li><strong>Object å¯¹è±¡</strong>ï¼Œè¡¨ç¤º Object è¿™ä¸ªæ„é€ å‡½æ•° æ„é€ å‡ºæ¥çš„å¯¹è±¡ï¼ˆä¸æ˜¯ Object æœ¬èº«æ˜¯å¯¹è±¡ï¼‰</li>
<li>Array æ˜¯ä¸ªå‡½æ•°</li>
<li><strong>Array å¯¹è±¡/æ•°ç»„å¯¹è±¡</strong>ï¼Œè¡¨ç¤º Array æ„é€ å‡ºæ¥çš„å¯¹è±¡ï¼ˆä¸æ˜¯ Array æœ¬èº«æ˜¯å¯¹è±¡ï¼‰</li>
<li>Function æ˜¯ä¸ªå‡½æ•°</li>
<li><strong>Function å¯¹è±¡ / å‡½æ•°å¯¹è±¡</strong>ï¼Œè¡¨ç¤º Function æ„é€ å‡ºæ¥çš„å¯¹è±¡ï¼ˆä¸æ˜¯ Function æœ¬èº«æ˜¯å¯¹è±¡ï¼‰</li>
</ul>
<p>â€‹</p>
<p>â€‹</p>
<h2 id="æ›´å¤šåŠŸèƒ½çš„å°è£…-">æ›´å¤šåŠŸèƒ½çš„å°è£… â­•ï¸</h2>
<blockquote>
<p>é“¾å¼é£æ ¼</p>
</blockquote>
<blockquote>
<p>ğŸ“ŒğŸ“ŒğŸ“ŒğŸ“ŒğŸ“ŒğŸ“ŒğŸ“ŒğŸ“Œæ›´å¤šä»£ç å®ç°ã€è§£æã€æ³¨é‡Šï¼Œè¯·æŸ¥çœ‹<a href="D:%5cJirengu%5c%e7%ac%ac1%e9%98%b6%e6%ae%b5%5c7-JS%e7%bc%96%e7%a8%8b%e6%8e%a5%e5%8f%a3%5c3-jQuery%e4%b8%ad%e7%9a%84%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%9e%8b%ef%bc%88%e4%b8%8a%ef%bc%89" rel="">æœ¬åœ°é¡¹ç›®dom-2</a> ğŸ“ŒğŸ“ŒğŸ“ŒğŸ“ŒğŸ“ŒğŸ“ŒğŸ“ŒğŸ“Œ</p>
</blockquote>
<h3 id="æŸ¥">æŸ¥</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#xxx&#39;</span><span class="p">)</span>                <span class="c1">// è¿”å›å€¼å¹¶ä¸æ˜¯å…ƒç´ ï¼Œè€Œæ˜¯ä¸€ä¸ªapiå¯¹è±¡ 
</span><span class="c1"></span><span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#xxx&#39;</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.red&#39;</span><span class="p">)</span>   <span class="c1">// æŸ¥æ‰¾#xxxé‡Œçš„.redå…ƒç´  
</span><span class="c1"></span><span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#xxx&#39;</span><span class="p">).</span><span class="nx">parent</span><span class="p">()</span>       <span class="c1">// è·å–çˆ¸çˆ¸ 
</span><span class="c1"></span><span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#xxx&#39;</span><span class="p">).</span><span class="nx">children</span><span class="p">()</span>     <span class="c1">// è·å–å„¿å­ 
</span><span class="c1"></span><span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#xxx&#39;</span><span class="p">).</span><span class="nx">siblings</span><span class="p">()</span>     <span class="c1">// è·å–å…„å¼Ÿ 
</span><span class="c1"></span><span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#xxx&#39;</span><span class="p">).</span><span class="nx">index</span><span class="p">()</span>        <span class="c1">// è·å–æ’è¡Œè€å‡ ï¼ˆä»0å¼€å§‹ï¼‰ 
</span><span class="c1"></span><span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#xxx&#39;</span><span class="p">).</span><span class="nx">next</span><span class="p">()</span>         <span class="c1">// è·å–å¼Ÿå¼Ÿ 
</span><span class="c1"></span><span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#xxx&#39;</span><span class="p">).</span><span class="nx">prev</span><span class="p">()</span>         <span class="c1">// è·å–å“¥å“¥ 
</span><span class="c1"></span><span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;.red&#39;</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="nx">fn</span><span class="p">)</span>       <span class="c1">// éå†å¹¶å¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œfn
</span></code></pre></td></tr></table>
</div>
</div><h4 id="ä»£ç ">ä»£ç </h4>
<p><a href="D:%5cJirengu%5c%e7%ac%ac1%e9%98%b6%e6%ae%b5%5c7-JS%e7%bc%96%e7%a8%8b%e6%8e%a5%e5%8f%a3%5c3-jQuery%e4%b8%ad%e7%9a%84%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%9e%8b%ef%bc%88%e4%b8%8a%ef%bc%89" rel="">æœ¬åœ°é¡¹ç›®dom-2</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">selectorOrArray</span><span class="p">)</span> <span class="p">{</span>
  <span class="cm">/*
</span><span class="cm">  * elements æ°¸è¿œè¡¨ç¤ºé€‰æ‹©å™¨çš„ç›®æ ‡å…ƒç´ çš„é›†åˆï¼ˆä¼ªæ•°ç»„ï¼‰
</span><span class="cm">  * */</span>
  <span class="kd">let</span> <span class="nx">elements</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">selectorOrArray</span> <span class="o">===</span> <span class="s2">&#34;string&#34;</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// é‡è½½
</span><span class="c1"></span>    <span class="nx">elements</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">selectorOrArray</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">selectorOrArray</span> <span class="k">instanceof</span> <span class="nb">Array</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">elements</span> <span class="o">=</span> <span class="nx">selectorOrArray</span>
  <span class="p">}</span>
  <span class="c1">// ğŸ‘‡ è¿”å› jQueryå‡½æ•° æ„é€ çš„å¯¹è±¡ apiï¼ˆthiså°±æ˜¯è¿™ä¸ªapiã€apiå¯ä»¥æ“ä½œelementsï¼‰
</span><span class="c1"></span>  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="k">this</span>
    <span class="p">},</span>
    <span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">let</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">array</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">selector</span><span class="p">)))</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>  <span class="c1">// &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; é‡ç‚¹ç†è§£è¿™å¥ ã€ä»£ç åˆ†æï¼Œè§æœ¬åœ°é¡¹ç›®dom-2çš„æ³¨é‡Šã€‘
</span><span class="c1"></span>    <span class="p">},</span>
    <span class="nx">oldApi</span><span class="o">:</span> <span class="nx">selectorOrArray</span><span class="p">.</span><span class="nx">oldApi</span><span class="p">,</span>
    <span class="nx">end</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">oldApi</span>
    <span class="p">},</span>
    <span class="nx">each</span><span class="p">(</span><span class="nx">fn</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">fn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">elements</span><span class="p">)</span>  <span class="c1">// éå†æ¯é¡¹ï¼Œå¯¹æ¯ä¸€é¡¹éƒ½æ‰§è¡ŒæŸä¸ªæ–¹æ³•
</span><span class="c1"></span>      <span class="p">}</span>
      <span class="k">return</span> <span class="k">this</span>
    <span class="p">},</span>
    <span class="nx">print</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">elements</span><span class="p">)</span>
      <span class="k">return</span> <span class="k">this</span>
    <span class="p">},</span>
		<span class="nx">parent</span><span class="p">()</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">node</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">array</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// å»é‡ 
</span><span class="c1"></span>          <span class="nx">array</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">)</span>
        <span class="p">}</span>
      <span class="p">})</span>
      <span class="nx">array</span><span class="p">.</span><span class="nx">oldApi</span> <span class="o">=</span> <span class="k">this</span>
      <span class="k">return</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nx">children</span><span class="p">()</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">node</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">children</span><span class="p">)</span> <span class="p">{</span> 
          <span class="nx">array</span><span class="p">.</span><span class="nx">push</span><span class="p">(...</span><span class="nx">node</span><span class="p">.</span><span class="nx">children</span><span class="p">)</span>  <span class="c1">// &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
</span><span class="c1"></span>        <span class="p">}</span>
      <span class="p">})</span>
      <span class="nx">array</span><span class="p">.</span><span class="nx">oldApi</span> <span class="o">=</span> <span class="k">this</span>
      <span class="k">return</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="cm">/********************* ä¸‹é¢çš„è¯¾ä¸Šæœªè®² *********************/</span>
    <span class="cm">/*
</span><span class="cm">    siblings()
</span><span class="cm">    index()
</span><span class="cm">    next()
</span><span class="cm">    prev()
</span><span class="cm">    */</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<h4 id="ç»ƒä¹ ">ç»ƒä¹ </h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="cm">/*
</span><span class="cm">  &lt;div id=&#34;test&#34;&gt;
</span><span class="cm">    &lt;div class=&#34;child&#34;&gt;1&lt;/div&gt;
</span><span class="cm">    &lt;div class=&#34;child&#34;&gt;2&lt;/div&gt;
</span><span class="cm">    &lt;div class=&#34;child&#34;&gt;3&lt;/div&gt;
</span><span class="cm">  &lt;/div&gt;
</span><span class="cm">*/</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">selectorOrArray</span><span class="p">){</span>
  <span class="kd">let</span> <span class="nx">elements</span>
  <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">selectorOrArray</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span><span class="p">){</span>
    <span class="nx">elements</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">selectorOrArray</span><span class="p">)</span>
  <span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">selectorOrArray</span> <span class="k">instanceof</span> <span class="nb">Array</span><span class="p">){</span>
    <span class="nx">elements</span> <span class="o">=</span> <span class="nx">selectorOrArray</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">){</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">n</span><span class="p">=&gt;</span><span class="nx">n</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">className</span><span class="p">))</span>
    <span class="p">},</span>
    <span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">){</span>
      <span class="kd">let</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">n</span><span class="p">=&gt;{</span>
        <span class="nx">array</span><span class="p">.</span><span class="nx">push</span><span class="p">(...</span><span class="nx">n</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">selector</span><span class="p">))</span>
      <span class="p">})</span>
      <span class="k">return</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nx">each</span><span class="p">(</span><span class="nx">fn</span><span class="p">){</span>
      <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span>
        <span class="nx">fn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">i</span><span class="p">)</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nb">window</span><span class="p">.</span><span class="nx">$</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#test&#39;</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.child&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">)</span> <span class="c1">// è¯·ç¡®ä¿è¿™å¥è¯æˆåŠŸæ‰§è¡Œ
</span></code></pre></td></tr></table>
</div>
</div><h3 id="å¢">å¢</h3>
<blockquote>
<p>åªæ‹ä¸€æ‹æ€è·¯ï¼Œ<a href="https://github.com/FrankFang/dom-2-prototype/blob/master/src/jquery.js" target="_blank" rel="noopener noreffer">æœ€ç»ˆä»£ç </a></p>
</blockquote>
<h4 id="ä»£ç -1">ä»£ç </h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// å…ˆç®€å•å›é¡¾ dom åˆ›å»ºèŠ‚ç‚¹ ğŸ‘‡ï¼ˆä¸¤ç§æ–¹å¼ï¼‰
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">)</span>  <span class="c1">// â‘ ä¼ å…¥æ ‡ç­¾å
</span><span class="c1"></span><span class="nx">template</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;&lt;div&gt;&lt;/div&gt;&#39;</span>  <span class="c1">// â‘¡ä¼ å…¥htmlç»“æ„ï¼Œæœ€åè¿”å› template.content.firstChild
</span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">$</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">selectorOrArrayOrTemplate</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">elements</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">selectorOrArrayOrTemplate</span> <span class="o">===</span> <span class="s2">&#34;string&#34;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">selectorOrArrayOrTemplate</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">===</span> <span class="s2">&#34;&lt;&#34;</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// åˆ›å»º div
</span><span class="c1"></span>      <span class="nx">elements</span> <span class="o">=</span> <span class="p">[</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">selectorOrArrayOrTemplate</span><span class="p">)];</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="c1">// æŸ¥æ‰¾ div
</span><span class="c1"></span>      <span class="nx">elements</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">selectorOrArrayOrTemplate</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">selectorOrArrayOrTemplate</span> <span class="k">instanceof</span> <span class="nb">Array</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">elements</span> <span class="o">=</span> <span class="nx">selectorOrArrayOrTemplate</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">createElement</span><span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">container</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&#34;template&#34;</span><span class="p">);</span>
    <span class="nx">container</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">trim</span><span class="p">();</span>
    <span class="k">return</span> <span class="nx">container</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">;</span>
  <span class="p">}</span>
	
  <span class="c1">// è¿”å›jQueryåˆ›å»ºçš„api
</span><span class="c1"></span>  <span class="k">return</span><span class="p">{</span>
    <span class="nx">appendTo</span><span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">node</span> <span class="k">instanceof</span> <span class="nx">Element</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">el</span> <span class="p">=&gt;</span> <span class="nx">node</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">el</span><span class="p">));</span>
      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">jquery</span> <span class="o">===</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">el</span> <span class="p">=&gt;</span> <span class="nx">node</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">el</span><span class="p">));</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="c1">// ...
</span><span class="c1"></span>  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// åˆ›å»º divï¼Œæ’å…¥åˆ° body ä¸­
</span><span class="c1"></span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;div&gt;&lt;span&gt;1&lt;/span&gt;&lt;/div&gt;&#39;</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">)</span> 
</code></pre></td></tr></table>
</div>
</div><h3 id="åˆ ">åˆ </h3>
<blockquote>
<p>å’Œdomå®ç°é€»è¾‘ä¸€æ ·</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$div</span><span class="p">.</span><span class="nx">remove</span><span class="p">()</span> 
<span class="nx">$div</span><span class="p">.</span><span class="nx">empty</span><span class="p">()</span>  
</code></pre></td></tr></table>
</div>
</div><h3 id="æ”¹">æ”¹</h3>
<blockquote>
<p>å’Œdomå®ç°é€»è¾‘ä¸€æ ·</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$div</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="o">?</span><span class="p">)</span> <span class="c1">// è¯»å†™æ–‡æœ¬å†…å®¹  // ä¼ äº†å‚æ•°å°±æ˜¯ã€Œå†™ã€ï¼Œä¸ä¼ å‚æ•°å°±æ˜¯ã€Œè¯»ã€
</span><span class="c1"></span><span class="nx">$div</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="o">?</span><span class="p">)</span> <span class="c1">// è¯»å†™HTMLå†…å®¹  // ä¼ äº†å‚æ•°å°±æ˜¯ã€Œå†™ã€ï¼Œä¸ä¼ å‚æ•°å°±æ˜¯ã€Œè¯»ã€
</span><span class="c1"></span><span class="nx">$div</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="o">?</span><span class="err">ï¼‰</span>  <span class="c1">// è¯»å†™å±æ€§ 
</span><span class="c1"></span><span class="nx">$div</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;red&#39;</span><span class="p">})</span>  <span class="c1">// è¯»å†™style // æ³¨æ„æ–¹æ³•åæ˜¯css
</span><span class="c1"></span><span class="nx">$div</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span> 
<span class="nx">$div</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">fn</span><span class="p">)</span> 
<span class="nx">$div</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">fn</span><span class="p">)</span> <span class="err">Â·</span>  
</code></pre></td></tr></table>
</div>
</div><h4 id="æ³¨æ„">æ³¨æ„</h4>
<ul>
<li>$div å¤§éƒ¨åˆ†æ—¶å€™ï¼Œå¯¹åº”äº†å¤šä¸ª div å…ƒç´ </li>
<li>ä¸€å®šè¦é»˜è®¤  $div æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç„¶åéå†å®ƒ ï¼ˆæ¯ä¸ªæ“ä½œéƒ½è¦éå†ï¼‰</li>
</ul>
<p>â€‹</p>
<p>â€‹</p>
<h2 id="window--windowjquery">window.$ = window.jQuery</h2>
<blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#test&#39;</span><span class="p">)</span> <span class="c1">// æ¯æ¬¡ä½¿ç”¨éƒ½è¦è¿™ä¹ˆå†™ï¼Œå¾ˆéº»çƒ¦
</span></code></pre></td></tr></table>
</div>
</div><p>ä»€ä¹ˆï¼Ÿä½ å«Œ  jQuery  å¤ªé•¿</p>
<ul>
<li>ä½ æ˜¯å¯¹çš„</li>
<li>jQuery è¿™ä¸ªå•è¯ï¼Œç¡®å®ä¸å¥½æ‹¼å†™ï¼ˆè¿˜è¦å¤§å°å†™åŒºåˆ†ï¼‰</li>
<li>æ€ä¹ˆè®© jQuery å˜å¾—æ›´çŸ­å‘¢ï¼Ÿ</li>
<li>è¿˜è®°å¾— bash alias å—ï¼Œæ·»åŠ ä¸€ä¸ªåˆ«åå³å¯</li>
</ul>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// ä¸€å®šåœ¨ä»£ç æœ€åæ·»åŠ 
</span><span class="c1"></span><span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">selectorOrArray</span><span class="p">){...}</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">$</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>ä¹‹ååœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ $ å°±ç›¸å½“äºä½¿ç”¨ jQuery</li>
<li>è¿˜å¯ä»¥å†çœäº‹ ğŸ‘‡</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">$</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">selectorOrArray</span><span class="p">){...}</span>   
<span class="c1">// å†™åœ¨ä¸€è¡Œä¸Šï¼Œé¡ºåºæ˜¯ä»å³å‘å·¦æ‰§è¡Œ
</span><span class="c1">// å…ˆæ‰§è¡Œ window.jQuery = function(){}
</span><span class="c1">// ç„¶åå†æŠŠ window.jQuery çš„ç»“æœï¼Œèµ‹å€¼ç»™ window.$
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li>è¿™å°±æ˜¯å¾ˆå¤šé«˜çº§ç¨‹åºå‘˜ä¼šä½¿ç”¨çš„å†™æ³•</li>
</ul>]]></description>
</item></channel>
</rss>
