# 前端也得懂点算法——铺垫：伪代码与流程图


<!--more-->

​	

## 前言

>   -   正式学算法之前，有一个铺垫 ——「伪代码与流程图」
>   -   铺垫，看似不重要，实际上可能会影响非常深远
>       -   我们作为前端，一般学习的第一门编程语言是 Javascript
>       -   根据之前的学习，我们可以看到 JavaScript 这门语言有很多的问题
>       -   这些问题，都会导致学习者的思维上的一些缺陷
>       -   由于你学的第一门语言是一门有问题的语言，所以导致你的编程的一些基础知识是有缺陷的。
>       -   通过「伪代码和流程图」可以很好的弥补这些缺陷

## JS 语法不难，难的是抽象概念

>   有没有发现 JS 语法不难，难的是抽象概念

>   比如，你经常发现每句都懂，加在一起就不懂（就像学英语，每个单词都懂，拼成句子就懵了）

### 举个栗子

```js
function t(fn,delay){ 
  let fn2 = () => { 
    if(fn2.timer){return} 
    fn() 
    fn2.timer = setTimeout(() => { 
      fn2.timer = null 
    }, delay) 
  }
  return fn2 
}
let f = t(() => {console.log('火球术')}, 5000) 
// 这个函数在做什么？（防抖节流 ?!）
```

>   看不懂，是因为对「抽象概念」不了解

​	

​	

## 抽象能力

>   越高级的程序员，抽象能力越强

### 编程语言也能抽象

>   懂得抽象后，JS、Python、Java、PHP 根本就没区别。
>   这就是高级程序员，能掌握多种语言的原因

#### 这些语言都有👇这些共同点 

-   声明
-   if..else...
-   while 循环、for 循环
-   函数
-   对象

#### 这意味着

-   你没有必要过分关注语言的细节
-   你应该首先理解这些语言的[不变之处](# 不变之处) 
-   然后以不变应万变

>   对于肤浅的程序员，所有新知识都是全新的。
>   而对于理解抽象的程序员，所有新东西只是原本基础知识上的抽象组合而已

​		

​	

## 不变之处

>   从第一位程序员诞生至今，有什么东西是不变的（也就是，所有程序员都认为这是有用的东西）

1.  [对编程的热爱](# 一、对编程的热爱)
2.  [逻辑](# 二、逻辑 ⭐️)
3.  [数据结构](# 三、数据结构)

（详见👇）



## 一、对编程的热爱

>   怎么会有人爱这么枯燥的玩意

1

《Just For Fun》

```
Most good programmers do programming not because they expect to get paid or get adulation by the public, but because it is fun to program.

大多数程序员愿意写代码，不是因为他们获得高额的薪水或者他人的赞誉，而是因为写代码很有意思。

—— Linus Torvalds （Linux之父、Git之父）
```

2

```
I'm not a great programmer;
I'm just a good programmer with great habits.
我不是一个牛X的程序员；
我只是一个拥有牛X的习惯的还凑活的程序员。
—— Kent Beck（极限编程创始人）
```

>   我想让你知道的是：
>
>   +   不是所有人都只为工资编程，虽然一开始是为了工资
>   +   （但最后一直坚持下去的人，都是真正热爱编程的人）

​	

#### 人们喜欢编程的原因

>   简洁之美

-   新人可能无法特别好的理解这种「简洁之美」
-   随着工作经验的积累，可能几年之后，你会发现，层次越高，代码越简洁。
-   代码越少，解决的越多，这就是编程的魅力
-   中国可能大部分公司不考虑简洁，只考虑时间、能否解决问题，不行就 996。
-   永远处在这种模式下，你会感觉不到任何美，就是单纯堆时间的体力活
-   真正的简洁美，是程序员用大脑想到一个方法，来解决一个较为复杂的问题，同时还能带来收益回报

>   要有追求
>
>   +   追求简洁的代码
>   +   追求不加班的编程，而不是靠时间堆砌的体力活

​	

​	

## 二、逻辑 ⭐️

>   所有的编程，都在使用逻辑

我们写代码，实际上就是在写逻辑

+   JS 用 JS 的语言来表达逻辑
+   Java 用 Java 的语音来表达逻辑
+   PHP 用 PHP 的语音来表达逻辑
+   …

​	

### 逻辑是什么

#### 三段论逻辑 - 1

-   命题一：JS 有 7 种数据类型：string、number、bool、symbol、undefined、null、object
-   命题二：JS 的函数不属于前六种类型
-   如果命题一、二为真，那么我们可以得到
-   推论：JS 的函数属于 object 类型

>   给出命题一、二，能发现它们之间的逻辑关系，并得出推论  ——  这就说明你是懂逻辑的



#### 三段论逻辑 - 2

-   命题一：JS 中所有函数都是由 Function 构造的 
-   命题二：Function、Object、Array 是函数 
-   推论：Function、Object、Array 是由 Function 构造的

>   逻辑是需要学习的
>
>   +   中国人比外国人缺乏「逻辑」
>   +   中国人更愿意持有混沌的思维方式，比如，二元对立、辩证统一 …中国人共容易接受这些思维方式
>   +   「逻辑」反而是一个外来的词语
>   +   「逻辑」有时候是「符合直觉」的，但又有的时候「反直觉」

​	

### 逻辑 V.S. 直觉

#### 直觉的好处

-   直觉能让你快速学会一些东西
-   比如数字、字符串、数组、对象都可以靠直觉学会

#### 直觉的坏处

-   直觉却又能阻止你学会另一些东西
-   这时你就只能依靠「逻辑」来说服自己
-   比如，虽然不知道 Function 是如何构造 Function 的，但是逻辑告诉我们，确实如此（尽管这并不符合直觉）

​	

### 如何用代码表示逻辑

#### 例1

输出两个数中较大的一个数

-   如果第1个数大于第2个数，就输出第1个数
-   否则输出第2个数

>   👇 这里只是用**代码**来表示出上述逻辑，**不限定语言/语法  **  —— [伪代码](# 伪代码)

```code
a = [12,32]
if a.get(0) > a.get(1)
	print a.get(0)
else
  print a.get(1)
```

>   可以得出一个结论
>
>   +   用 if … else … 可以表示某些逻辑 （发现规律）

​	

#### 例2

输出 N 个数中最大的一个数

-   找到第 1、2 个数字中较大的那一个，存入 max
-   找到 max 和第 3 个数字中较大的那个，存入 max
-   找到 max 和第 … 个，存入 max
-   max 就是最大的数

代码

```code
a = [12, 32, 9, 1, 23, 6]
max = a[0]
for i from 1 to a.length() - 1 
	if a.get(i) > max 
	then max = a.get(i)
print max
```

依次两两比较，找出最大

<img src="https://i.loli.net/2020/09/25/DpezK152xhkYP8O.png" alt="image-20200925182132816" style="zoom:33%;" />

​	

>   可以得出一个结论
>
>   +   用 for 循环，也可以表示某些逻辑 （又发现规律）
>   +   引出问题 👇

​	

​	

### 表示逻辑需要多少种语句

>   如果要表达所有的逻辑，应该用哪些语句 ？（表示逻辑需要多少种语句）
>   掌握了这些语句就能表达所有逻辑 ？！

-   上世纪60-70年代，科学家发明了一种理论 —— 「结构化编程」理论

-   他们说，所有逻辑，只需要 [3 种语句](# 三种语句搞定所有逻辑)就可以表达

-   注：

    结构化编程，在某些情况下，会变得麻烦

    比如，错误处理（这时候可能需要第4种语句：go to ）

​	

### 三种语句搞定所有逻辑 ⭐️

>   所有的复杂算法，都能用这三种语句描述 —— 多么简洁啊

#### 顺序执行语句

```code
语句1
语句2
```

<img src="https://i.loli.net/2020/09/25/YrDSCLbQmoKMqE7.png" alt="image-20200925184448745" style="zoom:33%;" />

#### 条件判断语句

```code
if ... then ... else ...
if ... else if ... else
```

伪代码 👇

```
if x > 10
	语句1
else
	语句2
```

<img src="https://i.loli.net/2020/09/25/AbpNOHRTonmdDW3.png" alt="image-20200925184545839" style="zoom: 50%;" />

#### 循环语句

```code
while ... do ...
for i from 1 to n ...
```

伪代码 👇

```js
when i < 10
	语句1
  i+=1
语句2
```

<img src="https://i.loli.net/2020/09/25/UWEBmrOIRktjusf.png" alt="image-20200925184808320" style="zoom:50%;" />



>   JS 的变量提升就是个 BUG  （ 所有编程语言只有 JS 支持变量提升，JS 宛如智障🤪）
>
>   所以[前面](# 前言)说，第一门语言学习 JS 是很不友好的、可能导致学习者思维上的缺陷
>
>   +   现在要学习另外一种叫「伪代码」的东西，来弥补这块缺陷

​	

### 伪代码

>   有没有发现，尽管没有讲解这种语法，我们依旧可以通过「这种代码」来理解这些[例子](# 例1)的逻辑/目的

+   这种代码就叫  「伪代码」
+   伪代码，不属于任何一种标准语言，只是为方便程序员自己理清逻辑
+   所以只要便于自己理解，**「伪代码」可以是任意写法 **
+   作用：可以锻炼我们的大脑、思维，<u>而不是总需要依靠浏览器去判断正确性</u>

​	

### 流程图

>   流程图是一种语言，一种标准语言/标准画法

-   不同的语法逻辑，需使用相对应的某种形状来表达，是具有一定标准的。
-   **形状不可乱用，「流程图」不可乱画，必须遵循标准 **

​	

>   注：「流程图」「伪代码」，只是两种表达形式，用来**阐明逻辑**，看个人喜好使用一种即可
>
>   +   流程图，可以看到整个逻辑的脉络（可能更适合较为复杂的逻辑 ?! 🤔）
>   +   并不绝对

​	

​	

### 推荐使用 Mindjet 画流程图

>   也可以用 XMind、百度脑图 等工具代替

<img src="https://i.loli.net/2020/09/25/RDw3kJ8nz1EcXSM.png" alt="image-20200925223541977" style="zoom:50%;" />

### 流程图、伪代码的好处

#### 锻炼你的大脑

-   你必须自己画出来
-   不能运行在计算机里

#### 整理你的思路

-   思路乱，则图乱
-   伪代码都写不好，则真代码更写不好

>   帮助提高 应对复杂情况时的分析能力

​	

​	

###  用流程图找到最大数

#### 两个数中找最大数

#### N个数中找最大数

![流程图 - 找最大数](https://i.loli.net/2020/09/25/Lh8scGNQw5ioVW3.jpg)



### 总结

-   逻辑很重要

    -   理解三段论
    -   逻辑有时符合直觉，有时违反直觉。不论怎样，一定要相信逻辑

-   可以用**三种语句**<u>表达所有逻辑</u>

    1.  顺序执行语句
    2.  条件判断语句
    3.  循环语句

-   可以用「图 & 伪代码」表示上述**三种语句 **

    推论：用「图 & 伪代码」，可以<u>表达所有逻辑</u>

​	

​	

## 三、数据结构

>   「数据结构」
>
>   +   **表示数据与数据之间的关系和结构 **。
>   +   是比算法更抽象的东西，**非常抽象 **。
>   +   抽象到甚至无法举出很具体的示例来表示「什么是数据结构」，只能尽量阐述、举例

### 如何表示两个数据

>   两个人之间能有什么关系？基友，师生，父子 …  这就是他们之间的数据结构
>   他们之间的关系，就是他们的结构
>
>   两个整数之间能有什么关系？比如，1是2的前一个，2是1的后一个（1和2是前后关系）
>   虽然很抽象，但确实是种关系

#### 如果顺序有意义

>   可以用下面方法👇来表示

-   [x, y] 表示第一个是 x，第二个是 y  
-   [y, x] 表示第一个是 y，第二个是 x
    -   这就是最简单的数据结构 ——【有序的二元组】
-   比如，**坐标** 就是这样的数据结构
    -   前一个数据表示 x 轴位置、后一个数据表示 y 轴位置。
    -   如果反过来，就是另一个坐标数据了
-   对于这样的数据结构，**需要提供 first 和 last 操作 **
    -   （一共两个数据）first 返回第一个数据、last 返回第二个数据

​	

#### 如果顺序无意义

-   (x, y) 和 (y, x) 一样 —— 【无序二元组】
-   比如，**血压值**  (120, 80) 和 (80, 120) 没区别。（书写顺序任意，默认较大值是高压、较小值是低压）
-   不需要提供 first 和 last 操作
    -   因为顺序无意义，所以无需区别第一个还是最后一个

>   注：
>   上面提到的【xxx二元组】这种数据结构跟 JS 没有任何关系，只是随机一种写法来表示两个数据的关系而已
>   目前，在 JS 中只需知道【数组和对象】这两种数据结构

>   上述就是「两个数据能组成的数据结构」的举例

​	

​	

### 如何表示 N 个数据

>   N个数据，能组成什么样的数据结构
>
>   比如：一串数字，组成全部同学的分数

#### 如果顺序有意义

-   可以用一个经典的数据结构 —— **数组** 来表示  [ a1, a2, … , aN ]

-   数组需要提供**索引操作** get(i)：给定一个数字 i，返回对应的某项数据

-   还要提供  add / indexOf / delete  操作（增删改查的接口）

    ```js
    // indexOf 在数组中找到一个给定元素的第一个索引，如果不存在，则返回-1
    const beasts = ['ant', 'bison', 'camel', 'duck', 'bison'];
    beasts.indexOf('bison');  // 1
    ```

​	

#### 如果顺序没有意义

>   实际中，很少有数据顺序是无意义的情况

-   **集合** 表示  { a1, a2, … , aN }
-   要提供  add / delete / has  操作

>   注意：当前md中的所有代码，与 JS 无关

​	

​	

### 如何表示 N 对 N 数据

也就是 2*N 个数据

#### 比如，学号对应名字

>   用「哈希表」表示

-   哈希表，是一种抽象的数据结构，有 key 和 value
-   key 可以是字符串、数字、布尔、甚至对象 … （因为「哈希表」是一种抽象的数据结构）

```code
hash = { 1001 => '小芳', 1002 => '小红'} 
```

+   学号1001的同学，名字叫小芳；学号1002的同学，名字叫小红
+   这种 key 对应 value 的结构，叫做「哈希表」

​		

>   JS 对象，区别于「哈希表」

+   「哈希表」的 key 可以是字符串、数字、布尔、甚至对象 … 因为「哈希表」是一种抽象的数据结构
+   **JS 对象的 key 只能是字符串 **。
+   可以认为，JS 对象，只是一种对哈希的部分实现而已。 
+   而且 **JS 对象永远有一个隐藏属性 _\_proto__，而「哈希表」里没有原型 **

​	

​	

### 数据结构 = 数据形式 + 操作

>   不同形式的数据暴露不同的操作

+   数据形式
    +   就是逻辑形式

+   操作
    +   数组必须提供 add / indexOf / delete 增删改查 的接口
    +   如果是集合，就不需要提供 indexOF，需要 add / delete / has  操作
    +   这些接口，都属于操作

​	

​	

## 有没有觉得很抽象

>   数据结构都是抽象的
>   数据结构的全名，就叫做「抽象数据结构」

>   前面都属于非常抽象的描述
>   下面举一些**具体的例子**，讲讲为什么数据结构这么重要（什么是数据结构，懂数据结构的人有多🐮B）

## 面试题

>     有一段英文对白，里面只会出现  a-z  A-Z、标点符号和空格，请告诉我**每个字符出现的次数 **

-   例如  Hi, I'm Sam
-   需求：输出 a 出现 1 次，H 出现 1 次 … 

>   懂「数据结构」的程序员一看完问题，就能抽象的发现，这与「哈希表」的结构形式一样
>   key : value

伪代码

```code
str = `Hi, I'm Sam`
hash = {}
for i from 0 to str.length-1
	key = str.get(i)
	value = hash.get(key,0) + 1      // value是上一次key值加1，如果上一次没有值就默认是0
	hash.set(key, value)
for key,value from hash 
	print `${key} 出现了 ${value} 次`
```

JS 代码

```js
function times(str) {
  let obj = {};
  for (let i = 0; i < str.length; i++) {
    if (!obj[str[i]]) {
      obj[str[i]] = 1;
    } else {
      obj[str[i]] += 1;
    }
  }
  for(let key in obj){
   console.log(`${key} 出现了 ${obj[key]} 次`)
  }
}
times(`Hi, I'm Sam`);
```

<img src="https://i.loli.net/2020/10/06/7FfAbuWNH9SnvUP.png" alt="image-20201006222139778" style="zoom: 67%;" />

​	

## 数据结构的作用

### 提前记住一些结构

>   如果能提前就记住一些数据结构，这是最好的（如，数组、hash … ）

-   这些结构很常见
-   这些结构，能让你很快理清思路
-   这些结构，面试经常问

### 锻炼你的抽象能力

-   一种数据结构往往能解决很多类似的问题
-   如果选错了数据结构，那基本玩完，算法再厉害也没用。因为在错误的数据结构下，压根就得不到正确的思路
-   牛逼的程序员更重视数据结构，而不是算法
    -   能分析出数据是怎样的结构，这是最重要的
    -   再根据数据结构去想算法



>   想快速有效的理解数据结构，快速入门算法和数据结构
>
>   +   只推荐一种方式：**搞懂 8 种排序算法 **
>   +   每一种排序算法，都对应不同的数据结构。搞懂8个排序算法，基本学会了 5-6 个数据结构

后面会总结：

-   「归并排序」
-   「快速排序」
-   「计数排序」
-   「选择排序 」
-   以及「对应的数据结构」 

搞定这 4 种排序算法，基本上也就会了 3-4 个数据结构，可以应付めんせつ了



>   数据结构在工作中用的多吗？
>
>   +   这其实是主观上的
>       +   举个例子，在武侠世界里，有内功的人打出的拳肯定比普通人打出的拳更扎实。
>           别人打了一拳，很难说他用没用内功。但如果你没有内功，那就只能干打拳。
>   +   所以说，对于程序员来说，懂数据结构的人写的代码，质量上一定更高
>   +   但是如果具体问别人：写代码时，有没有回忆起10年前学的数据结构呢？当事人自己可能也不知道
>   +   所以要**把「数据结构」融会到自己的思想中，内化 **（ hash、二元组 … ）

​	

​	

​	

### 补充：一些走❤️的东西

>   写代码会有种创造世界的成就感（就像 Minecraft）
>   写代码的控制感会比玩游戏的控制感更强烈一些，所以有些人可能代码写多了反而不爱玩游戏了

>   数据结构和伪代码，就是让你通过自己的方式和逻辑来解决问题，不要依赖浏览器等工具的调试，而是依靠自己的大脑，看它能不能想出一些东西

>   学习编程、写代码，一定是先定一个目的
>
>   +   「我要学好编程」这种不是目的
>   +   「今天我要写出一个时钟」这种才是目的


