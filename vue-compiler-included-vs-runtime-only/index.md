# æ·±å…¥ç†è§£ Vue å®Œæ•´ç‰ˆä¸éå®Œæ•´ç‰ˆ


<!--more-->

## æ·±å…¥ç†è§£ä¸¤ç§åŒºåˆ«

>   Vue å®Œæ•´ç‰ˆ
>
>   Vue éå®Œæ•´ç‰ˆï¼ˆè¿è¡Œç‰ˆï¼‰

|               | Vue å®Œæ•´ç‰ˆ                               | Vue éå®Œæ•´ç‰ˆï¼ˆè¿è¡Œç‰ˆï¼‰                  | è¯„ä»·ï¼ˆåŒºåˆ«ï¼‰                       |
| ------------- | ---------------------------------------- | --------------------------------------- | ---------------------------------- |
| ç‰¹ç‚¹          | æœ‰ compiler                              | æ²¡æœ‰ compiler                           | compiler å  40% ä½“ç§¯               |
| è§†å›¾          | å†™åœ¨ HTML é‡Œ<br />æˆ–è€…å†™åœ¨ template é€‰é¡¹ | å†™åœ¨ render å‡½æ•°é‡Œ<br />ç”¨ h æ¥åˆ›å»ºæ ‡ç­¾ | h æ˜¯å°¤é›¨æºªå†™å¥½ä¼ ç»™ render çš„       |
| CDN å¼•å…¥      | vue.js                                   | vue.runtime.js                          | æ–‡ä»¶åä¸åŒï¼Œç”Ÿäº§ç¯å¢ƒåç¼€ä¸º .min.js |
| webpack å¼•å…¥  | éœ€è¦é…ç½® alias                           | é»˜è®¤ä½¿ç”¨æ­¤ç‰ˆ                            | å°¤é›¨æºªé…ç½®çš„                       |
| @vue/cli å¼•å…¥ | éœ€è¦é¢å¤–é…ç½®                             | é»˜è®¤ä½¿ç”¨æ­¤ç‰ˆ                            | å°¤é›¨æºªã€è’‹è±ªç¾¤é…ç½®çš„               |

### ç‰¹ç‚¹

>   ã€Œå®Œæ•´ç‰ˆã€æœ‰ compilerï¼Œã€Œéå®Œæ•´ç‰ˆã€æ²¡æœ‰ compiler

+   compiler ç¼–è¯‘å™¨ï¼Œæœ‰ç¼–è¯‘ HTML çš„åŠŸèƒ½ï¼Œè¿™ä¸ªåŠŸèƒ½å¾ˆå¤æ‚ã€å ç©ºé—´
+   å¯¼è‡´ã€Œå®Œæ•´ç‰ˆã€æ¯”ã€Œéå®Œæ•´ç‰ˆã€å¤§ 40% çš„ä½“ç§¯

### è§†å›¾

>   æ¯”å¦‚è¦å†™ä¸€ä¸ª button

+   ä½¿ç”¨ã€Œå®Œæ•´ç‰ˆã€ï¼Œbutton å¯ä»¥å†™åœ¨ HTML é‡Œæˆ–è€…å†™åœ¨ template é€‰é¡¹é‡Œ
+   ä½¿ç”¨ã€Œéå®Œæ•´ç‰ˆã€ï¼Œåªèƒ½å†™åœ¨ render å‡½æ•°é‡Œã€‚ç”¨ render å‡½æ•°çš„å‚æ•° h å‡½æ•°æ¥åˆ›å»ºæ ‡ç­¾

+   h æ˜¯å°¤é›¨æºªå†™å¥½å¹¶ä¼ ç»™ render çš„ï¼Œæ‰€ä»¥å¼€å‘è€…å¯ä»¥è·å–åˆ°è¿™ä¸ª h å‡½æ•°ã€‚
    +   æ³¨æ„ï¼šå› ä¸º h å‡½æ•°æ˜¯ä½œä¸º render å‡½æ•°çš„å‚æ•°ä¼ é€’è¿›æ¥çš„ï¼Œæ‰€ä»¥å‚æ•°å h å¯ä»¥ä»»æ„ä¿®æ”¹ï¼Œä½† vue æ–‡æ¡£é‡Œç”¨çš„æ˜¯ hï¼Œæ‰€ä»¥æ¨èä¸è¦ä¿®æ”¹ï¼Œä»ä½¿ç”¨ h ä½œä¸ºå‡½æ•°å

### å¼•å…¥

#### é€šè¿‡ CDN å¼•å…¥

>   åœ¨ index.htmlï¼Œé€šè¿‡ script æ ‡ç­¾å¼•å…¥
>
>   [å®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/v2/guide/installation.html#%E7%9B%B4%E6%8E%A5%E7%94%A8-lt-script-gt-%E5%BC%95%E5%85%A5)ï¼šç”¨ `<script>` æ ‡ç­¾å¼•å…¥ï¼ŒVue ä¼šè¢«æ³¨å†Œä¸ºä¸€ä¸ªå…¨å±€å˜é‡

+   æ–‡ä»¶åä¸º  vue.jsï¼Œè¡¨ç¤ºã€Œå®Œæ•´ç‰ˆã€
+   æ–‡ä»¶åä¸º  vue.runtime.jsï¼Œè¡¨ç¤ºã€Œéå®Œæ•´ç‰ˆã€
+   å¦‚æœè¦ä¸Šçº¿éƒ¨ç½²ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰ï¼Œéœ€è¦ä½¿ç”¨åç¼€ä¸º .min.js çš„æ–‡ä»¶
    +   .min.js æ˜¯å»æ‰æ³¨é‡Šã€ä»£ç å‹ç¼©ä¹‹åçš„ç‰ˆæœ¬ï¼Œä½“ç§¯æ›´å°
    +   vue.min.js å’Œ vue.runtime.min.js

â€‹	

#### é€šè¿‡ webpack å¼•å…¥

>   ç”¨ webpack å¼•å…¥ vue çš„é…ç½®ï¼Œæ¯”è¾ƒéº»çƒ¦

>   é€šè¿‡ webpack å¼•å…¥ï¼Œé»˜è®¤ä½¿ç”¨ã€Œéå®Œæ•´ç‰ˆã€ï¼ˆè¿™æ˜¯å°¤é›¨æºªé…ç½®çš„ï¼‰

å¦‚æœæƒ³é€šè¿‡ webpack å¼•å…¥ã€Œå®Œæ•´ç‰ˆã€ï¼Œå¯ä»¥å‚è€ƒ

+   âš ï¸ [Vue å®‰è£…æ–‡æ¡£](https://cn.vuejs.org/v2/guide/installation.html?#%E8%BF%90%E8%A1%8C%E6%97%B6-%E7%BC%96%E8%AF%91%E5%99%A8-vs-%E5%8F%AA%E5%8C%85%E5%90%AB%E8%BF%90%E8%A1%8C%E6%97%B6) ã€[webpack æ–‡æ¡£](https://webpack.js.org/configuration/resolve/#resolvealias)
+   â­•ï¸ [webpack å¼•å…¥ Vue çš„ä¸¤ç§æ–¹å¼](https://www.jianshu.com/p/fb265cdb920b)

â€‹	

#### é€šè¿‡ @vue/cli å¼•å…¥

>   é€šè¿‡ @vue/cli åˆ›å»ºçš„é¡¹ç›®ï¼Œé»˜è®¤ä½¿ç”¨ã€Œéå®Œæ•´ç‰ˆã€ï¼ˆè¿™æ˜¯å°¤é›¨æºªã€è’‹è±ªç¾¤é…ç½®çš„ï¼‰

å¦‚æœæƒ³å¼•å…¥ã€Œå®Œæ•´ç‰ˆã€ï¼Œå¯ä»¥å‚è€ƒ

+   âš ï¸[Vue Cli webpack æ–‡æ¡£](https://cli.vuejs.org/zh/guide/webpack.html#%E7%AE%80%E5%8D%95%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F)
+   â­•ï¸ [Issuesï¼šhow to set alias](https://github.com/vuejs/vue-cli/issues/2398)ã€[chainWebpack æ–‡æ¡£](https://github.com/Yatoo2018/webpack-chain/tree/zh-cmn-Hans#%E9%85%8D%E7%BD%AE-resolve-%E5%88%AB%E5%90%8D)ã€[Vueè„šæ‰‹æ¶ä¸­é…ç½®åˆ«åğŸ“Œ](https://www.jianshu.com/p/0c4260120c2b)

```js
// vue.config.js
const path = require("path")
module.exports = {
  // æ–¹æ³•ä¸€
  chainWebpack: config => {
    config.resolve.alias
      .set("vuehaha", path.resolve("./node_modules/vue/dist/vue.esm.js")) 
    	// ç»™ã€Œvueå®Œæ•´ç‰ˆã€å–ä¸ªåˆ«åï¼Œ"vuehaha"ï¼ˆæ…ç”¨ç¬¦å·ï¼‰
  }
  // æ–¹æ³•äºŒ
  // configureWebpack: {
  //   resolve: {
  //     alias: {
  //       "vuehaha": path.resolve("./node_modules/vue/dist/vue.esm.js")
  //     }
  //   }
  // }
}
```

```js
// main.js å…¥å£æ–‡ä»¶
import Vue from "vuehaha"  // ğŸ‘ˆğŸ‘ˆğŸ‘ˆ
new Vue({
  el: "#app",
  // ğŸ‘‡ å®Œæ•´ç‰ˆï¼Œå¯ä»¥ã€Œä»index.htmlä¸­ã€orã€Œä»templateé€‰é¡¹ä¸­ã€ç›´æ¥è·å–è§†å›¾
  template:`
	<div>
      {{n}}
      <button @click="add">+1</button>
  	</div>
	`,
  data: { n: 0 },
  methods: {
    add() { this.n += 1 }
  }
})
```

â€‹	

### template å’Œ render

>   template å’Œ render æ€»æ˜¯äºŒé€‰ä¸€ä½¿ç”¨ã€‚å¦‚æœäºŒè€…åŒæ—¶ä½¿ç”¨ï¼Œå¿…ç„¶æœ‰ä¸€ä¸ªä¼šå¤±æ•ˆ

-   template æ˜¯ç»™ã€ŒVue å®Œæ•´ç‰ˆã€ä½¿ç”¨çš„
    -   å®Œæ•´ç‰ˆå¿…é¡»è¦å†™ html å­—ç¬¦ä¸²ï¼Œå¯ä»¥å†™åˆ° template é€‰é¡¹é‡Œï¼Œä¹Ÿå¯ä»¥å†™åˆ° HTML æ–‡ä»¶é‡Œ
-   render æ˜¯ç»™ã€ŒVue éå®Œæ•´ç‰ˆã€ä½¿ç”¨çš„
    -   éå®Œæ•´ç‰ˆå¿…é¡»è¦å†™ render å‡½æ•°

â€‹	

## Vue å®ä¾‹çš„ä½¿ç”¨

>   éœ€æ±‚ï¼šå®ç°ç‚¹å‡»æŒ‰é’®åŠ ä¸€ã€‚å®ç°å››ç§æ–¹æ¡ˆä¸‹çš„ Demo

### æ–¹æ¡ˆä¸€

>   CDN å¼•å…¥ Vue å®Œæ•´ç‰ˆï¼ˆvue.js æˆ– vue.min.jsï¼‰
>
>   +   åŒ…å«ç¼–è¯‘å™¨ compilerï¼Œè§†å›¾å¯ä»¥ç›´æ¥ä» HTML é‡Œ æˆ–è€… template é€‰é¡¹é‡Œè·å–
>   +   [å®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/v2/guide/installation.html#%E6%9C%AF%E8%AF%AD) â€”â€” ç¼–è¯‘å™¨ï¼šç”¨æ¥å°†æ¨¡æ¿å­—ç¬¦ä¸²ç¼–è¯‘æˆä¸º JavaScript æ¸²æŸ“å‡½æ•°çš„ä»£ç 

>   **[åœ¨çº¿ç¤ºä¾‹](https://codesandbox.io/s/beautiful-nobel-hdhj4?file=/src/main.js)ï¼šHTML**
>
>   **[åœ¨çº¿ç¤ºä¾‹](https://codesandbox.io/s/youthful-night-h7jiq?file=/src/main.js)ï¼štemplate**

### æ–¹æ¡ˆäºŒ

>   CDN å¼•å…¥ Vue éå®Œæ•´ç‰ˆï¼ˆvue.runtime.js æˆ– vue.runtime.min.jsï¼‰
>
>   +   æ²¡æœ‰ç¼–è¯‘å™¨ï¼Œæ— æ³•ç¼–è¯‘ HTMLï¼Œåªèƒ½ä» JS æ„å»ºè§†å›¾
>   +   å¼€å‘è€…éœ€ä¹¦å†™ render å‡½æ•°ï¼ˆ h æ„å»ºæ–¹æ³• ï¼‰[å®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/v2/guide/installation.html#%E8%BF%90%E8%A1%8C%E6%97%B6-%E7%BC%96%E8%AF%91%E5%99%A8-vs-%E5%8F%AA%E5%8C%85%E5%90%AB%E8%BF%90%E8%A1%8C%E6%97%B6)
>   +   h æ„å»ºæ–¹æ³•çš„ä»£ç éå¸¸å¤æ‚ï¼Œæ‰€ä»¥ä¸å»ºè®®ä½¿ç”¨è¿™ç§æ–¹æ¡ˆ

>   **[åœ¨çº¿ç¤ºä¾‹](https://codesandbox.io/s/quizzical-swirles-vn4w1?file=/src/main.js)**

### æ–¹æ¡ˆä¸‰

>   CDN å¼•å…¥ Vue éå®Œæ•´ç‰ˆï¼Œé…åˆ Vue Loaderï¼ˆ[å®˜æ–¹æ–‡æ¡£](https://vue-loader.vuejs.org/zh/#vue-loader-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F)ï¼‰å’Œ .vue æ–‡ä»¶
>
>   +   Vue Loader å¯ä»¥æŠŠä¸€ä¸ª**å•ç‹¬çš„ .vue æ–‡ä»¶**ç¿»è¯‘æˆä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡åŒ…å« render å‡½æ•°ï¼ˆh æ„å»ºæ–¹æ³•ï¼‰
>   +   å¼€å‘è€…å¯ä»¥åœ¨ä¸å†™ h å‡½æ•°çš„åŸºç¡€ä¸Šï¼Œå¾—åˆ° h å‡½æ•°

>   Vue Loader æ˜¯ webpack çš„ loaderï¼Œå®ƒå…è®¸ä½ ä»¥ä¸€ç§åä¸º**å•æ–‡ä»¶ç»„ä»¶ (SFCs)** çš„æ ¼å¼æ’°å†™ Vue ç»„ä»¶
>
>   +   è¿™å°±æ˜¯ webpack ä¸ºå‰ç«¯å¸¦æ¥çš„å¯èƒ½ã€‚å…è®¸ä»¥ä»»æ„å½¢å¼ï¼ˆå¦‚ .vue æ–‡ä»¶ï¼‰ç»„ç»‡ä¸€ä¸ªå¯¹è±¡ï¼Œåªè¦æœ€åèƒ½é€šè¿‡ä¸€ä¸ª loader æŠŠå®ƒè¿˜åŸæˆè¿™ä¸ªå¯¹è±¡å³å¯

>   **[åœ¨çº¿ç¤ºä¾‹](https://codesandbox.io/s/relaxed-tdd-bjums?file=/src/Demo.vue)**

â€‹	

### æœ€ä¼˜æ–¹æ¡ˆ â€” æ–¹æ¡ˆä¸‰

>   æœ€ä½³å®è·µï¼š**æ€»æ˜¯ä½¿ç”¨éå®Œæ•´ç‰ˆï¼Œç„¶åé…åˆ vue-loader å’Œ .vue æ–‡ä»¶**
>
>   +   vue-loader ç”¨äºåŠ è½½/ç¿»è¯‘ .vue æ–‡ä»¶

å…·ä½“æ€è·¯ï¼ˆä¸ºä»€ä¹ˆè¯´è¿™ä¸ªæ˜¯æœ€ä¼˜æ–¹æ¡ˆï¼‰

1.  ä¿è¯ç”¨æˆ·ä½“éªŒï¼Œç”¨æˆ·ä¸‹è½½çš„ JS æ–‡ä»¶ä½“ç§¯æ›´å°ï¼Œä½†**åªæ”¯æŒ h å‡½æ•°**

2.  ä¿è¯å¼€å‘ä½“éªŒï¼Œå¼€å‘è€…å¯ç›´æ¥åœ¨ vue æ–‡ä»¶é‡Œå†™ HTML æ ‡ç­¾ï¼Œè€Œ**ä¸å†™ h å‡½æ•°**

3.  è„æ´»è®© loader åšï¼Œvue-loader ä¼šæŠŠ .vue æ–‡ä»¶é‡Œå¼€å‘è€…å†™çš„ HTML **è½¬ä¸º h å‡½æ•°**

    +   å¼€å‘è€…å¯ä»¥åœ¨ä¸å†™ h å‡½æ•°çš„åŸºç¡€ä¸Š ,ï¼ˆé€šè¿‡ vue-loaderï¼‰å¾—åˆ° h å‡½æ•°
    +   æ—¢ä¿è¯äº†å¼€å‘ä½“éªŒï¼Œåˆä¿è¯äº†ç”¨æˆ·ä½“éªŒ
    +   psï¼šæŠŠæ‰€æœ‰ç»†èŠ‚**å°è£…**åˆ°ä¸€ä¸ªï¼ˆç±»ã€å‡½æ•°ã€æ’ä»¶â€¦ï¼‰é‡Œï¼Œè¿™å°±æ˜¯å·¥ç¨‹å¸ˆè¦åšçš„



â€‹	

## åœ¨çº¿æ­å»º Vue é¡¹ç›®

é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ @vue/cli åˆ›å»º vue é¡¹ç›®ï¼ˆsh ï¼švue create xxx-demoï¼‰

ä½†è¿˜æœ‰å¦ä¸€ç§æ›´æ–¹ä¾¿çš„æ–¹å¼ â€”â€” [codesandbox.io](https://codesandbox.io/)    

>   CodeSandbox æ˜¯ä¸€ä¸ªåœ¨çº¿çš„ä»£ç ç¼–è¾‘å™¨ï¼Œä¸»è¦èšç„¦äºåˆ›å»º Web åº”ç”¨é¡¹ç›®ã€‚å¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯ä¸€ä¸ªæµè§ˆå™¨ç«¯çš„æ²™ç›’è¿è¡Œç¯å¢ƒï¼Œæ”¯æŒå¤šç§æµè¡Œçš„æ„å»ºæ¨¡æ¿ï¼Œä¾‹å¦‚ create-react-appã€ vue-cliã€parcel ç­‰ç­‰ã€‚ å¯ä»¥ç”¨äºå¿«é€ŸåŸå‹å¼€å‘ã€DEMO å±•ç¤ºã€Bug è¿˜åŸç­‰ç­‰ã€‚

+   æ‰“å¼€ç½‘å€ï¼Œç‚¹å‡» create sandboxï¼Œé€‰æ‹© vue å›¾æ ‡ï¼Œå³å¯åœ¨çº¿åˆ›å»ºå‡ºä¸€ä¸ª vue é¡¹ç›®ï¼ˆå¦‚ä¸‹å›¾ï¼‰
+   åœ¨çº¿é¡¹ç›®æ”¯æŒä¸‹è½½ ZIP ï¼Œè§£å‹å³ç”¨ï¼ˆä¸è¿‡é€šå¸¸éƒ½æ˜¯æµ‹è¯• demo ä¹Ÿæ— éœ€ä¸‹è½½ï¼‰

![image-20201222202934247](https://imgsubmit.oss-cn-beijing.aliyuncs.com/img/image-20201222202934247.png)

>   **æç¤º**
>
>   [codesandbox.io](https://codesandbox.io/) ç™»å½•ååªèƒ½åˆ›å»º 50 ä¸ªé¡¹ç›®
>
>   ä½†ä¸ç™»å½•å¯ä»¥åˆ›å»ºæ— é™ä¸ªï¼ˆæ³¨æ„æ¸…ç† cookieï¼‰ï¼Œæ‰€ä»¥ä¸è¦ç™»å½•ï¼ˆDo Not Sign Inï¼‰ğŸ˜‰
